<?php 
/*
	Copyright (c) 2005-2016, Guru Sistemas and/or Gustavo Adolfo Arcila Trujillo
	All rights reserved.
	www.gurusistemas.com
	
	phpMyDataGrid Professional IS NOT FREE, may not be re-sold or redistributed as a single library.
	
	If you want to use phpMyDataGrid Professional on any of your projects, you Must purchase a license.
	
	You can buy the full source code or encoded version at http://www.gurusistemas.com/
	also can try the donationware version, which can be downloaded from http://www.gurusistemas.com/
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS  "AS IS"  AND ANY EXPRESS  OR  IMPLIED WARRANTIES, INCLUDING, 
	BUT NOT LIMITED TO,  THE IMPLIED WARRANTIES  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT
	SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,  INDIRECT,  INCIDENTAL, SPECIAL, EXEMPLARY,  OR CONSEQUENTIAL 
	DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF  USE, DATA, OR PROFITS;  OR BUSINESS 
	INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE 
	OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
	
	For more info, samples, tips, screenshots, help, contact, support, please visit phpMyDataGrid site  
	http://www.gurusistemas.com/
*/
                                                                                                                                                                                                        define("DG_IsDelete",3); define("DG_IsInline",4); define("DG_IsAdding",5); define("DG_IsSaving",6);  class datagrid{   var $methodForm = "POST";  var $imgpath = "images/";  var $ButtonWidth = 30;  var $backtick = "`";  var $salt = "salt&pepper";  var $liquidTable = false;  var $width = "100%";  var $conditionEdit = "";  var $conditionDelete = "";  var $condition = "";  var $conditionalStyle = "";  var $cellCondition = array();  var $cellStyle = array();  var $decimalsep = ".";  var $decimalDigits = 2;  var $moneySign = '$';  var $checkable = false;  var $titulo = "";  var $footer = "";  var $poweredby = false;  var $zebraLines = 1;  var $retcode = false;  var $showToOf = true;  var $AllowChangeNumRows = true;  var $dgAjaxChanged = "#000";  var $search = "";  var $bolCalendar = false;  var $debug = false;  var $keyfield = "";  var $strMailErrors = "";  var $bolShowErrors = false;  var $logfile = "logs/phpMyDGlogError.txt";  var $logSQLError = true;  var $tablename = "";  var $defaultdateformat = "dmy";  var $defaultdateseparator= "/";  var $actHeader = array();  var $actFooter = array();  var $csvSeparator = ",";  var $charset = "ISO-8859-1";  var $sqlcharset = "";  var $sqlDataCoding = "";  var $sql = "";  var $sqlCount = "";  var $show404image = false;  var $uploadDirectory = "/";  var $renameUploads = false;  var $getMyOwnButtons = false;  var $cssPrinter = "css/b-w-print.css";  var $PDFformat = "A4";  var $PDForientation = "P";  var $PDFfont = "Arial";  var $PDFfontsize = 9;  var $PDFfill = array("R"=>192,"G"=>192,"B"=>192);  var $PDFdraw = array("R"=>0,"G"=>0,"B"=>0);  var $PDFfooter = "";  var $lngPath = "";   var $addonClic = "DG_addrow();";  var $addonClicMenu = "DG_addrow();";  var $edtonClic = "DG_editrow(\"%s\",\"%s\");";  var $edtonClicMenu = 'DM_editrow("\'+MM_parameters+\'");';  var $delonClic = "DG_deleterow(\"%s\",\"%s\")";  var $delonClicMenu = 'DM_deleterow("\'+MM_parameters+\'")';  var $multiDeleteonClic = 'DG_delete_selection()';  var $srconClic = "DG_showSearchBox()";  var $srconClicMenu = "DG_showSearchBox()";  var $vieonClic = "DG_viewrow(\"%s\",\"%s\");";  var $vieonClicMenu = 'DM_viewrow("\'+MM_parameters+\'");';  var $detonClic = "DG_viewdetails(\"%s\",\"%s\",\"\");";  var $detonClicMenu = 'DM_viewdetails("\'+MM_parameters+\'");';   var $exportTo = "DG_showExportBox()";  var $uponClic = "DG_Do(10,\"%s\")";  var $dnonClic = "DG_Do(11,\"%s\")";  var $saveAddAction = "DG_doSaveAdd(";  var $saveAction = "DG_doSave(";   var $actionCloseDiv = "DG_closeDiv();";  var $actionCloseUpl = 'DG_closeDiv("uplDiv%s");';  var $afterAction = "";  var $afterOnlineEdition = "";  var $dgGridID = "";  var $dgVersion = "Evolution Pro";  var $objMenu;  var $returnEntities = false;  var $numerics = "0-1-2-3-4-double-float-integer-signed-count-percentage-promille";  var $fieldsArray = array();  var $arrGridData = array();  var $sl = "";  var $br = "";  var $tb = "";  var $BtnsColWidth = 0;  var $orderArrows = true;  var $useRightClickMenu = false;  var $orderColName = "";  var $orderExpr = "";  var $tableWidth = 0;  var $totalize = array();  var $columns = 0;  var $countRecords = 0;  var $totalRecords = 0;  var $pagination = "mixed";  var $pgInTable = false;  var $linksperpage = 3;  var $maxRec = 20;  var $btnColumn = -1;  var $recno = 0;  var $ajaxEditable = "";  var $parameters = "";  var $validations = array();  var $FormName = "";  var $doForm = false;  var $calendarStr = "";  var $where = "";  var $groupby = "";  var $having = "";  var $LimitAdd = 0;  var $arrSQLFld = array();  var $errorSQL = false;  var $allConditions = "";  var $hasCalcs = false;  var $hasChart = false;  var $nullDateFormat = "0000-00-00";  var $toolbar = false;  var $nowindow = false;  var $template = false;  var $templatePath = "";  var $btnOrder = "[E][V][D][Up][Dn]";  var $typeOfClick = 1;  var $extraParameters = array();   var $addBtn = false;  var $updBtn = false;  var $delBtn = false;  var $chkBtn = false;  var $exportosheet = false;  var $exportopdf = false;  var $exportocsv = false;  var $exportoxml = false;  var $printer = false;  var $allExp = false;  var $elements_tinyMCE = array();  var $tinyMCE_theme = "simple";  var $tinyMCE_options = "";   var $validImgExtensions = array("gif","jpg","jpeg","png");  var $phpExcelOutput = 'Excel2007';  var $exportExcelFirstCell = 'A1';  var $defaultPDFRenderer = 2;  var $domPDFpath = "classes/dompdf";  var $mPDFpath = "classes/mPDF";  var $tcPDFpath = "classes/tcpdf";  var $pdfLeftMargin = 5;  var $pdfRightMargin = 5;  var $pdfTopMargin = 10;  var $pdfBottomMargin = 10;     var $images = array(  'add' => 'add.gif',  'ajax' => 'ajax.gif',  'arrup' => 'arrup.gif',  'arrdn' => 'arrdn.gif',  'ASC' => 'asc.gif',  'ascending' => 'ascending.gif',  'blank' => 'blank.gif',  'cancel' => 'cancel.gif',  'calendar' => 'calendar.gif',  'close' => 'close.gif',  'csv' => 'csv.gif',  'dascending' => 'aascending.gif',  'ddescending' => 'ddescending.gif',  'DESC' => 'desc.gif',  'descending' => 'descending.gif',  'down' => 'down.gif',  'down_off' => 'down_off.gif',  'edit' => 'edit.gif',  'editrows' => 'editrows.gif',  'erase' => 'erase.gif',  'erasechk' => 'erase_selected.gif',  'export' => 'export.gif',  'minidown' => 'minidown.gif',  'miniup' => 'miniup.gif',  'noimage' => '404.gif',  'pdf' => 'pdf.gif',  'printer' => 'printer.gif',  'refresh' => 'refresh.gif',  'save' => 'save.gif',  'search' => 'search.gif',  'sheet' => 'excel.gif',  'up' => 'up.gif',  'upload' => 'upload.gif',  'up_off' => 'up_off.gif',  'view' => 'view.gif',  'xml' => 'xml.gif',  'first' => 'first.gif',  'last' => 'last.gif',  'first_off' => 'first_off.gif',  'last_off' => 'last_off.gif',  'all_pages' => 'all_pages.gif',  'this_page' => 'this_page.gif',  'selected_rows'=> 'selected_rows.gif',  'cancel_search'=> 'cancel_search.gif',  'dnarrow' => 'dnarrow.gif',  'options' => 'options.gif',  'node' => 'node.gif',  'closenode' => 'closenode.gif',  'bck_type' => 'background_files.gif',  'icn_pdf' => 'icn_pdf.jpg',  'icn_rar' => 'icn_rar.jpg',  'icn_zip' => 'icn_zip.jpg',  'icn_doc' => 'icn_doc.jpg',  'icn_xls' => 'icn_xls.jpg',  'icn_ppt' => 'icn_ppt.jpg'  );     var $message = array(  'cancel' => 'Cancel',  'close' => 'Close',  'save' => 'Save',  'savenew' => 'Save & New',  'saving' => 'Saving . . .',  'loading' => 'Loading . . .',  'edit' => 'Edit',  'delete' => 'Delete',  'deletechk' => 'Delete selected',  'add' => 'New',  'view' => 'View',  'addRecord' => 'Add record',  'edtRecord' => 'Edit record',  'chkRecord' => 'View record',  'false' => 'No',  'true' => 'Yes',  'prev' => 'Previous',  'next' => 'Next',  'confirm' => 'Delete this record?',  'confirms' => 'Delete selected records?',  'search' => 'Search',  'resetSearch' => 'Reset Search',  'doublefield' => 'Duplicate field definition',  'norecords' => 'No records found',  'errcode' => 'Error in Data [Incorrect verification code]',  'noinsearch' => 'Field not available for search',  'noformdef' => 'To use "checkable" feature you must define a FORM name by using Form Function',  'cannotadd' => 'Can not add records to this grid',  'cannotedit' => 'Can not edit records in this grid',  'cannotsearch'=> 'Can not make searchs in this grid',  'cannotdel' => 'Can not delete records in this grid',  'sqlerror' => 'SQL Error found in query:',  'errormsg' => 'Error message:',  'errorscript' => 'SQL Error in script:',  'display' => 'Displaying rows',  'to' => 'to',  'of' => 'of',  'page' => 'Page',  'searchby' => 'Search by',  'qsearch' => 'Quick search',  'calendar' => 'Calendar',  'sa' => 'Sort ascending',  'sd' => 'Sort descending',  'ssa' => 'Attach sort ascending',  'ssd' => 'Attach sort descending',  'exportButton'=> 'Export',  'export' => 'Export to ...',  'sheet' => 'Export to datasheet',  'exporP' => 'Export this page',  'exporA' => 'Export all pages',  'exporS' => 'Export selected rows',  'pdf' => 'Export to PDF',  'csv' => 'Export to CSV',  'xml' => 'Export to XML',  'printer' => 'Printer Friendly',  'refresh' => 'Refresh',  'editrows' => 'Number of rows to display per page',  'months' => 'January,February,March,April,May,June,July,August,September,October,November,December',  'days' => 'Sunday,Monday,Tuednesday,Wednesday,Thursday,Friday,Saturday',  'noimage' => 'Image not found!',  'upload' => 'Upload',  'onlyimages' => 'Only image files may be uploaded',  'selectimage' => 'Please select the image to upload',  'norecselect' => 'Please select at least one record',  'failedupl' => 'Failed to upload file',  'nokey' => 'You must define the Key Field for transactions like View, Edit, Delete or AJAX edition',  'ErrorInline' => 'Error saving data, please try again. If the error remains, please contact the site-admin',  'arrup' => 'Up',  'arrdn' => 'Down',  'first' => 'First page',  'last' => 'Last page',  'xportdetails'=> 'Include detail lines',  'columns' => 'Columns',  'node' => 'View Details',  'closenode' => 'Hide Details',  'invalidfile' => 'File type not allowed'  );    function __construct($scriptName="", $gridID=""){  if (empty($scriptName)) $scriptName=basename($_SERVER["PHP_SELF"]); $this->scriptName=$scriptName;  $this -> validName = array('A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z',  'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z',  '1','2','3','4','5','6','7','8','9','0',"_");  $this -> dgGridID = "";  for ($n=0; $n <= strlen($gridID); $n++){  $c = substr($gridID,$n,1);  if (in_array($c, $this -> validName)) $this -> dgGridID .= $c;  }  $this -> strDebug[] = "Script Name: " . $this -> scriptName;  $this -> strDebug[] = "Script ID: " . $this -> dgGridID;  }        function conectadb($strServer, $strUsername, $strPassword, $strDatabase, $useADOdb=false, $strType="mysql", $intPort=3306){  $strSQL = $this -> sqlDataCoding;  if ($this -> isADO = $useADOdb){  if (strtolower($strType) != "mysql" and $this -> backtick == "`") $this -> backtick = "";  $this -> strDebug[] = "Connectiontype: ADOdb";  $this -> connectionHandler = &ADONewConnection($strType);  $this -> connectionHandler -> Connect($strServer, $strUsername, $strPassword, $strDatabase);  if ($this -> debug) $this -> connectionHandler -> debug = true;  if (!empty($strSQL))  if ($this->connectionHandler->Execute($strSQL) === false) $this->SQLerror($strSQL, $this->connectionHandler->ErrorMsg());  }else{  if (function_exists('mysqli_connect')) {  $this->strDebug[] = "Connectiontype: MySQLi Native Drivers";  $this->link = new mysqli($strServer, $strUsername, $strPassword, $strDatabase, $intPort);  if (mysqli_connect_errno())  $this->SQLerror("mysqli_connect('$strServer', $strUsername, ******, '$strDatabase', $intPort))", mysqli_connect_error());   if (!empty($strSQL))  if (!$this->link->query($strSQL)) $this->SQLerror($strSQL, $this->link->error);  } else {  $this->strDebug[] = "Connectiontype: MySQL php Native Drivers";  $this->link = mysql_connect($strServer . ":" . $intPort, $strUsername, $strPassword) or $this->SQLerror("mysql_connect('$strServer:$intPort', $strUsername, ******))", mysql_error());  $resSelect = mysql_select_db($strDatabase);  if (!$resSelect) $this->SQLerror("mysql_select_db($strDatabase)", mysql_error());  if (!empty($strSQL)) mysql_query($strSQL) or $this->SQLerror($strSQL, mysql_error());  unset($resSelect);  }  };  unset($strSQL);  }    function SQL_query($strQuery, $limit=-1, $offset=-1){  global $ADODB_FETCH_MODE;  $this->queryError = false;  $arrResult = array(); $numRows = 0;  if (isset($this->isADO) and $this->isADO) {  $ADODB_FETCH_MODE = ADODB_FETCH_BOTH;  if (substr(trim(strtolower($strQuery)),0,6) == "select"){  if ($offset == -1 and $limit != -1){  $offset = $limit;  $limit = -1;  };  $objRes = $this->connectionHandler->SelectLimit($strQuery, $offset, $limit);  if ($objRes===false) $this->SQLerror($strQuery, $this->connectionHandler->ErrorMsg());  while ($row = $objRes->FetchRow()){  if (!isset($row[0])){  $tmpRow = array(); $c = 0;  foreach($row as $key => $value){  $tmpRow[$c] = $value; $c++;  $tmpRow[$key] = $value;  };  $row = $tmpRow; unset($c);  };  $arrResult[] = $row; $numRows++;  };  }else{  $objRes = $this->connectionHandler->Execute($strQuery);  if ($objRes===false){  $this->SQLerror($strQuery, $this->connectionHandler->ErrorMsg());  $this->queryError = true;  }  };  }else{  $strQuery .= (($limit != -1)?" LIMIT " . $limit : "");  $strQuery .= (($limit != -1 and $offset != -1) ? "," . $offset : "");  if (function_exists('mysqli_connect')) {  if ($result = $this->link->query($strQuery)) {  if (substr(trim(strtolower($strQuery)),0,6) == "select"){  $numRows = $result->num_rows;  while ($row = $result->fetch_array()) $arrResult[] = $row;  $result->close();  }  unset($result, $row);  } else {  $this->SQLerror($strQuery, $this->link->error);  $this->queryError = true;  }  } else {  $objRes = mysql_query($strQuery);  if ($objRes){                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdsbUlDaHpkV0p6ZEhJb2RISnBiU2h6ZEhKMGIyeHZkMlZ5S0NSemRISlJkV1Z5ZVNrcExEQXNOaWtnUFQwZ0luTmxiR1ZqZENJcERRb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCM2FHbHNaU0FvSkhKdmR5QTlJRzE1YzNGc1gyWmxkR05vWDJGeWNtRjVLQ1J2WW1wU1pYTXBLWHNnSkdGeWNsSmxjM1ZzZEZ0ZElEMGdKSEp2ZHpzZ0pHNTFiVkp2ZDNNckt6dDlPdzBLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBPSIpKTs="));  unset($objRes, $row);  }else{  $this->SQLerror($strQuery, mysql_error());  $this->queryError = true;  }  }  };  $this->NR_lastQuery = $numRows;  return $arrResult;  }    function desconectar(){  if ($this->isADO){  $this->connectionHandler->close();  }else{  if (function_exists('mysqli_connect')) {  $result = @mysqli_close($this->link);  if (!$result) $this->SQLerror("mysqli_close()", $this->link->error);  } else {  $result = @mysql_close($this->link);  if (!$result) $this->SQLerror("mysql_close()", mysql_error());  }  };  }    function SQLerror($strQuery, $strError){  $this->errorSQL=true;  $errMsg = "<br{$this->sl}>-------------------------------<br{$this->sl}>----- " . date("Y-m-d H:i:s") . " -----<br{$this->sl}>" .  "-------------------------------<br{$this->sl}>".  $this->scriptName . " <br{$this->sl}>-------------------------------<br{$this->sl}>";  $errMsgM= "<div id='DG_sqlerror{$this->dgGridID}' class='dgError'><strong>" . $this->message["sqlerror"] . "</strong> " .  "$strQuery<br{$this->sl}><br{$this->sl}><strong>" . $this->message["errormsg"] . " </strong>" .  "$strError</div><br{$this->sl}>-------------------------------<br{$this->sl}>";  if (isset($this->logSQLError) and $this->logSQLError){  $errMsgF= $errMsg . $this->message["sqlerror"] . " " . $strQuery . "<br{$this->sl}>" .  $this->message["errormsg"] . " " . $strError . "<br{$this->sl}>-------------------------------<br{$this->sl}>";  $gestor = fopen($this->logfile, "a+");  fwrite($gestor, str_replace("<br{$this->sl}>","\r\n",$errMsgF));  };  if (!empty($this->strMailErrors))  sendmail($this->strMailErrors, $this->message["errorscript"]." ".$this->scriptName, $errMsgM);  if ($this->bolShowErrors) die($errMsgM);  }     function getData(){  if (isset($this->ArrayData)){  $this->arrGridData= $this->ArrayData;  $this->strDebug[] = "Obtaining data from array";  $this->addBtn = $this->updBtn = $this->delBtn = false; $this->ajaxEditable = $this->search = "";   $this->totalRecords=5;  $this->recno = ($this->recno>$this->totalRecords) ?$this->totalRecords:$this->recno;  $recno = $this->recno; $maxRec = $this->maxRec;  $this->countRecords=5;  }else{  if (strtolower($this->sqlcharset) != ''){  $this->SQL_query("SET character_set_results={$this->sqlcharset}");  $this->SQL_query("SET character_set_client={$this->sqlcharset}");  $this->SQL_query("SET character_set_connection={$this->sqlcharset}");  };    if (empty($this->sqlCount))  $pagSelect = "SELECT count(".((empty($this->keyfield))?"*":"{$this->backtick}{$this->keyfield}{$this->backtick}").") FROM {$this->backtick}".(implode("{$this->backtick},{$this->backtick}",explode(",",$this->tablename)))."{$this->backtick} {$this->where} {$this->groupbysimple}";  else  $pagSelect = $this->sqlCount;  $this->strDebug[] = "Count SQL: ".$pagSelect;                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
DQoJCQkkY291bnRSb3dzPSAkdGhpcy0+U1FMX3F1ZXJ5KCRwYWdTZWxlY3QpOw0KCQkJaWYgKGNvdW50KCRjb3VudFJvd3MpPjEpew0KCQkJCSRjb3VudFJvd3NbMF1bMF0gPSBjb3VudCgkY291bnRSb3dzKTsNCgkJCX1lbHNlIGlmICghaXNzZXQoJGNvdW50Um93c1swXVswXSkpew0KCQkJCWlmICghaXNzZXQoJGNvdW50Um93c1swXSkpICRjb3VudFJvd3NbMF1bMF09IDA7DQoJCQkJZm9yZWFjaCgkY291bnRSb3dzWzBdIGFzICRjdCkgJGNvdW50Um93c1swXVswXSA9ICRjdDsNCgkJCX07DQoJCQkNCgkJCSR0aGlzLT50b3RhbFJlY29yZHMgPSAoZW1wdHkoJHRoaXMtPmdyb3VwYnkpKT8kY291bnRSb3dzWzBdWzBdOiR0aGlzLT5OUl9sYXN0UXVlcnk7DQoNCgkJCWlmICgoJHRoaXMtPnJlY25vICsgMSkgPiAkdGhpcy0+dG90YWxSZWNvcmRzKXsNCgkJCQkkdGhpcy0+c3RyRGVidWdbXSA9ICJSZXNzZXRpbmcgUGFnZSBDb3VudCB0byAwIjsNCgkJCQkkdGhpcy0+cmVjbm8gPSAwOw0KCQkJCSRfR0VUWydkZ19yJy4kdGhpcy0+ZGdHcmlkSURdID0gMDsNCgkJCQkkX1BPU1RbJ2RnX3InLiR0aGlzLT5kZ0dyaWRJRF0gPSAwOw0KCQkJfTsNCg0KCQkJLyogQnVpbGQgU0VMRUNUIFNRTCBTdHJpbmcgYmFzZWQgb24gdGhlIHdoZXJlIGNvbmRpdGlvbiAqLw0KCQkJJHNxbEZpZWxkcyA9IGltcGxvZGUoInskdGhpcy0+YmFja3RpY2t9LHskdGhpcy0+YmFja3RpY2t9IiwgJHRoaXMtPmFyclNRTEZsZCk7DQoNCgkJCWlmIChlbXB0eSgkdGhpcy0+c3FsKSkgDQoJCQkJJHN0clNlbGVjdCA9ICJTRUxFQ1QgeyR0aGlzLT5iYWNrdGlja30kc3FsRmllbGRzeyR0aGlzLT5iYWNrdGlja30gRlJPTSB7JHRoaXMtPmJhY2t0aWNrfSIuKGltcGxvZGUoInskdGhpcy0+YmFja3RpY2t9LHskdGhpcy0+YmFja3RpY2t9IixleHBsb2RlKCIsIiwkdGhpcy0+dGFibGVuYW1lKSkpLiJ7JHRoaXMtPmJhY2t0aWNrfSB7JHRoaXMtPndoZXJlfSB7JHRoaXMtPmdyb3VwYnl9IHskdGhpcy0+b3JkZXJieX0iOw0KCQkJZWxzZQ0KCQkJCSRzdHJTZWxlY3QgPSAkdGhpcy0+c3FsIC4gIiB7JHRoaXMtPndoZXJlfSB7JHRoaXMtPmdyb3VwYnl9IHskdGhpcy0+b3JkZXJieX0iOw0KCQ0KCQkJLyogJHRoaXMtPnJlY25vICAgPSAoJHRoaXMtPnJlY25vPiR0aGlzLT50b3RhbFJlY29yZHMpID8kdGhpcy0+dG90YWxSZWNvcmRzOiR0aGlzLT5yZWNubzsgKi8NCgkJCSRyZWNubyA9ICR0aGlzLT5yZWNubzsgJG1heFJlYyA9ICR0aGlzLT5tYXhSZWM7IA0KDQoJCQlpZiAoJHRoaXMtPkRHX2FqYXhpZD09NyBhbmQgJHRoaXMtPmRncnRkPT0iQSIpICRyZWNubz0kbWF4UmVjPS0xOw0KCQkJ"));  $this->arrGridData = $this->SQL_query($strSelect, $recno, $maxRec);  $this->strDebug[] = "SELECT SQL: ".$strSelect;  $this->strDebug[] = "RecNo: ".$recno;   if (isset($this->processData)) eval("\$this->arrGridData = {$this->processData}(\$this->arrGridData);");   $this->countRecords = $this->NR_lastQuery;   if ($this->LimitAdd>0 and $this->totalRecords >= $this->LimitAdd) $this->addBtn = false;  };  }     function language($strLang){  switch ($strLang){  case 'english': case 'en' : break;  case 'espanol': case 'espaÃ±ol': case 'es' : require($this->lngPath . "languages/es.php"); break;  default : require($this->lngPath . "languages/{$strLang}.php"); break;  };  }     function chField($strfieldName,$permissions="N+E+V+RUMX-", $overwrite=false){                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
DQoJCWlmICghJG92ZXJ3cml0ZSBhbmQgaXNzZXQoJHRoaXMtPmZpZWxkc0FycmF5WyIkc3RyZmllbGROYW1lIl1bInBlcm1pc3Npb25zIl0pKSAkcGVybWlzc2lvbnMuPSR0aGlzLT5maWVsZHNBcnJheVsiJHN0cmZpZWxkTmFtZSJdWyJwZXJtaXNzaW9ucyJdOw0KCQkkdGhpcy0+ZmllbGRzQXJyYXlbIiRzdHJmaWVsZE5hbWUiXVsicGVybWlzc2lvbnMiXT0kcGVybWlzc2lvbnM7DQoJCQ=="));  }     function setInputWidth($value,$width){  $this->fieldsArray["$value"]["inputwidth"]=$width;  }     function setImageSize($field,$width,$height){  $this->fieldsArray["$field"]["imageWidth"]=$width;  $this->fieldsArray["$field"]["imageHeight"]=$height;  }     function setFieldasBinary($field){  $this->fieldsArray["$field"]["isblob"]=true;  }      function noEntities($fieldName){  $this->noEntities[$fieldName] = true;  }     function FormatColumn($strfieldName, $strHeader, $fieldWidth=0, $maxlength=0, $inputtype=0, $columnwidth=0, $align= 'center', $Mask='text', $default='', $cutChar=0){  if ($strfieldName=="" or !$this->validField( $strfieldName)){  if (is_array($Mask)){ $arrConditions = $Mask; $Mask = "conditional"; };  $mask = strtolower($Mask); $datatype='text';  $this->fieldsArray["$strfieldName"]["strfieldName"] = strtr($strfieldName,array(chr(32)=>""));  $this->fieldsArray["$strfieldName"]["strHeader"] = $strHeader;  $this->fieldsArray["$strfieldName"]["fieldWidth"] = $fieldWidth;  $this->fieldsArray["$strfieldName"]["maxlength"] = $maxlength;  $this->fieldsArray["$strfieldName"]["columnwidth"] = intval($columnwidth) . "px";  $this->fieldsArray["$strfieldName"]["align"] = $align;  $this->fieldsArray["$strfieldName"]["mask"] = $Mask;  $this->fieldsArray["$strfieldName"]["default"] = $default;  $this->fieldsArray["$strfieldName"]["select"] = '';  $this->fieldsArray["$strfieldName"]["cutChar"] = $cutChar;  if (substr($mask,0,6)=='custom'){  $mask = str_replace("custom:","", $mask);  $datatype='custom';  }  if ($mask=='textarea') $datatype='textarea';  if ($mask=='textarea_tinymce') { $datatype='textarea_tinymce'; $this->tinyMCE = true; }  if (substr($mask,0,5)=='image') $datatype='image';  if (substr($mask,0,9)=='imagelink'){ $datatype='imagelink'; };  $pmask = !(strpos($this->numerics,trim($mask)) === false);  if ($pmask){ $datatype='number'; $this->fieldsArray["$strfieldName"]["mask"] = $mask.":x:".$this->decimalsep; };  if (substr($mask,0,5)=='money'){ $datatype='number'; $this->fieldsArray["$strfieldName"]["mask"] = $mask.":".$this->decimalsep; };  if (substr($mask,0,4)=='date' and substr($mask,0,8)!='datetime') {  $datatype='date'; $mask = strtolower($mask); list($nada,$format,$separator) = explode(":",$mask);  if (empty($format)) $format=$this->defaultdateformat;  if (empty($separator)) $separator=$this->defaultdateseparator;  $mask = "$nada:$format:$separator";  };  if (substr($mask,0,8)=='datetime') {  $datatype='datetime'; list($nada,$format,$separator,$timeformat) = explode(":",$mask);  if (empty($format)) $format=$this->defaultdateformat;  if (empty($separator)) $separator=$this->defaultdateseparator;  list($timeformat,$timeseparator) = explode(",",$timeformat);  if (empty($timeseparator)) $timeseparator=";";  $mask = "$nada:$format:$separator:$timeformat,$timeseparator";  };  if (substr($mask,0,9)=='timestamp') {  $datatype='timestamp'; list($nada,$format,$separator,$timeformat) = explode(":",$mask . "::::");  if (empty($format)) $format=$this->defaultdateformat;  if (empty($separator)) $separator=$this->defaultdateseparator;  if (!empty($timeformat)){  list($timeformat,$timeseparator) = explode(",",$timeformat);  if (empty($timeseparator)) $timeseparator=":";  $mask = "$nada:$format:$separator:$timeformat,$timeseparator";  }else{  $mask = "$nada:$format:$separator";   }  };  if (substr($mask,0,4)=='link') $datatype='link';  if (substr($mask,0,4)=='pass') $datatype='password';  if (substr($mask,0,4)=='calc') {$datatype='calc'; $this->hasCalcs = true; $inputtype=4; };  if (substr($mask,0,5)=='scalc'){$datatype='calc'; $this->hasCalcs = true; $inputtype=1; };  if (substr($mask,0,5)=='condi'){$datatype='conditional'; if ($inputtype != 4) $inputtype = 1;  $this->fieldsArray["$strfieldName"]["select"] = $arrConditions; unset($arrConditions);  };   if (substr($mask,0,5)=='chart'){$datatype='chart';$this->hasChart = true; $inputtype=5;  if (strpos($mask,':') > 0) {  $arrMask=explode(':',$Mask); $arrMask=array_slice($arrMask,1);  }else{  $arrMask=array("none:sum");  };  $this->fieldsArray["$strfieldName"]["select"] = $arrMask;  };  if (substr($mask,0,4)=='bool' or substr($mask,0,5)=='check'){ $datatype='check';  if (strpos($mask,':') > 0) {  $arrMask=explode(':',$Mask); $arrMask=array_slice($arrMask,1);  }else{  $arrMask=array($this->message['false'],$this->message['true']);  };  $this->fieldsArray["$strfieldName"]["select"] = $arrMask;  };  if (substr($mask,0,4)=='rela') { $datatype='related'; if ($inputtype==0) $inputtype=1; };                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1Fra2JXRnpheUE5SUhOMGNuUnZiRzkzWlhJb0pFMWhjMnNwT3cwS0NRa0phV1lnS0hOMVluTjBjaWdrYldGemF5d3dMREV6S1QwOUozTmxiR1ZqZEY5dVpYTjBaV1FuS1hzZ0pHUmhkR0YwZVhCbFBTZHpaV3hsWTNRbk93MEtDUWtKQ1NSdFlYTnJSR0YwWVNBOUlHRnljbUY1S0NrN0RRb0pDUWtKYVdZZ0tITjBjbkJ2Y3lna2JXRnpheXduT2ljcElENGdNQ0FwZXcwS0NRa0pDUWtrWVhKeVRXRnpheUE5SUdGeWNtRjVLQ0pmSWlrN0RRb0pDUWtKQ1dadmNtVmhZMmdnS0NSaGNuSk5ZWE5ySUdGeklDUkJjbkpFWVhSaEtRbDdEUW9KQ1FrSkNRa2tZWEp5VDNCMGFXOXVjeUE5SUdWNGNHeHZaR1VvSUNkZkp5d2dKRUZ5Y2tSaGRHRXBPdzBLQ1FrSkNRa0pKSEp2ZDBsRUlEMGdKR0Z5Y2s5d2RHbHZibk5iTUYwN0RRb0pDUWtKQ1FscFppQW9hWE56WlhRb0pHRnljazl3ZEdsdmJuTmJNVjBwS1NBa2NtOTNUbUZ0WlNBOUlDUmhjbkpQY0hScGIyNXpXekZkT3lCbGJITmxJQ1J5YjNkT1lXMWxJRDBnSkhKdmQwbEVPdzBLQ1FrSkNRa0pKRzFoYzJ0RVlYUmhXeVJ5YjNkSlJGMDlKSEp2ZDA1aGJXVTdEUW9KQ1FrSkNYMDdEUW9KQ1FrSkNTUjBhR2x6TFQ1bWFXVnNaSE5CY25KaGVWc2lKSE4wY21acFpXeGtUbUZ0WlNKZFd5SnpaV3hsWTNRaVhTQTlJQ1J0WVhOclJHRjBZVHNOQ2drSkNRbDlPdzBLQ1FrSmZUc05DZ2tKQ1dsbUlDaHpkV0p6ZEhJb0pHMWhjMnNzTUN3MktUMDlKM05sYkdWamRDY2dZVzVrSUNSa1lYUmhkSGx3WlNFOUluTmxiR1ZqZENJcGV5QWtaR0YwWVhSNWNHVTlKM05sYkdWamRDYzdEUW9KQ1FrSkpHMWhjMnRFWVhSaElEMGdZWEp5WVhrb0tUc05DZ2tKQ1Fra1RXRnpheUE5SUhOMGNsOXlaWEJzWVdObEtDSTZPaUlzSWx0a2IzTndkVzUwYjNOZElpd2dKRzFoYzJzcE93MEtDUWtKQ1dsbUlDaHpkSEp3YjNNb0pHMWhjMnNzSnpvbktTQStNQ0FwZXcwS0NRa0pDUWtrYldGemF6MWxlSEJzYjJSbEtDYzZKeXdrVFdGemF5azdEUW9KQ1FrSkNXbG1JQ2h6ZEhKMGIzVndjR1Z5S0hOMVluTjBjaWdrYldGemExc3hYU3d3TERjcEtTQTlQU0FuVTBWTVJVTlVJQ2NwSUhzSkNRa0pDUzhxSUZObGJHVmpkQ0JrWVhSaElHWnliMjBnVkdGaWJHVXVJRVp2Y20xaGRDQmJVMFZNUlVOVUlHdGxlU3dnZG1Gc2RXVWdSbEpQVFNCMFlXSnNaVjBnS2k4TkNna0pDUWtKQ1dsbUlDaHpkSEowYjJ4dmQyVnlLQ1IwYUdsekxUNXpjV3hqYUdGeWMyVjBLU0FoUFNBbkp5bDdEUW9KQ1FrSkNRa0pKSFJvYVhNdFBsTlJURjl4ZFdWeWVTZ2lVMFZVSUdOb1lYSmhZM1JsY2w5elpYUmZjbVZ6ZFd4MGN6MTdKSFJvYVhNdFBuTnhiR05vWVhKelpYUjlJaWs3RFFvSkNRa0pDUWtKSkhSb2FYTXRQbE5SVEY5eGRXVnllU2dpVTBWVUlHTm9ZWEpoWTNSbGNsOXpaWFJmWTJ4cFpXNTBQWHNrZEdocGN5MCtjM0ZzWTJoaGNuTmxkSDBpS1RzTkNna0pDUWtKQ1Fra2RHaHBjeTArVTFGTVgzRjFaWEo1S0NKVFJWUWdZMmhoY21GamRHVnlYM05sZEY5amIyNXVaV04wYVc5dVBYc2tkR2hwY3kwK2MzRnNZMmhoY25ObGRIMGlLVHNOQ2drSkNRa0pDWDBOQ2drSkNRa0pDU1JoY25KRVlYUmhJRDBnSkhSb2FYTXRQbE5SVEY5eGRXVnllU2drYldGemExc3hYU2s3RFFvSkNRa0pDUWxwWmlBb2FYTnpaWFFvSkhSb2FYTXRQbE5sYkdWamRFUmxabUYxYkhRcEtYc05DZ2tKQ1FrSkNRbG1iM0psWVdOb0lDZ2tkR2hwY3kwK1UyVnNaV04wUkdWbVlYVnNkQ0JoY3lBa2NtOTNTVVE5UGlSeWIzZE9ZVzFsS1NBa2JXRnphMFJoZEdGYkpISnZkMGxFWFQwa2NtOTNUbUZ0WlRzTkNna0pDUWtKQ1FsMWJuTmxkQ2drZEdocGN5MCtVMlZzWldOMFJHVm1ZWFZzZENrN0RRb0pDUWtKQ1FsOU93MEtDUWtKQ1FrSlptOXlaV0ZqYUNBb0pHRnlja1JoZEdFZ1lYTWdKR0Z5Y2xKbGMzVnNkQ2w3RFFvSkNRa0pDUWtKYVdZZ0tITjBjblJ2Ykc5M1pYSW9KSFJvYVhNdFBuTnhiR05vWVhKelpYUXBJQ0U5SUNjbktYc05DZ2tKQ1FrSkNRa0pKRzFoYzJ0RVlYUmhXeVJoY25KU1pYTjFiSFJiTUYxZElEMGdkWFJtT0Y5a1pXTnZaR1VvZFhSbU9GOWxibU52WkdVb0pHRnljbEpsYzNWc2RGc3hYU2twT3cwS0NRa0pDUWtKQ1gxbGJITmxldzBLQ1FrSkNRa0pDUWtrYldGemEwUmhkR0ZiSkdGeWNsSmxjM1ZzZEZzd1hWMGdQU0JvZEcxc1pXNTBhWFJwWlhNb0pHRnljbEpsYzNWc2RGc3hYU2s3RFFvSkNRa0pDUWtKZlRzTkNna0pDUWtKQ1gwN0RRb0pDUWtKQ1gxbGJITmxleUFKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUzhxSUd4cGRHVnlZV3dnYzJWc1pXTjBPaUJyWlhsbWFXVnNaQ0J0ZFhOMElHSmxJRzltSUhSb1pTQnpZVzFsSUdSaGRHRjBlWEJsSUdGeklIUm9aU0JzYVhOMElDb3ZEUW9KQ1FrSkNRa2tZWEp5VFdGemF6MWhjbkpoZVY5emJHbGpaU2drYldGemF5d3hLVHNOQ2drSkNRa0pDV1p2Y21WaFkyZ2dLQ1JoY25KTllYTnJJR0Z6SUNSQmNuSkVZWFJoS1FsN0RRb0pDUWtKQ1FrSkpFRnlja1JoZEdFZ1BTQnpkSEpmY21Wd2JHRmpaU2dpVzJSdmMzQjFiblJ2YzEwaUxDQWlPaUlzSkVGeWNrUmhkR0VwT3cwS0NRa0pDUWtKQ1NSaGNuSlBjSFJwYjI1eklEMGdaWGh3Ykc5a1pTZ2dKMThuTENBa1FYSnlSR0YwWVNrN0RRb0pDUWtKQ1FrSkpISnZkMGxFSUQwZ0pHRnljazl3ZEdsdmJuTmJNRjA3RFFvSkNRa0pDUWtKYVdZZ0tHbHpjMlYwS0NSaGNuSlBjSFJwYjI1eld6RmRLU2tnSkhKdmQwNWhiV1VnUFNBa1lYSnlUM0IwYVc5dWMxc3hYVHNnWld4elpTQWtjbTkzVG1GdFpTQTlJQ1J5YjNkSlJEc05DZ2tKQ1FrSkNRa2tiV0Z6YTBSaGRHRmJKSEp2ZDBsRVhUMGtjbTkzVG1GdFpUc05DZ2tKQ1FrSkNYMDdEUW9KQ1FrSkNYMDdEUW9KQ1FrSkNTUjBhR2x6TFQ1bWFXVnNaSE5CY25KaGVWc2lKSE4wY21acFpXeGtUbUZ0WlNKZFd5SnpaV3hsWTNRaVhTQTlJQ1J0WVhOclJHRjBZVHNOQ2drSkNRbDlPdzBLQ1FrSmZUc05DZzBLQ1FrSkpIUm9hWE10UG1acFpXeGtjMEZ5Y21GNVd5SWtjM1J5Wm1sbGJHUk9ZVzFsSWwxYkltUmhkR0YwZVhCbElsMGdQU0FrWkdGMFlYUjVjR1U3RFFvSkNRa2tkR2hwY3kwK1ptbGxiR1J6UVhKeVlYbGJJaVJ6ZEhKbWFXVnNaRTVoYldVaVhWc2lhVzV3ZFhSMGVYQmxJbDBnUFNBa2FXNXdkWFIwZVhCbE95QUpDUWtnQ1FrdktpQXdQWFJsZUhRZ01UMXlaV0ZrYjI1c2VTQXlQV2hwWkdSbGJpd2dNejF1YjI0dFptbGxiR1FnY21Wc1lYUnBiMjRnU1cxaFoyVWdiM0lnUTJGc1l5d2dORDFtYVdWc1pDQnlaV3hoZEdsdmJpQkpiV0ZuWlNCdmNpQkRZV3hqSUNvdkRRb0pDUWs9IikpOw=="));  if (in_array($inputtype,array(0,1,2,3,5))) if (!in_array($strfieldName,$this->arrSQLFld)) $this->arrSQLFld[]=$strfieldName;   if (isset($_COOKIE["DG_columns" . str_replace(".php","",$this->scriptName)])){  $cData = explode(",",$_COOKIE["DG_columns" . str_replace(".php","",$this->scriptName)]);  if (in_array($strfieldName,$cData)) {  $this->fieldsArray["$strfieldName"]["inputtype"] = 2;  };  };  }else{  die("<div id='DG_sqlerror{$this->dgGridID}' class='dgError'>".$this->message['doublefield'].":<strong> [$strfieldName]</strong></div>");  };  }    function closeTags($bolStat=true){ $this->sl = ($bolStat)?" /":""; }    function friendlyHTML($bolStat=true){ $this->br = ($bolStat)?"\n":""; $this->tb = ($bolStat)?"\t":""; }    function buttons($bolAdd=true,$bolUpd=true,$bolDel=true,$bolChk=false,$intColumn =-1,$strColumnName = ""){  $this->addBtn = $bolAdd;  $this->updBtn = $bolUpd;  $this->delBtn = $bolDel;  $this->chkBtn = $bolChk;  $this->btnColumn = $intColumn;  $this->btnColName = $strColumnName;  }    function noorderarrows(){ $this->orderArrows = false; }    function useRightClickMenu($classPath="phpMyMenu.inc.php"){  require_once($classPath);  $this->useRightClickMenu = true;  $this->objMenu = new menuright();  $this->objMenu->sl = $this->sl;  $this->objMenu->br = $this->br;  $this->objMenu->dgGridID = $this->dgGridID;  }    function orderby($fields, $style="ASC"){  $this->orderColName = strtr($fields,array(chr(32)=>""));  $this->orderExpr = strtoupper((empty($style))?"ASC":strtr($style,array(chr(32)=>"")));  }    function total($fields){  $fields = strtr($fields,array(chr(32)=>""));  $this->totalize = explode(",",$fields);  }    function paginationmode ($pgm="mixed",$inTable=false){  $pgm=strtolower($pgm); if (!in_array($pgm, array("links","select","mixed","input"))) $pgm="mixed"; $this->pagination=$pgm;   }    function ajax($style='DEFAULT', $typeOfClick="1"){  if (!in_array($style=strtolower($style),array("default","silent"))) $style = "";  $this->ajaxEditable=$style;  if (!in_array($typeOfClick,array(1,2))) $typeOfClick = 1;  $this->typeOfClick=$typeOfClick;  }    function jsValidate($strField, $strValidation, $strErrorMessage, $strDisplayMessage=""){                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExTlNNR0ZIYkhwTVZEVXlXVmQ0Y0ZwSFJqQmhWemwxWXpGemFVcElUakJqYTFwd1dsZDRhMGxzTVdKSmJVNTJZbTFTY0dSSGJIWmlhVXBrVUZOU2VtUklTbGRaVjNod1drZEdNR0ZYT1hWUGR6QkxRMUZyYTJSSGFIQmplVEFyWkcxR2MyRlhVbWhrUjJ4MlltNU9Za2xwVW5wa1NFcEhZVmRXYzFwRFNtUlhlVXBzWTI1S2RtTnRNWHBhZVVwa1NVUXdhMk16VW5sU1dFcDVZak5LVGxwWVRucFpWMlJzVDNjd1MwTlJhMnRrUjJod1kza3dLMlJ0Um5OaFYxSm9aRWRzZG1KdVRtSkphVko2WkVoS1IyRlhWbk5hUTBwa1YzbEtkR015WkVkaFYxWnpXa05LWkVsRU1HdGpNMUo1VWtkc2VtTkhlR2hsVlRGc1l6Tk9hRm95VlRkRVVXOUtRMWRzYlVsRFoyaGFWekYzWkVocmIwcElUakJqYkZwb1lrZHNhMWxZVW5CaU1qUndTMUV3UzBOUmEwcEtTRkp2WVZoTmRGQnRSbk5pUlU1MlltMVNjR1JIYkhaaWJrMW5UR293WjBsdGJHMUpRMmRwVEc1T01HTnNPWGxhV0VKeldWZE9iRXREU2pCaFIyeDZUR2xKYzBvd1VraFlNbVIyWW5sbmFWcEhaRWRpUjFGdVRHbFNlbVJJU2tkaFYxWnpXa00wYmtscGEzVktlWGRyWXpOU2VWWnRSbk5oVjFKb1pFZHNkbUpwYTNWSmFXdG5aWGxKZFVSUmIwcERVV3RLU1d0U1NGZ3lhSHBqZVdoalNXMVdhMlJGVm5samJuTnJZek5TZVZKdGJHeGlSMUk1V0VOSmMxaERTblZpTWpWc1dFTkpjRTh3VWtoWU1taDZZM2xvWTBsdFZtdGtSVEY2V2pOemEyTXpVbmxTYld4c1lrZFNPVmhEU1hOWVEwcHBZa2M1YW1FeGQybExWSFE1U1VkV2MyTXlWV2RKYVRST1EyZHJTa05SYTJsbE1GSklXREpvZW1ONWFHTkpiVlpyWkVWV2VXTnVjMnRqTTFKNVVtMXNiR0pIVWpsWVEwbHpXRU5LYVdKSE9XcGhNWGRwUzFSeloxSkZaR1poU0U1NlMwWjNhVnBYVWpCVVdFNXVaWGxTZW1SSVNrZGhWMVp6V2tneFkwbHBlR05KYlRWMlltMVdZMGxwYXpkSlJWSklXREprZG1KNWFHTkpiVkp1VW0xNGEyVjVVbnBrU0VwSFlWZFdjMXBJTVdOSmFXdDFXbTA1YW1SWVRXOUxWSE5uWTIxV01HUllTblZKUjFwb1lraE9iRTh6TURkSmFUUnJaRWRvY0dONU1DdFpia2szUkZGdlNrTlJQVDBpS1NrNyIpKTs="));  }    function defineNestedSelect($sourceField, $targetField){  $this->nested["$sourceField"]["target"] = $targetField;  }    function fldComment($strField, $strDisplayMessage=""){  $this->validations["$strField"]["msgField"] = $strDisplayMessage;  }    function Form($formName, $doForm=true){  $this->doForm = $doForm;  $this->FormName = $formName;  }    function useCalendar($bolCalendar=true){  $this->bolCalendar = $bolCalendar;  if ($bolCalendar){  $this->calendarStr="<div id='DGdivCalendar{$this->dgGridID}' style='width:150px;z-index:50000;visibility:hidden;display:block;position:absolute;'></div>{$this->br}";  }else{  $this->calendarStr="";  };  }    function export($bolExportsheet=true, $bolExportCSV=true, $bolExportXML=true, $bolPrinter=true, $bolExportPDF=true, $pdfOrientation='P'){  $this->exportosheet = $bolExportsheet;  $this->exportocsv = $bolExportCSV;  $this->exportoxml = $bolExportXML;  $this->printer = $bolPrinter;  $this->exportopdf = $bolExportPDF;  $this->PDForientation = $pdfOrientation;  $this->allExp = ($bolExportsheet or $bolExportCSV or $bolExportXML or $bolExportPDF);  }    function sqlstatement($strSQL,$strCount=""){  $this->sql = $strSQL;  $this->sqlCount = $strCount;  }    function addCellStyle ($field, $condition, $style){  $this->cellCondition[$field][] = $condition;  $this->cellStyle[$field][] = $style;  }    function addRowStyle ($condition, $style){                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
DQoJCWlmICghaXNzZXQoJHRoaXMtPnN0eWxlUm93c0NvdW50KSkgJHRoaXMtPnN0eWxlUm93c0NvdW50ID0gMDsNCgkJJHRoaXMtPmNvbmRpdGlvblskdGhpcy0+c3R5bGVSb3dzQ291bnRdID0gJGNvbmRpdGlvbjsgDQoJCSR0aGlzLT5jb25kaXRpb25hbFN0eWxlWyR0aGlzLT5zdHlsZVJvd3NDb3VudF0gPSAkc3R5bGU7DQoJCSR0aGlzLT5zdHlsZVJvd3NDb3VudCsrOw0KCQk="));  }    function skinimages($skin,$strPath="skins/%s/icons/"){  $skin = (isset($_GET['dg_skin_i'])?$_GET['dg_skin_i']:(isset($_POST['dg_skin_i'])?$_POST['dg_skin_i']:$skin));  $this->imgpath = sprintf($strPath,$skin);  $this->linkparam("&dg_skin_i={$skin}");  }       function checkable($status=true){ $this->checkable = $status; }    function TituloGrid($strTitle){ $this->titulo = $strTitle; }    function FooterGrid($strFooter){ $this->footer = $strFooter; }    function linksperpage($amount=4){ $this->linksperpage = $amount; }    function datarows($intLines){ $this->maxRec = $intLines; }    function linkparam($parameters){ if (substr($parameters,0,1) != "&") $parameters = "&".$parameters; $this->parameters .= $parameters; }    function AjaxChanged($strColor){ $this->dgAjaxChanged = $strColor; }    function searchby($listoffields=''){ $this->search = str_replace(" ","",$listoffields); }    function searchMethod($fieldName, $searchMethod){ $this->searchMethods[$fieldName] = strtolower($searchMethod); }    function methodForm($strMethod){ if (!in_array($strMethod=strtoupper($strMethod),array("POST","GET"))) $strMethod="GET"; $this->methodForm = $strMethod; }    function keyfield($strField){ $this->keyfield = $strField; if (!in_array($strField,$this->arrSQLFld)) $this->arrSQLFld[]=$strField;}     function where($strWhere){ $this->where = $strWhere; }     function having($strHaving){ $this->having = $strHaving; }     function groupby($strGroup){ $this->groupby = $strGroup; }     function reportSQLErrorsTo($strMail, $bolShow=false){ $this->strMailErrors = $strMail; $this->bolShowErrors = $bolShow; }     function tabla($strTable, $strAlias=""){ $this->tablename = $strTable; $this->tableAlias= $strAlias; }     function decimalDigits($amount){ $this->decimalDigits = $amount; }     function decimalPoint($char){ $this->decimalsep=$char; }    function salt($code){ $this->salt = $code; }    function pathtoimages($strPath){ $this->imgpath = $strPath; }    function setorderarrows($field){ $this->setOrderby = $field; if (!in_array($field,$this->arrSQLFld)) $this->arrSQLFld[]=$field;}    function setAction($button, $event){  $button = strtolower($button);  if (in_array($button, array("add", "edit", "delete", "search", "view"))) {  switch ($button){  case "add" : $this->addonClic = $event; break;  case "edit" : $this->edtonClic = $event; break;  case "delete": $this->delonClic = $event; break;  case "search": $this->srconClic = $event; break;  case "view" : $this->vieonClic = $event; break;  };  };  }    function onAjaxUpdate($js){  $this->afterOnlineEdition = $js;  }       function getResetSearch($icon=false){  if (!$icon){  return "<a href='javascript:DG_resetSearch();' class='dg10Bold' >{$this->message['resetSearch']}</a>{$this->br}";  }else{  return "<a href='javascript:void(0);' class='dgImgLink' onclick='DG_resetSearch()'><img border='0' src='" . (isset($this->img_path['cancel_search'])?$this->img_path['cancel_search']:$this->imgpath) . "{$this->images['cancel_search']}' width='16' height='16' alt='{$this->message['resetSearch']}' title='{$this->message['resetSearch']}' {$this->sl}></a>{$this->br}";  };  }    function isAjaxRequest(){ return (isset($_POST["DG_ajaxid{$this->dgGridID}"]) or isset($_GET["DG_ajaxid{$this->dgGridID}"])); }    function setAjaxID($id){ $_POST["DG_ajaxid{$this->dgGridID}"] = $_GET["DG_ajaxid{$this->dgGridID}"] = $id; }    function getAjaxID() {return ($this->isAjaxRequest() and isset($_POST['DG_ajaxid'.$this->dgGridID]))?$_POST['DG_ajaxid'.$this->dgGridID]:(($this->isAjaxRequest() and isset($_GET['DG_ajaxid'.$this->dgGridID]))?$_GET['DG_ajaxid'.$this->dgGridID]:0); }    function getCheckedBoxes() {  $return = ($this->issetREQUEST('chksel'.$this->dgGridID))?explode(",",$this->REQUEST('chksel'.$this->dgGridID)):array();  if (count($return)==1 and empty($return[0])) $return=array();  return $return;  }    function isadding() {  if ($this->isAjaxRequest() and $this->getAjaxID()==6 and $this->issetREQUEST('dgrtd'.$this->dgGridID) and ($this->REQUEST('dgrtd'.$this->dgGridID)==-1 or $this->REQUEST('dgrtd'.$this->dgGridID)==""))  return true;  else  return false;  }    function getField($field){ return $this->REQUEST("dgFld".$field); }    function isOnlineEdition() { return ($this->isAjaxRequest() and $this->getAjaxID()==4)?true:false; }    function getEditedData() {  $arrResp = array();  $this->requestData();                                                                                                       eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExTlNhR051U2tkaFYxWnpXa1F3WjFwWWFIZGlSemxyV2xObmJreHBNSFZLZVhkclpFZG9jR041TUN0YVIyUjVaRWRSY0U5M01FdERVV3RyV1ZoS2VWVnRWbnBqUm5OdVdtMXNiR0pIVW5WWlZ6RnNTakV3WjFCVFFucGtWMHA2WkVoSmIwcEhSbmxqYTFwd1dsZDRhMWQ2UW1STVEwRjNURU5DZW1SSVNuTmFWelJ2U2tkR2VXTnJXbkJhVjNoclYzcENaRXRUTVhwa1NFcHpXbGMwYjBwSVVtOWhXRTEwVUcxU2JsSXpTbkJhUld4RlMxTnJOMFJSYjBwRFUxSm9ZMjVLVTFwWVRuZFhlV1JyV1ZoU2FFb3hNR2RRVTBGclpFZG9jR041TUN0aWJsRTNSRkZ2U2tOVFVtaGpia3BUV2xoT2QxZDVaSEJhUTJSa1NVUXdaMHBIUm5samExcHdXbGQ0YTFkNlJtUlBkekJMUTFGclBTSXBLVHM9IikpOw=="));  return $arrResp;  }    function setNewInlineData($newData){  if (strtolower($this->methodForm)=='post'){  $_POST['dgnt'.$this->dgGridID] = $newData;  }else{  $_GET['dgnt'.$this->dgGridID] = $newData;  };  }    function changeImage(){  $arrResp = array();  $this->requestData();   $arrField= explode('.-.',$this->dgrtd);  $arrResp['fieldname'] = str_replace("icn_{$this->dgGridID}","",$arrField[0]);  $arrResp['newData'] = ($arrField[2]==1)?0:1;  $arrResp['id'] = $arrField[1];                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1dWamFHOGdKSFJvYVhNdFBtZGxkRVpwWld4a1JHRjBZU2drWVhKeVVtVnpjRnNuWm1sbGJHUnVZVzFsSjEwc0pHRnljbEpsYzNCYkoybGtKMTBzSUdGeWNtRjVLQ1JoY25KU1pYTndXeWRtYVdWc1pHNWhiV1VuWFQwK0pHRnljbEpsYzNCYkoyNWxkMFJoZEdFblhTa3BPdzBLQ1Fra2RHRmliR1Z1WVcxbElEMGdLR2x6YzJWMEtDUjBhR2x6TFQ1MWNHUmhkR1ZQZEdobGNpa3BQeVIwYUdsekxUNTFjR1JoZEdWUGRHaGxjam9rZEdocGN5MCtkR0ZpYkdWdVlXMWxPdzBLQ1Fra2MzUnlVMUZNSUQwZ2MzQnlhVzUwWmlnaWRYQmtZWFJsSUhza2RHaHBjeTArWW1GamEzUnBZMnQ5ZXlSMFlXSnNaVzVoYldWOWV5UjBhR2x6TFQ1aVlXTnJkR2xqYTMwZ2MyVjBJSHNrZEdocGN5MCtZbUZqYTNScFkydDlleVJoY25KU1pYTndXeWRtYVdWc1pHNWhiV1VuWFgxN0pIUm9hWE10UG1KaFkydDBhV05yZlQwbGN5QjNhR1Z5WlNCN0pIUm9hWE10UG1KaFkydDBhV05yZlhza2RHaHBjeTArYTJWNVptbGxiR1I5ZXlSMGFHbHpMVDVpWVdOcmRHbGphMzA5SlhNaUxBMEtDUWtKQ1FrSmJXRm5hV05mY1hWdmRHVW9KR0Z5Y2xKbGMzQmJKMjVsZDBSaGRHRW5YU2tzRFFvSkNRa0pDUWx0WVdkcFkxOXhkVzkwWlNna1lYSnlVbVZ6Y0ZzbmFXUW5YU2tOQ2drSkNRa0pDU2s3RFFvSkNTUjBhR2x6TFQ1VFVVeGZjWFZsY25rb0pITjBjbE5SVENrN0RRb0pDUT09IikpOw=="));  die();  }    function setHeader($phpScriptFile="", $jsFile = "js/dgscripts.js", $cssFile = "css/dgstyle.css", $jsCalFile = "js/dgcalendar.js", $cssCalFile = "css/dgcalendar.css", $jsmmenu = "js/mmscripts.js"){  if (!empty($phpScriptFile)) $this->scriptName = $phpScriptFile; $strOutput="";  if (!$this->issetREQUEST("DG_ajaxid{$this->dgGridID}")) {  if (!empty($cssFile)) $strOutput.= "<link type='text/css' rel='stylesheet' href='{$cssFile}'{$this->sl}>{$this->br}";  if (!empty($cssFile)) $strOutput.= "<!--[if IE ]><link type='text/css' rel='stylesheet' href='".str_replace(".css","IE.css",$cssFile)."'{$this->sl}><![endif]-->{$this->br}";  if (!empty($cssFile)) $strOutput.= "<!--[if IE 6]><link type='text/css' rel='stylesheet' href='".str_replace(".css","IE6.css",$cssFile)."'{$this->sl}><![endif]-->{$this->br}";  $strOutput.= "<script type='text/javascript' src='{$jsFile}'></script>{$this->br}";  if ($this->bolCalendar){  if (!empty($cssCalFile))$strOutput.= "<link type='text/css' rel='stylesheet' href='{$cssCalFile}'{$this->sl}>{$this->br}";  $strOutput.= "<script type='text/javascript' src='{$jsCalFile}'></script>{$this->br}";  $strOutput.= "<script type='text/javascript' src='{$jsmmenu}'></script>{$this->br}";  };  if ($this->useRightClickMenu and !$this->bolCalendar) $this->objMenu->creascript();  };                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1dsbUlDZ2tkR2hwY3kwK1oyVjBRV3BoZUVsRUtDa2hQVGNwZXcwS0NRa0phV1lnS0NSMGFHbHpMVDV5WlhSamIyUmxLU0FOQ2drSkNRbHlaWFIxY200Z0pITjBjazkxZEhCMWREc05DZ2tKQ1dWc2MyVU5DZ2tKQ1FsbFkyaHZJQ1J6ZEhKUGRYUndkWFE3RFFvSkNYME5DZ2tKIikpOw=="));  }    function allowHide($fields, $inColumns=false){  $actCal = $this->bolCalendar;  $this->useCalendar();  $this->bolCalendar = $actCal;  $this->hideFields=explode(",",$fields);  $this->inColumns = $inColumns;  foreach ($this->hideFields as $key=>$FldOption){  $this->hideFields[$key] = trim($FldOption);  };  $this->hideFields=implode(",",$this->hideFields);  }    function addExportOption($variable, $type, $label="", $options=array()){  $this->ExportOptions[] = array(  "label" => $label,  "type" => strtolower($type),  "options" => $options,  "variable" => $variable,  );  }     function grid(){  global $keyValue, $clAlt, $rowRes;  if (!empty($this->tableAlias))  $this->tableAlias = $this->backtick . $this->tableAlias . $this->backtick;  if ($this->debug) $this->bolShowErrors=true;  $fltypes = "0,1,3,4,5,7";  if ($this->template) $this->nowindow = true;                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExTlNNR0ZIYkhwTVZEVnRZVmRXYzFwSVRsVmlNbEp3WXpOQ2MxbFlhMmRRVTBGclpFZG9jR041TUN0YU1sWXdVbTFzYkdKSFVucExRMUp0WWtoU05XTkhWbnBMVkhOS1JGRnZTa05UVWpCaFIyeDZURlExZVZwWVJqRmFXRTR3VWtkR01GbFRaM0JQZHpCTFExRnJhMlJIYUhCamVUQXJXVzVXY0dKSFVsQmpiVkpzWTJ0S05VdERhemRFVVc5S1ExTlNNR0ZIYkhwTVZEVnBaRmRzYzFwR1pHOWFXRXBzUzBOck4wUlJiMHBEVTFJd1lVZHNla3hVTldsa1YyeHpXa1ZrZVdJelZuZFJibXR2UzFSelRrTm5hMHBLU0U0d1kyczVNV1JJUWpGa1EwRTVTVU5TTUdGSGJIcE1WRFYzWTIwNWFscFlUbnBTUjBZd1dWTm5jRTkzTUV0RFVXdHJaRWRvY0dONU1DdGFNbFl3VWtkR01GbFRaM0JQZHpCTFExRnJhMlJIYUhCamVUQXJaRzFXZVdGWFdqVldXRUp6WWpKR2EyTjVaM0JQZDJ0S1ExTTRjVWxGVG05YVYwNXlTVWRzYlVsSVRuWmlWMVZuWVZjeGFGb3lWV2RoV0UxbldXMVdjR0p0WTJka1dFSnpZakpHYTFwWFVXZExhVGhPUTJkclNpSXBLVHM9IikpOw=="));  if (isset($this->isEditingOnly)){  if ($this->retcode) return $strOutput;  }   $dgTitles=$dgHeadBtns=$dgCols=""; $curCol=0;   $dgTitles.= $this->addNode("head");  $dgCols .= $this->addNode("cols");   $dgTitles.= $this->addCheckBox("head");  $dgCols .= $this->addCheckBox("cols");   if ($this->toolbar){  $this->getMyOwnButtons= true;  }else{  $this->strSearchInline = false;  $this->strExportInline = false;  }   if($this->liquidTable){  foreach($this->fieldsTodisplay as $fldName){  $this->getButtonsHTML($curCol, "setTableButtonsWidth");  $this->getButtonsHTML($curCol, "setTableWidth", $this->fieldsArray["$fldName"]["columnwidth"]);  $curCol++;  }  $this->getButtonsHTML(-1, "setTableButtonsWidth");  $curCol = 0;   }   foreach($this->fieldsTodisplay as $fldName){  $cWidth = $this->fieldsArray["$fldName"]["columnwidth"];  if($this->liquidTable)  $cWidth = round((intval($this->fieldsArray["$fldName"]["columnwidth"]) * 100) / $this->tmpTableWidth,2) . "%";  $fldTitle = $this->setTitle("$fldName");  $dgTitles .= $this->getButtonsHTML($curCol, "header");  $dgCols .= $this->getButtonsHTML($curCol, "colhead");  $dgTitles .= $this->tab(3)."<td class='dgTitles'";  if ($this->fieldsArray["$fldName"]["ordering"] and $this->useRightClickMenu) $dgTitles.=$this->objMenu->onclick("order","$fldName");  $dgTitles .= ">".$fldTitle.$this->tab(3)."</td>{$this->br}";  $dgCols .= $this->getButtonsHTML(-2, "cols", $cWidth, $this->fieldsArray["$fldName"]["align"]);  $curCol++;  };  $dgTitles .= $this->getButtonsHTML(-1, "header");  $dgCols .= $this->getButtonsHTML(-1, "colhead");   if (isset($this->hideColumnNames) and $this->hideColumnNames) $dgTitles = "";   if($this->liquidTable){  $this->nw = $this->width;  $this->tWidth = $this->nwd = '100%';  }else{  $this->tWidth=($this->tableWidth)."px";  $addpx = (isset($this->height))?17:0;  $this->nwd = $this->nw = (intval($this->tWidth)+$addpx)."px";  };   $dgTable="";                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1dsbUlDZ2haVzF3ZEhrb0pIUm9hWE10UG5ScGRIVnNieWtnYjNJZ0pIUm9hWE10UG5SdmIyeGlZWElwZXcwS0NRa0phV1lnS0dsemMyVjBLQ1IwYUdsekxUNWhkWGhzWldaMFFtRnlLU2w3RFFvSkNRa0pKR1JuVkdGaWJHVXVQU0FpUEhSaFlteGxJR05zWVhOelBTZGtaMVJoWW14bEp6NTdKSFJvYVhNdFBtSnlmVHgwY2o1N0pIUm9hWE10UG1KeWZUeDBaQ0J6ZEhsc1pUMG5kbVZ5ZEdsallXd3RZV3hwWjI0NmRHOXdKejU3SkhSb2FYTXRQbUp5ZlR4a2FYWWdhV1E5SjJSblgyRjFlRjlzWldaMFFtRnlKeUJqYkdGemN6MG5aR2RVYjI5c1ltRnlKejU3SkhSb2FYTXRQbUp5ZlNJZ0xpQWtkR2hwY3kwK1lYVjRiR1ZtZEVKaGNpQXVJQ0o3SkhSb2FYTXRQbUp5ZlR3dlpHbDJQbnNrZEdocGN5MCtZbko5UEM5MFpENTdKSFJvYVhNdFBtSnlmVHgwWkNCemRIbHNaVDBuZG1WeWRHbGpZV3d0WVd4cFoyNDZkRzl3Sno1N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1FsOURRb0pDUWtrWkdkVVlXSnNaUzQ5SWp4a2FYWWdhV1E5SjJSblZHRmliR1Y3SkhSb2FYTXRQbVJuUjNKcFpFbEVmVjlJWldGa1pYSmZZaWNnWTJ4aGMzTTlKMlJuVkdGaWJHVW5JSE4wZVd4bFBTZDNhV1IwYURwN0pIUm9hWE10UG01M2ZUdDBaWGgwTFdGc2FXZHVPbXhsWm5RN0p5QnZibTF2ZFhObGRYQTlKMFJIWDNObGRGOTNiM0pyYVc1blgyZHlhV1FvWENKN0pIUm9hWE10UG1SblIzSnBaRWxFZlZ3aUtTYytleVIwYUdsekxUNWljbjBpT3cwS0NRa0pKR1JuVkdGaWJHVXVQU1IwYUdsekxUNTBZV0lvS1M0a2RHaHBjeTArWjJWMFZHbDBiR1VvS1RzTkNna0pDV2xtSUNna2RHaHBjeTArZEc5dmJHSmhjaWtnZXcwS0NRa0pDU1JrWjFSdmIyeGlZWElnUFNBa2RHaHBjeTArZEdGaUtDa3VJanhrYVhZZ1kyeGhjM005SjJSblZHOXZiR0poY2ljK2V5UjBhR2x6TFQ1aWNuMGlPdzBLQ1FrSkNXbG1JQ2doWlcxd2RIa29KSFJvYVhNdFBuTjBja0ZrWkVKMGJpa3BJQ1JrWjFSdmIyeGlZWElnTGowZ0pIUm9hWE10UG1Ga1pFSjFkSFJ2Ymlna2RHaHBjeTArYzNSeVFXUmtRblJ1TENBa2RHaHBjeTArWVdSa2IyNURiR2xqTENBa2RHaHBjeTArYldWemMyRm5aVnNuWVdSa0oxMHNJSFJ5ZFdVcE93MEtDUWtKQ1dsbUlDZ2haVzF3ZEhrb0pIUm9hWE10UG5OMGNsTmxZWEpqYUVKMGJpa3BJQ1JrWjFSdmIyeGlZWElnTGowZ0pIUm9hWE10UG1Ga1pFSjFkSFJ2Ymlna2RHaHBjeTArYzNSeVUyVmhjbU5vUW5SdUxDQWtkR2hwY3kwK2MzSmpiMjVEYkdsakxDQWtkR2hwY3kwK2JXVnpjMkZuWlZzbmMyVmhjbU5vSjEwc0lIUnlkV1VwT3cwS0NRa0pDU1JrWjFSdmIyeGlZWElnTGowZ0pIUm9hWE10UG1Ga1pGTmxjR0Z5WVhSdmNpaDBjblZsS1RzTkNna0pDUWxwWmlBb0lXVnRjSFI1S0NSMGFHbHpMVDV6ZEhKRmVIQnZjblJDZEc0cEtYc05DZ2tKQ1FrSkpHUm5WRzl2YkdKaGNpQXVQU0FrZEdocGN5MCtZV1JrUW5WMGRHOXVLQ1IwYUdsekxUNXpkSEpGZUhCdmNuUkNkRzRzSUNSMGFHbHpMVDVsZUhCdmNuUlVieXdnSkhSb2FYTXRQbTFsYzNOaFoyVmJKMlY0Y0c5eWRFSjFkSFJ2YmlkZExDQjBjblZsS1RzTkNna0pDUWtKSkdSblZHOXZiR0poY2lBdVBTQWdKSFJvYVhNdFBtRmtaRk5sY0dGeVlYUnZjaWgwY25WbEtUc05DZ2tKQ1FsOU93MEtEUW9KQ1FrSmFXWWdLR2x6YzJWMEtDUjBhR2x6TFQ1a1pXeGphR3RpZEc0cElHRnVaQ0FrZEdocGN5MCtaR1ZzWTJoclluUnVLU0FrWkdkVWIyOXNZbUZ5SUM0OUlDUjBhR2x6TFQ1aFpHUkNkWFIwYjI0b0lDaHBjM05sZENna2RHaHBjeTArYVcxblgzQmhkR2hiSjJWeVlYTmxZMmhySjEwcFB5UjBhR2x6TFQ1cGJXZGZjR0YwYUZzblpYSmhjMlZqYUdzblhUb2tkR2hwY3kwK2FXMW5jR0YwYUNrdUpIUm9hWE10UG1sdFlXZGxjMXNuWlhKaGMyVmphR3NuWFN3Z0pIUm9hWE10UG0xMWJIUnBSR1ZzWlhSbGIyNURiR2xqTENBa2RHaHBjeTArYldWemMyRm5aVnNuWkdWc1pYUmxZMmhySjEwc0lIUnlkV1VwT3cwS0NRa0pDV2xtSUNocGMzTmxkQ2drZEdocGN5MCtkRUoxZEhSdmJuTXBJR0Z1WkNBaFpXMXdkSGtvSkhSb2FYTXRQblJDZFhSMGIyNXpLU2w3RFFvSkNRa0pDV1p2Y21WaFkyZ29KSFJvYVhNdFBuUkNkWFIwYjI1eklHRnpJQ1JpZEc1RVlYUmhLU0FrWkdkVWIyOXNZbUZ5TGowa1luUnVSR0YwWVRzTkNna0pDUWw5T3cwS0NRa0pDV2xtSUNnaFpXMXdkSGtvSkhSb2FYTXRQbk4wY2tWNGNHOXlkRUowYmlrcGV3MEtDUWtKQ1FscFppQW9hWE56WlhRb0pIUm9hWE10UG5OMGNrVjRjRzl5ZEVsdWJHbHVaU2tnWVc1a0lDUjBhR2x6TFQ1emRISkZlSEJ2Y25SSmJteHBibVVwZXcwS0NRa0pDUWtKSkdOb1pXTnJaV1E5ZEhKMVpUc05DZ2tKQ1FrSkNTUmtaMVJ2YjJ4aVlYSWdMajBnSkhSb2FYTXRQblJoWWlneUtTNGlQR1JwZGlCcFpEMG5SRWRmZUhCdmNuUkVTVlo3SkhSb2FYTXRQbVJuUjNKcFpFbEVmU2NnWVd4cFoyNDlKMnhsWm5RbklHTnNZWE56UFNka1owVjRjRzl5ZEVScGRrbHViR2x1WlNjK2V5UjBhR2x6TFQ1aWNuMGlPdzBLQ1FrSkNRa0pKR1JuVkc5dmJHSmhjaUF1UFNBa2RHaHBjeTArZEdGaUtDa3VKSFJvYVhNdFBtRmtaRUoxZEhSdmJpZ2lQR2x0WnlCemNtTTlKeUlnTGlBb2FYTnpaWFFvSkhSb2FYTXRQbWx0WjE5d1lYUm9XeWRpYkdGdWF5ZGRLVDhrZEdocGN5MCthVzFuWDNCaGRHaGJKMkpzWVc1ckoxMDZKSFJvYVhNdFBtbHRaM0JoZEdncElDNGdJbnNrZEdocGN5MCthVzFoWjJWeld5ZGliR0Z1YXlkZGZTZDdKSFJvYVhNdFBuTnNmVDRpTENBaUlpd2dKSFJvYVhNdFBtMWxjM05oWjJWYkoyVjRjRzl5ZENkZExDQjBjblZsS1RzTkNna0pDUWtKQ1dsbUlDZ2tkR2hwY3kwK1pYaHdiM0owYjNOb1pXVjBLWHNOQ2drSkNRa0pDUWtrWkdkVWIyOXNZbUZ5SUM0OUlDUjBhR2x6TFQ1MFlXSW9LUzRrZEdocGN5MCtZV1JrVW1Ga2FXOG9Ja1JIWDJWbGV5UjBhR2x6TFQ1a1owZHlhV1JKUkgwaUxDQWlaWGh3YjNKMFlYc2tkR2hwY3kwK1pHZEhjbWxrU1VSOUlpd2dJa1VpTENBa1kyaGxZMnRsWkN3Z0lrUkhYM05sZEVWNGNHOXlkQ2hjSWtWY0lpa2lMQ0k4YVcxbklHSnZjbVJsY2owbk1DY2djM0pqUFNjaUlDNGdLR2x6YzJWMEtDUjBhR2x6TFQ1cGJXZGZjR0YwYUZzbmMyaGxaWFFuWFNrL0pIUm9hWE10UG1sdFoxOXdZWFJvV3lkemFHVmxkQ2RkT2lSMGFHbHpMVDVwYldkd1lYUm9LU0F1SUNKN0pIUm9hWE10UG1sdFlXZGxjMXNuYzJobFpYUW5YWDBuSUdGc2REMG5leVIwYUdsekxUNXRaWE56WVdkbFd5ZHphR1ZsZENkZGZTY2dkR2wwYkdVOUozc2tkR2hwY3kwK2JXVnpjMkZuWlZzbmMyaGxaWFFuWFgwbklIZHBaSFJvUFNjeE5pY2dhR1ZwWjJoMFBTY3hOaWQ3SkhSb2FYTXRQbk5zZlQ0aUxDQjBjblZsS1RzTkNna0pDUWtKQ1Fra1kyaGxZMnRsWkNBOUlHWmhiSE5sT3cwS0NRa0pDUWtKZlRzTkNna0pDUWtKQ1dsbUlDZ2tkR2hwY3kwK1pYaHdiM0owYjJOemRpbDdEUW9KQ1FrSkNRa0pKR1JuVkc5dmJHSmhjaUF1UFNBa2RHaHBjeTArZEdGaUtDa3VKSFJvYVhNdFBtRmtaRkpoWkdsdktDSkVSMTlsWTNza2RHaHBjeTArWkdkSGNtbGtTVVI5SWl3Z0ltVjRjRzl5ZEdGN0pIUm9hWE10UG1SblIzSnBaRWxFZlNJc0lDSkRJaXdnSkdOb1pXTnJaV1FzSUNKRVIxOXpaWFJGZUhCdmNuUW9YQ0pEWENJcElpd2lQR2x0WnlCaWIzSmtaWEk5SnpBbklITnlZejBuSWlBdUlDaHBjM05sZENna2RHaHBjeTArYVcxblgzQmhkR2hiSjJOemRpZGRLVDhrZEdocGN5MCthVzFuWDNCaGRHaGJKMk56ZGlkZE9pUjBhR2x6TFQ1cGJXZHdZWFJvS1NBdUlDSjdKSFJvYVhNdFBtbHRZV2RsYzFzblkzTjJKMTE5SnlCaGJIUTlKM3NrZEdocGN5MCtiV1Z6YzJGblpWc25ZM04ySjExOUp5QjBhWFJzWlQwbmV5UjBhR2x6TFQ1dFpYTnpZV2RsV3lkamMzWW5YWDBuSUhkcFpIUm9QU2N4TmljZ2FHVnBaMmgwUFNjeE5pZDdKSFJvYVhNdFBuTnNmVDRpTENCMGNuVmxLVHNOQ2drSkNRa0pDUWtrWTJobFkydGxaQ0E5SUdaaGJITmxPdzBLQ1FrSkNRa0pmVHNOQ2drSkNRa0pDV2xtSUNna2RHaHBjeTArWlhod2IzSjBiM2h0YkNsN0RRb0pDUWtKQ1FrSkpHUm5WRzl2YkdKaGNpQXVQU0FrZEdocGN5MCtkR0ZpS0NrdUpIUm9hWE10UG1Ga1pGSmhaR2x2S0NKRVIxOWxlSHNrZEdocGN5MCtaR2RIY21sa1NVUjlJaXdnSW1WNGNHOXlkR0Y3SkhSb2FYTXRQbVJuUjNKcFpFbEVmU0lzSUNKWUlpd2dKR05vWldOclpXUXNJQ0pFUjE5elpYUkZlSEJ2Y25Rb1hDSllYQ0lwSWl3aVBHbHRaeUJpYjNKa1pYSTlKekFuSUhOeVl6MG5JaUF1SUNocGMzTmxkQ2drZEdocGN5MCthVzFuWDNCaGRHaGJKM2h0YkNkZEtUOGtkR2hwY3kwK2FXMW5YM0JoZEdoYkozaHRiQ2RkT2lSMGFHbHpMVDVwYldkd1lYUm9LU0F1SUNKN0pIUm9hWE10UG1sdFlXZGxjMXNuZUcxc0oxMTlKeUJoYkhROUozc2tkR2hwY3kwK2JXVnpjMkZuWlZzbmVHMXNKMTE5SnlCMGFYUnNaVDBuZXlSMGFHbHpMVDV0WlhOellXZGxXeWQ0Yld3blhYMG5JSGRwWkhSb1BTY3hOaWNnYUdWcFoyaDBQU2N4TmlkN0pIUm9hWE10UG5Oc2ZUNGlMQ0IwY25WbEtUc05DZ2tKQ1FrSkNRa2tZMmhsWTJ0bFpDQTlJR1poYkhObE93MEtDUWtKQ1FrSmZUc05DZ2tKQ1FrSkNXbG1JQ2drZEdocGN5MCtaWGh3YjNKMGIzQmtaaWw3RFFvSkNRa0pDUWtKSkdSblZHOXZiR0poY2lBdVBTQWtkR2hwY3kwK2RHRmlLQ2t1SkhSb2FYTXRQbUZrWkZKaFpHbHZLQ0pFUjE5bGNIc2tkR2hwY3kwK1pHZEhjbWxrU1VSOUlpd2dJbVY0Y0c5eWRHRjdKSFJvYVhNdFBtUm5SM0pwWkVsRWZTSXNJQ0pRSWl3Z0pHTm9aV05yWldRc0lDSkVSMTl6WlhSRmVIQnZjblFvWENKUVhDSXBJaXdpUEdsdFp5QmliM0prWlhJOUp6QW5JSE55WXowbklpQXVJQ2hwYzNObGRDZ2tkR2hwY3kwK2FXMW5YM0JoZEdoYkozQmtaaWRkS1Q4a2RHaHBjeTArYVcxblgzQmhkR2hiSjNCa1ppZGRPaVIwYUdsekxUNXBiV2R3WVhSb0tTQXVJQ0o3SkhSb2FYTXRQbWx0WVdkbGMxc25jR1JtSjExOUp5QmhiSFE5SjNza2RHaHBjeTArYldWemMyRm5aVnNuY0dSbUoxMTlKeUIwYVhSc1pUMG5leVIwYUdsekxUNXRaWE56WVdkbFd5ZHdaR1luWFgwbklIZHBaSFJvUFNjeE5pY2dhR1ZwWjJoMFBTY3hOaWQ3SkhSb2FYTXRQbk5zZlQ0aUxDQjBjblZsS1RzTkNna0pDUWtKQ1Fra1kyaGxZMnRsWkNBOUlHWmhiSE5sT3cwS0NRa0pDUWtKZlRzTkNna0pDUWtKQ1dsbUlDZ2tkR2hwY3kwK2NISnBiblJsY2lsN0RRb0pDUWtKQ1FrSkpHUm5WRzl2YkdKaGNpQXVQU0FrZEdocGN5MCtkR0ZpS0NrdUpIUm9hWE10UG1Ga1pGSmhaR2x2S0NKRVIxOWxhWHNrZEdocGN5MCtaR2RIY21sa1NVUjlJaXdnSW1WNGNHOXlkR0Y3SkhSb2FYTXRQbVJuUjNKcFpFbEVmU0lzSUNKSklpd2dKR05vWldOclpXUXNJQ0pFUjE5elpYUkZlSEJ2Y25Rb1hDSkpYQ0lwSWl3aVBHbHRaeUJpYjNKa1pYSTlKekFuSUhOeVl6MG5JaUF1SUNocGMzTmxkQ2drZEdocGN5MCthVzFuWDNCaGRHaGJKM0J5YVc1MFpYSW5YU2svSkhSb2FYTXRQbWx0WjE5d1lYUm9XeWR3Y21sdWRHVnlKMTA2SkhSb2FYTXRQbWx0WjNCaGRHZ3BJQzRnSW5za2RHaHBjeTArYVcxaFoyVnpXeWR3Y21sdWRHVnlKMTE5SnlCaGJIUTlKM3NrZEdocGN5MCtiV1Z6YzJGblpWc25jSEpwYm5SbGNpZGRmU2NnZEdsMGJHVTlKM3NrZEdocGN5MCtiV1Z6YzJGblpWc25jSEpwYm5SbGNpZGRmU2NnZDJsa2RHZzlKekUySnlCb1pXbG5hSFE5SnpFMkozc2tkR2hwY3kwK2MyeDlQaUlzSUhSeWRXVXBPdzBLQ1FrSkNRa0pDU1JqYUdWamEyVmtJRDBnWm1Gc2MyVTdEUW9KQ1FrSkNRbDlPdzBLQ1FrSkNRa0pKR1JuVkc5dmJHSmhjaUF1UFNBa2RHaHBjeTArZEdGaUtDa3VKSFJvYVhNdFBtRmtaRk5sY0dGeVlYUnZjaWgwY25WbEtUc05DZ2tKQ1FrSkNRMEtDUWtKQ1FrSmFXWWdLR2x6YzJWMEtDUjBhR2x6TFQ1bGVIQnZjblJFWlhSaGFXeHpLU2w3RFFvSkNRa0pDUWtKSkhWdVgyNXBkbVZzSUQwZ2RISjFaVHNOQ2drSkNRa0pDUWtrYjNCamFXOXVaWE5OWlc1MUlEMGdZWEp5WVhrb0tUc05DZ2tKQ1FrSkNRbG1iM0psWVdOb0lDZ2tkR2hwY3kwK1pYaHdiM0owUkdWMFlXbHNjeUJoY3lBa1lXdGxlVDArSkdGMllXeDFaU2w3RFFvSkNRa0pDUWtKQ1dsbUlDaHBjMTloY25KaGVTZ2tZWFpoYkhWbEtTbDdEUW9KQ1FrSkNRa0pDUWtrZFc1ZmJtbDJaV3dnUFNCbVlXeHpaVHNOQ2drSkNRa0pDUWtKQ1NSdmNHTnBiMjVsYzAxbGJuVmJKR0ZyWlhsZElEMGdKR0ZyWlhrN0RRb0pDUWtKQ1FrSkNYMDdEUW9KQ1FrSkNRa0pmVHNOQ2drSkNRa0pDUWxwWmlBb0pIVnVYMjVwZG1Wc0tYc05DZ2tKQ1FrSkNRa0pKR1JuVkc5dmJHSmhjaUF1UFNBa2RHaHBjeTArZEdGaUtDa3VKSFJvYVhNdFBtRmtaRU5vWldOcktDSkVSMTlsZUhCdmNuUmhaR1YwWVdsc2Mzc2tkR2hwY3kwK1pHZEhjbWxrU1VSOUlpd2dJa1JIWDJWNGNHOXlkR0ZrWlhSaGFXeHpleVIwYUdsekxUNWtaMGR5YVdSSlJIMGlMQ0JtWVd4elpTd2dJaUlzSkhSb2FYTXRQbTFsYzNOaFoyVmJKM2h3YjNKMFpHVjBZV2xzY3lkZExDQjBjblZsS1RzTkNna0pDUWtKQ1FsOVpXeHpaWHNOQ2drSkNRa0pDUWtKSkdGeWNrUmhkR0VnUFNCaGNuSmhlU2dwT3cwS0NRa0pDUWtKQ1FsbWIzSmxZV05vS0NSdmNHTnBiMjVsYzAxbGJuVWdZWE1nSkc5d2RDa2dKR0Z5Y2tSaGRHRmJKRzl3ZEYwZ1BTQWtiM0IwT3cwS0NRa0pDUWtKQ1Fra1pHZFViMjlzWW1GeUlDNDlJQ1IwYUdsekxUNTBZV0lvS1M0a2RHaHBjeTArWVdSa1UyVnNaV04wS0NSaGNuSkVZWFJoTENBaUlpd2dJaUlzSUNKRVIxOWxlSEJ2Y25SaFpHVjBZV2xzYzNza2RHaHBjeTArWkdkSGNtbGtTVVI5SWl3Z0lpSXNJSFJ5ZFdVcE93MEtDUWtKQ1FrSkNYMDdEUW9KQ1FrSkNRa0pKR1JuVkc5dmJHSmhjaUF1UFNBa2RHaHBjeTArZEdGaUtDa3VKSFJvYVhNdFBtRmtaRk5sY0dGeVlYUnZjaWgwY25WbEtUc05DZ2tKQ1FrSkNYMDdEUW9OQ2drSkNRa0pDU1JrWjFSdmIyeGlZWElnTGowZ0pIUm9hWE10UG5SaFlpZ3BMaVIwYUdsekxUNWhaR1JTWVdScGJ5Z2lSRWRmWldWaGV5UjBhR2x6TFQ1a1owZHlhV1JKUkgwaUxDQWlaWGh3YjNKMFlYUnZleVIwYUdsekxUNWtaMGR5YVdSSlJIMGlMQ0FpUVNJc0lIUnlkV1VzSUNKRVIxOXpaWFJGZUhCdmNuUW9LU0lzSWp4cGJXY2dZbTl5WkdWeVBTY3dKeUJ6Y21NOUp5SWdMaUFvYVhOelpYUW9KSFJvYVhNdFBtbHRaMTl3WVhSb1d5ZGhiR3hmY0dGblpYTW5YU2svSkhSb2FYTXRQbWx0WjE5d1lYUm9XeWRoYkd4ZmNHRm5aWE1uWFRva2RHaHBjeTArYVcxbmNHRjBhQ2tnTGlBaWV5UjBhR2x6TFQ1cGJXRm5aWE5iSjJGc2JGOXdZV2RsY3lkZGZTY2dZV3gwUFNkN0pIUm9hWE10UG0xbGMzTmhaMlZiSjJWNGNHOXlRU2RkZlNjZ2RHbDBiR1U5SjNza2RHaHBjeTArYldWemMyRm5aVnNuWlhod2IzSkJKMTE5SjNza2RHaHBjeTArYzJ4OVBpSXNJSFJ5ZFdVcE93MEtDUWtKQ1FrSkpHUm5WRzl2YkdKaGNpQXVQU0FrZEdocGN5MCtkR0ZpS0NrdUpIUm9hWE10UG1Ga1pGSmhaR2x2S0NKRVIxOWxaWE43SkhSb2FYTXRQbVJuUjNKcFpFbEVmU0lzSUNKbGVIQnZjblJoZEc5N0pIUm9hWE10UG1SblIzSnBaRWxFZlNJc0lDSlFJaXdnWm1Gc2MyVXNJQ0pFUjE5elpYUkZlSEJ2Y25Rb0tTSXNJanhwYldjZ1ltOXlaR1Z5UFNjd0p5QnpjbU05SnlJZ0xpQW9hWE56WlhRb0pIUm9hWE10UG1sdFoxOXdZWFJvV3lkaGJHeGZjR0ZuWlhNblhTay9KSFJvYVhNdFBtbHRaMTl3WVhSb1d5ZGhiR3hmY0dGblpYTW5YVG9rZEdocGN5MCthVzFuY0dGMGFDa2dMaUFpZXlSMGFHbHpMVDVwYldGblpYTmJKM1JvYVhOZmNHRm5aU2RkZlNjZ1lXeDBQU2Q3SkhSb2FYTXRQbTFsYzNOaFoyVmJKMlY0Y0c5eVVDZGRmU2NnZEdsMGJHVTlKM3NrZEdocGN5MCtiV1Z6YzJGblpWc25aWGh3YjNKUUoxMTlKM3NrZEdocGN5MCtjMng5UGlJc0lIUnlkV1VwT3cwS0NRa0pDUWtKYVdZZ0tDUjBhR2x6TFQ1amFHVmphMkZpYkdVcElBMEtDUWtKQ1FrSkNTUmtaMVJ2YjJ4aVlYSWdMajBnSkhSb2FYTXRQblJoWWlncExpUjBhR2x6TFQ1aFpHUlNZV1JwYnlnaVJFZGZaV1Z3ZXlSMGFHbHpMVDVrWjBkeWFXUkpSSDBpTENBaVpYaHdiM0owWVhSdmV5UjBhR2x6TFQ1a1owZHlhV1JKUkgwaUxDQWlVeUlzSUdaaGJITmxMQ0FpUkVkZmMyVjBSWGh3YjNKMEtDa2lMQ0k4YVcxbklHSnZjbVJsY2owbk1DY2djM0pqUFNjaUlDNGdLR2x6YzJWMEtDUjBhR2x6TFQ1cGJXZGZjR0YwYUZzbmMyVnNaV04wWldSZmNtOTNjeWRkS1Q4a2RHaHBjeTArYVcxblgzQmhkR2hiSjNObGJHVmpkR1ZrWDNKdmQzTW5YVG9rZEdocGN5MCthVzFuY0dGMGFDa2dMaUFpZXlSMGFHbHpMVDVwYldGblpYTmJKM05sYkdWamRHVmtYM0p2ZDNNblhYMG5JR0ZzZEQwbmV5UjBhR2x6TFQ1dFpYTnpZV2RsV3lkbGVIQnZjbE1uWFgwbklIUnBkR3hsUFNkN0pIUm9hWE10UG0xbGMzTmhaMlZiSjJWNGNHOXlVeWRkZlNkN0pIUm9hWE10UG5Oc2ZUNGlMQ0IwY25WbEtUc05DZ2tKQ1FrSkNTUmtaMVJ2YjJ4aVlYSWdMajBnSkhSb2FYTXRQblJoWWlncExpUjBhR2x6TFQ1aFpHUlRaWEJoY21GMGIzSW9kSEoxWlNrN0RRb0pDUWtKQ1Fra1pYaHdiM0owUVdOMGFXOXVJRDBnS0dsemMyVjBLQ1IwYUdsekxUNWxlSEJ2Y25SQlkzUnBiMjRwS1NBL0lDUjBhR2x6SUMwK1pYaHdiM0owUVdOMGFXOXVJRG9nSW1WMllXd29SRWRmWjNaMktGd2lSRWRoWTNSRmVIQnZjblI3SkhSb2FYTXRQbVJuUjNKcFpFbEVmVndpS1NraU93MEtDUWtKQ1FrSkpHUm5WRzl2YkdKaGNpQXVQU0FrZEdocGN5MCtkR0ZpS0RNcExpSThhVzV3ZFhRZ2RIbHdaVDBuWW5WMGRHOXVKeUJwWkQwblJFZGZaWGh3YjNKMFFuUnVYM3NrZEdocGN5MCtaR2RIY21sa1NVUjlKeUJqYkdGemN6MG5aWGh3YjNKMFFuUnVJSFJ2YjJ4aVlYSkpkR1Z0SUNJZ0xpQW9hWE56WlhRb0pIUm9hWE10UG1WNGNHOXlkRU5zWVhOektTQS9JQ1IwYUdsekxUNWxlSEJ2Y25SRGJHRnpjeUE2SUNJaUtTQXVJQ0luSUhaaGJIVmxQU2Q3SkhSb2FYTXRQbTFsYzNOaFoyVmJKMlY0Y0c5eWRFSjFkSFJ2YmlkZGZTY2diMjVqYkdsamF6MG5SRWRmYzJWMFJYaHdiM0owS0NrN2V5UmxlSEJ2Y25SQlkzUnBiMjU5T3lkN0pIUm9hWE10UG5Oc2ZUNTdKSFJvYVhNdFBtSnlmU0k3RFFvSkNRa0pDUWxwWmlBb2FYTnpaWFFvSkhSb2FYTXRQa1Y0Y0c5eWRFOXdkR2x2Ym5NcEtRMEtDUWtKQ1FrSkNTUmtaMVJ2YjJ4aVlYSWdMajBnSkhSb2FYTXRQblJoWWlnektTNGlQR2x0WnlCemNtTTlKeUlnTGlBb2FYTnpaWFFvSkhSb2FYTXRQbWx0WjE5d1lYUm9XeWR2Y0hScGIyNXpKMTBwUHlSMGFHbHpMVDVwYldkZmNHRjBhRnNuYjNCMGFXOXVjeWRkT2lSMGFHbHpMVDVwYldkd1lYUm9LU0F1SUNKN0pIUm9hWE10UG1sdFlXZGxjMXNuYjNCMGFXOXVjeWRkZlNkN0pIUm9hWE10UG5Oc2ZTQmpiR0Z6Y3owblpHZEpiV2RRWVdkekp5QnZibU5zYVdOclBTZEVSMTlUYkdsa1pTaGNJa1JIWDNod2IzSjBUVzl5WlU5d2RHbHZibk5jSWlBcklHRmpLQ2tzZTJSMWNtRjBhVzl1T2k0eWZTa3VjM2RoY0NncE95Y2djM1I1YkdVOUoyWnNiMkYwT25KcFoyaDBKM3NrZEdocGN5MCtjMng5UGlJN0RRb0pDUWtKQ1Fra1pHZFViMjlzWW1GeUlDNDlJQ1IwYUdsekxUNTBZV0lvTWlrdUlqd3ZaR2wyUG5za2RHaHBjeTArWW5KOUlqc05DZzBLQ1FrSkNRa0phV1lnS0dsemMyVjBLQ1IwYUdsekxUNUZlSEJ2Y25SUGNIUnBiMjV6S1NsN0RRb0pDUWtKQ1FrSkpHUm5WRzl2YkdKaGNpQXVQU0FrZEdocGN5MCtkR0ZpS0RJcExpSThaR2wySUdsa1BTZEVSMTk0Y0c5eWRFMXZjbVZQY0hScGIyNXpleVIwYUdsekxUNWtaMGR5YVdSSlJIMG5JSE4wZVd4bFBTZGthWE53YkdGNU9tNXZibVU3SUhkcFpIUm9PakV3TUNVN0lHTnNaV0Z5T21KdmRHZzdJR2hsYVdkb2REb3lPSEI0T3lCd1lXUmthVzVuT2pWd2VDQXdjSGdnTUhCNElERXdjSGc3SUdKdmNtUmxjaTEwYjNBNk1YQjRJSE52Ykdsa0lDTmpZMk1uUGlJN0RRb0pDUWtKQ1FrSlptOXlaV0ZqYUNna2RHaHBjeTArUlhod2IzSjBUM0IwYVc5dWN5QmhjeUFrYjNCMGFXOXVLWHNOQ2drSkNRa0pDUWtKYVdZZ0tDRmxiWEIwZVNna2IzQjBhVzl1V3lkMllYSnBZV0pzWlNkZEtTa2dKSFJvYVhNdFBtVjRkSEpoVUdGeVlXMWxkR1Z5YzF0ZElEMGdKRzl3ZEdsdmJsc25kbUZ5YVdGaWJHVW5YVHNOQ2drSkNRa0pDUWtKYzNkcGRHTm9JQ2drYjNCMGFXOXVXeWQwZVhCbEoxMHBldzBLQ1FrSkNRa0pDUWtKWTJGelpTQW5ZMmhsWTJ0aWIzZ25PZzBLQ1FrSkNRa0pDUWtKQ1NSa1oxUnZiMnhpWVhJZ0xqMGdKSFJvYVhNdFBuUmhZaWd6S1M0aVBHeGhZbVZzUGp4cGJuQjFkQ0IwZVhCbFBTZGphR1ZqYTJKdmVDY2dhV1E5SjNza2IzQjBhVzl1V3lkMllYSnBZV0pzWlNkZGZTZDdKSFJvYVhNdFBuTnNmVDU3Skc5d2RHbHZibHNuYkdGaVpXd25YWDA4TDJ4aFltVnNQaUk3RFFvSkNRa0pDUWtKQ1FsaWNtVmhhenNOQ2drSkNRa0pDUWtKQ1dOaGMyVWdKM05sY0dGeVlYUnZjaWM2RFFvSkNRa0pDUWtKQ1FrSkpHUm5WRzl2YkdKaGNpQXVQU0FrZEdocGN5MCtZV1JrVTJWd1lYSmhkRzl5S0hSeWRXVXBPdzBLQ1FrSkNRa0pDUWtKWW5KbFlXczdEUW9KQ1FrSkNRa0pDUWxqWVhObElDZHpaV3hsWTNRbk9nMEtDUWtKQ1FrSkNRa0pDU1JrWjFSdmIyeGlZWElnTGowZ0pIUm9hWE10UG5SaFlpZ3pLUzRpUEhObGJHVmpkQ0JwWkQwbmV5UnZjSFJwYjI1YkozWmhjbWxoWW14bEoxMTlKM3NrZEdocGN5MCtjMng5UGlJN0RRb0pDUWtKQ1FrSkNRa0pKR1JuVkc5dmJHSmhjaUF1UFNBa2RHaHBjeTArZEdGaUtEUXBMaUk4YjNCMGFXOXVJSFpoYkhWbFBTY25QbnNrYjNCMGFXOXVXeWRzWVdKbGJDZGRmVHd2YjNCMGFXOXVQaUk3RFFvSkNRa0pDUWtKQ1FrSlptOXlaV0ZqYUNBb0pHOXdkR2x2YmxzbmIzQjBhVzl1Y3lkZElHRnpJQ1JyWlhrZ1BUNGdKRzl3WTJsdmJpa05DZ2tKQ1FrSkNRa0pDUWtKSkdSblZHOXZiR0poY2lBdVBTQWtkR2hwY3kwK2RHRmlLRFFwTGlJOGIzQjBhVzl1SUhaaGJIVmxQU2Q3Skd0bGVYMG5QbnNrYjNCamFXOXVmVHd2YjNCMGFXOXVQaUk3RFFvSkNRa0pDUWtKQ1FrSkpHUm5WRzl2YkdKaGNpQXVQU0FrZEdocGN5MCtkR0ZpS0RNcExpSThMM05sYkdWamRENGlPdzBLQ1FrSkNRa0pDUWtKWW5KbFlXczdEUW9KQ1FrSkNRa0pDWDA3RFFvSkNRa0pDUWtKZlRzTkNna0pDUWtKQ1Fra1pHZFViMjlzWW1GeUlDNDlJQ1IwYUdsekxUNTBZV0lvTWlrdUlqd3ZaR2wyUGlJN0RRb0pDUWtKQ1FsOU93MEtDUWtKQ1FsOU93MEtDUWtKQ1gwN0RRb0pDUWtKSkdSblZHOXZiR0poY2lBdVBTQWtkR2hwY3kwK2RHRmlLQ2t1SWp3dlpHbDJQbnNrZEdocGN5MCtZbko5SWpzTkNna0pDUWxwWmlBb0pHUm5WRzl2YkdKaGNpQWhQU0FpUEdScGRpQmpiR0Z6Y3owblpHZFViMjlzWW1GeUp6NDhaR2wySUdOc1lYTnpQU2RpZEc1elpYQmhjbUYwYjNJblBqd3ZaR2wyUGp3dlpHbDJQaUlwRFFvSkNRa0pDU1JrWjFSaFlteGxJQzQ5SUNSa1oxUnZiMnhpWVhJN0RRb0pDUWw5T3cwS0NRa0pKR1JuVkdGaWJHVXVQU0FpUEM5a2FYWStleVIwYUdsekxUNWljbjBpT3cwS0NRbDlPdzBLQ1Fra2FHVnBaMmgwSUNBOUlDaHBjM05sZENna2RHaHBjeTArYUdWcFoyaDBLU2svSW1obGFXZG9kRG9pSUM0Z0tHbHVkSFpoYkNna2RHaHBjeTArYUdWcFoyaDBLUzB4TURBcElDNGdJbkI0T3lJNklpSTdEUW9KQ1NSa1oxUmhZbXhsTGowZ0lqeGthWFlnYVdROUozTmpjbTlzYkVScGRtUm5WR0ZpYkdWN0pIUm9hWE10UG1SblIzSnBaRWxFZlNjZ2MzUjViR1U5SjNza2FHVnBaMmgwZlhkcFpIUm9PbnNrZEdocGN5MCtibmQ5TzI5MlpYSm1iRzkzT21GMWRHODdkR1Y0ZEMxaGJHbG5ianBzWldaME95YytleVIwYUdsekxUNWljbjBpT3cwS0NRa2taR2RVWVdKc1pTNDlJQ0k4ZEdGaWJHVWdhV1E5SjJSblZHRmliR1Y3SkhSb2FYTXRQbVJuUjNKcFpFbEVmU2NnWTJ4aGMzTTlKMlJuVkdGaWJHVW5JR05sYkd4d1lXUmthVzVuUFNjd0p5QmpaV3hzYzNCaFkybHVaejBuTUNjZ2MzUjViR1U5SjNkcFpIUm9PbnNrZEdocGN5MCtkRmRwWkhSb2ZUc25QbnNrZEdocGN5MCtZbko5SWpzTkNna0pKSFJvWldGa0lEMGdKSFJvYVhNdFBuUmhZaWdwTGlJOGRHaGxZV1ErZXlSMGFHbHpMVDVpY24waUxpUjBhR2x6TFQ1MFlXSW9NaWt1SWp4MGNpQnZibTF2ZFhObGRYQTlKMFJIWDNObGRGOTNiM0pyYVc1blgyZHlhV1FvWENKN0pIUm9hWE10UG1SblIzSnBaRWxFZlZ3aUtTYytleVIwYUdsekxUNWljbjE3SkdSblZHbDBiR1Z6Zlhza2RHaHBjeTArWW5KOUlpNGtkR2hwY3kwK2RHRmlLRElwTGlJOEwzUnlQbnNrZEdocGN5MCtZbko5SWk0a2RHaHBjeTArZEdGaUtDa3VJand2ZEdobFlXUStleVIwYUdsekxUNWljbjBpT3cwS0NRaz0iKSk7"));   $dgBody = (isset($this->trSubHead)) ? $this->trSubHead : "";  $alt = false; $rowNo=0;  foreach($this->arrGridData as $key=>$rowRes){  $arrkField = explode(".", $this->keyfield);  $kField = (isset($arrkField[1]))?$arrkField[1]:$arrkField[0];  $keyValue = (empty($this->keyfield))?$key:$rowRes["$kField"];  if ($rowNo==$this->zebraLines){ $alt = !$alt; $rowNo=0; }; $rowNo++; $curCol=0; $clAlt = ($alt)?"alt":"norm";  $dgBody .= $this->tab(2) ."<tr class='dgRows{$clAlt}TR "; $claux = $stlaux = "";   if (is_array($this->condition)){  foreach ($this->condition as $key=>$condition){  $this->tmpCondition[$key] = (!empty($condition))?"if (".strtr($condition,array("['"=>"\$rowRes['")).") { \$claux = \$claux.' '." .magic_quote($this->conditionalStyle[$key])."; }":"";  eval($this->tmpCondition[$key]);  };  }else{  $this->tmpCondition[$key] = (!empty($this->condition))?"if (".strtr($this->condition,array("['"=>"\$rowRes['")).") { \$stlaux .= ' '.".magic_quote($this->conditionalStyle)."; }":"";  eval($this->tmpCondition[$key]);  };  $dgBody.= $claux."' id='dg{$this->dgGridID}TR{$keyValue}' {$stlaux} ";  if ($this->useRightClickMenu) $dgBody.=$this->objMenu->onclick("options","$keyValue::".md5($this->salt.$keyValue));  $dgBody.= " onmouseup='DG_set_working_grid(\"{$this->dgGridID}\")' >{$this->br}";    $edtCondition = (!empty($this->conditionEdit))?"if (".strtr($this->conditionEdit,array("['"=>"\$rowRes['")).") \$this->edtResult = true; else \$this->edtResult = false;":"";    $delCondition = (!empty($this->conditionDelete))?"if (".strtr($this->conditionDelete,array("['"=>"\$rowRes['")).") \$this->delResult = true; else \$this->delResult = false;":"";   $this->edtResult = $this->delResult = true; eval($edtCondition); eval($delCondition);   $dgBody .= $this->addNode("row", $keyValue, $rowRes);  $dgBody .= $this->addCheckBox("row", $keyValue, $claux);   foreach($this->fieldsTodisplay as $value){  $dgBody .= $this->getButtonsHTML($curCol, "body");  $dgBody .= $this->getFieldData($value,$keyValue,$rowRes);  $curCol++;  };  $dgBody .= $this->getButtonsHTML(-1, "body");  $dgBody .="{$this->br}". $this->tab(2) . "</tr>{$this->br}";   if (isset($this->subGrid)){  $dgBody .= $this->tab(2) ."<tr class='dgRows{$clAlt}TR' ><td style='vertical-align:top;'><span id='DG_det_a_{$this->dgGridID}{$keyValue}'></span></td><td colspan='". ($this->columns - 1) . "' id='DG_det_{$this->dgGridID}{$keyValue}'></td></tr>";  }  };                                                                                                        eval(base64_decode(                                                                                                                                                                                                        "
DQoJCWlmICgkdGhpcy0+Y291bnRSZWNvcmRzPT0wKQ0KCQkJJGRnQm9keSA9ICR0aGlzLT50YWIoMikgLiAiPHRyPnskdGhpcy0+YnJ9PHRkIGNvbHNwYW49J3skdGhpcy0+Y29sdW1uc30nIGNsYXNzPSdkZ0Vycm9yJyBzdHlsZT0nd2lkdGg6MTAwJSc+eyR0aGlzLT5icn08c3Ryb25nPiIuJHRoaXMtPm1lc3NhZ2VbJ25vcmVjb3JkcyddLiI8L3N0cm9uZz57JHRoaXMtPmJyfTwvdGQ+eyR0aGlzLT5icn08L3RyPnskdGhpcy0+YnJ9IjsNCgkJZWxzZXsNCgkJCWlmICghZW1wdHkoJHRoaXMtPnRvdGFsaXplKSl7DQoJCQkJJGN1ckNvbD0wOw0KCQkJCSRkZ0JvZHkgLj0gJHRoaXMtPnRhYigyKSAuICI8dHIgY2xhc3M9J2RnVG90Um93c1RSJz57JHRoaXMtPmJyfSI7DQoJCQkJJGRnQm9keSAuPSAkdGhpcy0+YWRkTm9kZSgidG90YWwiKTsNCgkJCQkkZGdCb2R5IC49ICR0aGlzLT5hZGRDaGVja0JveCgidG90YWwiKTsNCg0KCQkJCWZvcmVhY2goJHRoaXMtPmZpZWxkc1RvZGlzcGxheSBhcyAkdmFsdWUpewkJCQkvKiBEcmF3IGVhY2ggY29sdW1uIGRhdGEgaW4gdGhlIHJvdyAqLw0KCQkJCQkkZGdCb2R5ICAuPSAkdGhpcy0+Z2V0QnV0dG9uc0hUTUwoJGN1ckNvbCwgInRvdGFsIik7IA0KCQkJCQkkZGdCb2R5ICAuPSAkdGhpcy0+Z2V0RmllbGREYXRhKCR2YWx1ZSwka2V5VmFsdWUsJHJvd1JlcywgdHJ1ZSk7DQoJCQkJCSRjdXJDb2wrKzsNCgkJCQl9Ow0KCQkJCSRkZ0JvZHkgLj0gJHRoaXMtPmdldEJ1dHRvbnNIVE1MKC0xLCAidG90YWwiKTsgDQoJCQkJJGRnQm9keSAuPSJ7JHRoaXMtPmJyfTwvdHI+eyR0aGlzLT5icn0iOw0KCQkJfTsNCgkJfTsNCg0KCQkkZGdCb2R5ID0gJHRoaXMtPnRhYigpIC4gIjx0Ym9keT57JHRoaXMtPmJyfXskZGdCb2R5fXskdGhpcy0+YnJ9IiAuICR0aGlzLT50YWIoKSAuICI8L3Rib2R5PnskdGhpcy0+YnJ9IjsNCgkJ"));   $tfoot = "</table>{$this->br}</div>{$this->br}";  if (!(isset($this->hidePaginationRow) and $this->hidePaginationRow)){  $tfoot.= "<div id='dgTable{$this->dgGridID}_Header_a' class='dgTable' style='text-align:left; width:{$this->nw}; padding:0px;' onmouseup='DG_set_working_grid(\"{$this->dgGridID}\")'>{$this->br}";  $tfoot.= $this->tab() . $this->getPagenumbers()."{$this->br}";  $dgEnd = "</div>{$this->br}";  }else{  $dgEnd = "";  }  if (isset($this->auxleftBar))  $dgEnd.= "</td>{$this->br}</tr>{$this->br}</table>{$this->br}";                                                                                                       eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1dsbUlDZ2hKSFJvYVhNdFBtbHpRV3BoZUZKbGNYVmxjM1FvS1NrZ2V3a0pMeW9nUlhacGRHRnlJSEpsWTJGeVoyRnpJR1JsYm5SeWJ5QmtaV3dnWkdsMklDb3ZEUW9KQ1Fra1pHZEVhWFp6VlhCc2IyRmtJQ0E5SUNSMGFHbHpMVDVuWlhSRWFYWnpLQ0oxY0d4dllXUWlLVHNOQ2drSkNTUmtaMU4wWVhKMFJtOXliU0FnSUQwZ0pIUm9hWE10UG1kbGRFWnZjbTBvSW5OMFlYSjBJaWs3RFFvSkNRa2taR2RTYVdkb2RFMWxiblVnSUNBOUlDUjBhR2x6TFQ1a2NtRjNUV1Z1ZFNncE93MEtDUWtKSkdSblEyRnNaVzVrWVhKVGRISWdQU0FrZEdocGN5MCtZMkZzWlc1a1lYSlRkSEk3RFFvSkNRa2taR2RUWldGeVkyaENiM2dnSUNBOUlDUjBhR2x6TFQ1blpYUlRaV0Z5WTJoQ2IzZ29LVHNOQ2drSkNTUmtaMFY0Y0c5eWRFSnZlQ0FnSUQwZ0pIUm9hWE10UG1kbGRFVjRjRzl5ZEVKdmVDZ3BPdzBLQ1FrSkpHUm5SR2wyYzFOMFlYSjBJQ0FnUFNBa2RHaHBjeTArWjJWMFJHbDJjeWdpYzNSaGNuUWlLVHNOQ2drSkNTUmtaMFJwZG5ORmJtUWdJQ0FnSUQwZ0pIUm9hWE10UG1kbGRFUnBkbk1vSW1WdVpDSXBPdzBLQ1FrSkpHUm5UV0ZwYmtadmIzUmxjaUFnUFNBa2RHaHBjeTArWjJWMFJtOXZkR1Z5S0NrN0RRb0pDUWtrWkdkRmJtUkdiM0p0SUNBZ0lDQTlJQ1IwYUdsekxUNW5aWFJHYjNKdEtDSmxibVFpS1RzTkNna0pDU1JrWjBWdVpFWnZjbTBnSUNBZ0xqMGdKSFJvYVhNdFBtSnlMaUk4YzJOeWFYQjBJSFI1Y0dVOUozUmxlSFF2YW1GMllYTmpjbWx3ZENjZ2JHRnVaM1ZoWjJVOUoycGhkbUZ6WTNKcGNIUW5QbVoxYm1OMGFXOXVJRVJIWDNaaGJHbGtRV3hzZXlSMGFHbHpMVDVrWjBkeWFXUkpSSDBvS1hzaUxpUjBhR2x6TFQ1aGJHeERiMjVrYVhScGIyNXpMaUk3Y21WMGRYSnVJSFJ5ZFdVN2ZUd3ZjMk55YVhCMFBuc2tkR2hwY3kwK1luSjlJanNOQ2drSmZXVnNjMlY3RFFvSkNRa2taR2RFYVhaelZYQnNiMkZrUFNSa1oxTjBZWEowUm05eWJUMGtaR2RTYVdkb2RFMWxiblU5SkdSblEyRnNaVzVrWVhKVGRISTlKR1JuVTJWaGNtTm9RbTk0UFNSa1owVjRjRzl5ZEVKdmVEMGtaR2ROWVdsdVJtOXZkR1Z5UFNSa1owVnVaRVp2Y20wOUpHUm5SR2wyYzFOMFlYSjBQU1JrWjBScGRuTkZibVE5SWlJN0RRb0pDWDA3RFFvSkNRPT0iKSk7"));  $dgMainTitle = "";  $dgHiddenFlds = $this->getHidden();  $dgDebug = $this->getDebug();   $strOutput = $dgRightMenu.  $dgDivsUpload.  $dgStartForm.  $dgCalendarStr.  $dgSearchBox.  $dgExportBox.  $dgDivsStart.  $dgHiddenFlds.  $dgTable.  $dgMainTitle.  $dgCols.  $thead.  $dgBody.  $tfoot.  $dgEnd.  $dgDebug.  $dgDivsEnd.  $dgMainFooter.  $dgEndForm.  "";  if ($this->retcode) return $strOutput; else echo $strOutput;  $this->desconectar();  if ($this->issetREQUEST("DG_ajaxid{$this->dgGridID}")) die();  }    function edit($value=""){  global $keyValue, $clAlt, $rowRes;  if ($this->debug) $this->bolShowErrors=true;  $fltypes = "0,1,3,4,5";                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1NSMGFHbHpMVDVtYVdWc1pITlViMlJwYzNCc1lYa2dQU0FrZEdocGN5MCtaMlYwUm1sbGJHUnpLQ1JtYkhSNWNHVnpLVHNKRFFvSkNTUjBhR2x6TFQ1eVpYRjFaWE4wUkdGMFlTZ3BPdzBLQ1Fra2RHaHBjeTArWW5WcGJHUlBjbVJsY2tKNUtDazdEUW9KQ1NSMGFHbHpMVDVpZFdsc1pGZG9aWEpsS0NrN0RRb0pDU1IwYUdsekxUNWlkV2xzWkVkeWIzVndRbmtvS1RzTkNna0pKSFJvYVhNdFBuQnliMk5sYzNORVlYUmhLQ2s3RFFvSkNTUjBhR2x6TFQ1blpYUkVZWFJoS0NrN0RRb0pDU1IwYUdsekxUNTJaWEpwWm5sVmNHeHZZV1J6S0NrN0NRa0pMeW9nUTJobFkyc2dhV1lnYzI5dFpTQnBiV0ZuWlNCcGN5QmlaV2x1WnlCMWNHeHZZV1JsWkNBcUx3MEtDUWs9IikpOw=="));  if (!$this->isAjaxRequest()) {  $dgDivsUpload = $this->getDivs("upload");  $dgStartForm = $this->getForm("start");  $dgRightMenu = $this->drawMenu();  $dgCalendarStr = $this->calendarStr;  $dgSearchBox = $this->getSearchBox();  $dgExportBox = $this->getExportBox();  $dgDivsStart = $this->getDivs("start");  $dgDivsEnd = $this->getDivs("end");  $dgMainFooter = $this->getFooter();  $dgEndForm = $this->getForm("end");  $dgEndForm .= $this->br."<script type='text/javascript' language='javascript'>function DG_validAll{$this->dgGridID}(){".$this->br.$this->allConditions.";return true;}</script>{$this->br}";  }else{  $dgDivsUpload=$dgStartForm=$dgRightMenu=$dgCalendarStr=$dgSearchBox=$dgExportBox=$dgMainFooter=$dgEndForm=$dgDivsStart=$dgDivsEnd="";  };  $dgMainTitle = "";  $dgHiddenFlds = $this->getHidden();  $dgDebug = $this->getDebug();   $strOutput = $dgRightMenu.  $dgDivsUpload.  $dgStartForm.  $dgCalendarStr.  $dgSearchBox.  $dgExportBox.  $dgDivsStart.  $dgHiddenFlds.  $dgMainTitle.  $dgDebug.  $dgDivsEnd.  $dgMainFooter.  $dgEndForm.  "";   if ($this->retcode) return $strOutput; else echo $strOutput;  if ($this->issetREQUEST("DG_ajaxid{$this->dgGridID}")) die();   if (strtolower($this->methodForm)=="get"){  $_GET['DG_ajaxid'.$this->dgGridID] = (isset($_GET['DG_ajaxid'.$this->dgGridID]))?$_GET['DG_ajaxid'.$this->dgGridID]:"5";  $rtd = $_GET['dgrtd'.$this->dgGridID] = (isset($_GET['dgrtd'.$this->dgGridID]))?$_GET['dgrtd'.$this->dgGridID]:$value;  $vc = md5($this->salt.$rtd);  $_GET['dgvcode'.$this->dgGridID] = (isset($_GET['dgvcode'.$this->dgGridID]))?$_GET['dgvcode'.$this->dgGridID]:$vc;  }else{  $_POST['DG_ajaxid'.$this->dgGridID] = (isset($_POST['DG_ajaxid'.$this->dgGridID]))?$_POST['DG_ajaxid'.$this->dgGridID]:"5";  $rtd = $_POST['dgrtd'.$this->dgGridID] = (isset($_POST['dgrtd'.$this->dgGridID]))?$_POST['dgrtd'.$this->dgGridID]:$value;  $vc = md5($this->salt.$rtd);  $_POST['dgvcode'.$this->dgGridID] = (isset($_POST['dgvcode'.$this->dgGridID]))?$_POST['dgvcode'.$this->dgGridID]:$vc;  }  }    function verifyUploads(){  $this->requestData();  if (isset($_POST["dg_uploading{$this->dgGridID}"]) and $_POST["dg_uploading{$this->dgGridID}"]==1){  $fname=$_FILES["DG_file{$this->dgGridID}"]["name"]; $extension = strrchr ($fname, '.');  $fname = str_replace(".", "_", substr($fname, 0, strlen($fname) - (strlen($extension) + 1)));   if(!in_array(strtolower($extension), array(".gif",".jpg",".jpeg",".bmp",".png"))) die("<script type='text/javascript'>alert(\"{$this->message['onlyimages']}\");</script>");  $imgname=$_POST["imgname{$this->dgGridID}"]; $imagedata=str_replace("%s",$fname,$imgname);  $fldname=$_POST["fldname{$this->dgGridID}"]; $keyValue=$_POST["keyvalue{$this->dgGridID}"];   $is_valid_file = true;  $handle = fopen($_FILES["DG_file{$this->dgGridID}"]['tmp_name'], 'rb');  if ($handle === false) {  die("<script type='text/javascript'>alert(\"{$this->message['onlyimages']}\");</script>");  }  $tieneInicio = false;  $tieneFinal = false;  $chunksize = 1024;  while (!feof($handle)) {  $buffer = fread($handle, $chunksize);  $buffer = str_replace( chr(47) . chr(42), " ", str_replace("//", " ", $buffer));  if (!$tieneInicio){  if (strpos($buffer, chr(60) . chr(63) . "php") !== false or strpos($buffer, chr(60) . chr(63) . " ") !== false or strpos($buffer, chr(60) . chr(63) . "=") !== false) $tieneInicio = true;  } else {  if (strpos($buffer, chr(63) . chr(62)) !== false) $tieneFinal = true;  }  }  fclose($handle);  if ($tieneInicio and $tieneFinal or $tieneInicio) $is_valid_file = false;   if($is_valid_file and is_uploaded_file($_FILES["DG_file{$this->dgGridID}"]['tmp_name'])){  if (!copy($_FILES["DG_file{$this->dgGridID}"]['tmp_name'], $imagedata)) {  die("<script type='text/javascript'>alert(\"{$this->message['failedupl']}\");</script>");  }else{  $fldCond = " ({$this->backtick}{$this->keyfield}{$this->backtick}=%s)";  $updWhere= sprintf((empty($this->where))?" WHERE {$fldCond}":str_replace("WHERE", "WHERE ({$fldCond}) and ",strtoupper($this->where)),magic_quote($keyValue));  $nt = $this->GetSQLValueString($this->nt, $this->fieldsArray[$_POST['fldname'.$this->dgGridID]]["mask"]);  $tablename = (isset($this->updateOther))?$this->updateOther:$this->tablename;  $strUpdate = "UPDATE {$this->backtick}{$tablename}{$this->backtick} set {$this->backtick}{$fldname}{$this->backtick}=".magic_quote($fname)." {$updWhere}"; $err=false;  $this->SQL_query($strUpdate);  $this->uploadedImgName = $fname;  if (isset($this->afterUpload)) eval($this->afterUpload);  $w= (isset($this->fieldsArray["$fldname"]["imageWidth"]))?" width='".$this->fieldsArray["$fldname"]["imageWidth"]."'":"";  $h= (isset($this->fieldsArray["$fldname"]["imageHeight"]))?" height='".$this->fieldsArray["$fldname"]["imageHeight"]."'":"";  echo "<img id='DG_UploadedImage{$this->dgGridID}' alt='' title='' src='{$imagedata}' " . $h . " " . $w. " {$this->sl}>";  echo "<script type='text/javascript'>DG_ai('{$imagedata}','{$fldname}','{$keyValue}');  function DG_ai(imagedata,fldname,keyValue){  parent.window.document.getElementById('icn_{$this->dgGridID}'+fldname+'.-.'+keyValue).src = document.getElementById('DG_UploadedImage{$this->dgGridID}').src;  setTimeout('parent.window.document.getElementById(\"uplDiv{$this->dgGridID}\").innerHTML=\"\"');  };  </script>{$this->br}";  };  }  die();  };  }    function getForm($position){                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExZHNiVWxEWjJ0a1IyaHdZM2t3SzFwSE9VZGlNMHAwUzFoelRrTm5hMHBEVjJ4dFNVTm5hMk5IT1hwaFdGSndZakkwT1ZCVFNucGtSMFo1WkVOSmNFUlJiMHBEVVd0S1kyMVdNR1JZU25WSlEwazRXbTA1ZVdKVFFuUmFXRkp2WWpKUk9VcDVTWFZqTTFKNVpFYzVjMkl6Wkd4amFXZHJaRWRvY0dONU1DdGlWMVl3WVVjNWExSnRPWGxpVTJ0MVNXbGpaMWxYVGpCaFZ6bDFVRk5rTjBwSVVtOWhXRTEwVUc1T2FtTnRiSGRrUlRWb1lsZFdPVXA1UW5CYVJEQnVaWGxTTUdGSGJIcE1WRFZIWWpOS2RGUnRSblJhV0RFM1NraFNiMkZZVFhSUWJWSnVVak5LY0ZwRmJFVm1VMk5uWWpJMWVtUlhTblJoV0ZFNVNqTktiR1JJVm5saWFVSnRXVmQ0ZWxwVFl5dGxlVkl3WVVkc2VreFVOV2xqYmpCcFQzbEJUa05uYTBwRFYxWnpZekpWVGtObmEwcERVV3g1V2xoU01XTnROR2RKYW5kMldtMDVlV0pVTkdsUGR6QkxRMUZzT1U5M01FdERVV3M5SWlrcE93PT0iKSk7"));  }    function getDebug(){  $dgDebug=($this->debug and isset($this->strDebug))?$this->strDebug:"";  return (empty($dgDebug))?"":"<div align='left' class='dgError' style='text-align:left'><strong>DEBUG WINDOW:</strong><br{$this->sl}><br{$this->sl}><small>&nbsp;*&nbsp;".implode("<br{$this->sl}>&nbsp;*&nbsp;",$dgDebug)."</small></div>";  }    function getHidden($debug=false){  if (!isset($this->calcID)) $this->calcID=array(); $t=$this->dgGridID;   $strReturn = "<!-- Powered by phpMyDataGrid - www.gurusistemas.com - Version: {$this->dgVersion}--> {$this->br}";  $strColumn = $this->PhpArrayToJsObject_Recurse($this->fieldsArray).";";$type=($debug or $this->debug)?"hidden":"hidden";  $strReturn.= "<textarea id='dg_ta_columns{$t}' style='display:none'>{$strColumn}</textarea>{$this->br}";  $strReturn.= "<textarea id='afterAction{$t}' style='display:none'>{$this->afterAction}</textarea>{$this->br}";  $strReturn.= "<textarea id='afterOnlineEdition{$t}' style='display:none'>{$this->afterOnlineEdition}</textarea>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGajaxStyle{$t}' value='{$this->ajaxEditable}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGimgpath{$t}' value='{$this->imgpath}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGparams{$t}' value='{$this->parameters}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGtxtDelete{$t}' value='{$this->message['confirm']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGtxtDeletes{$t}' value='{$this->message['confirms']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGtxtSave{$t}' value='{$this->message['save']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGtxtCancel{$t}' value='{$this->message['cancel']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGtextErrorInline{$t}' value='{$this->message['ErrorInline']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGtxtCalendar{$t}' value='{$this->message['calendar']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGmethodForm{$t}' value='{$this->methodForm}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGdgAjaxChanged{$t}' value='{$this->dgAjaxChanged}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGtxtSaving{$t}' value='{$this->message['saving']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGtxtLoading{$t}' value='{$this->message['loading']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGdecimalPoint{$t}' value='{$this->decimalsep}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGdecimals{$t}' value='{$this->decimalDigits}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGimgSave{$t}' value='{$this->images['save']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGimgClose{$t}' value='{$this->images['close']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGimgCancel{$t}' value='{$this->images['cancel']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGimgAjax{$t}' value='{$this->images['ajax']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGimgCalendar{$t}' value='{$this->images['calendar']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGcamposearch{$t}' value='{$this->search}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DGscrName{$t}' value='{$this->scriptName}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DivActiveDiv{$t}' value=''{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DG_posY{$t}' value=''{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DG_months{$t}' value='{$this->message['months']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DG_days{$t}' value='{$this->message['days']}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DG_uac{$t}' value=''{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DG_nrpp{$t}' value='{$this->maxRec}'{$this->sl}>{$this->br}";                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1NSemRISlNaWFIxY200dVBTQWlQR2x1Y0hWMElIUjVjR1U5SjNza2RIbHdaWDBuSUdsa1BTZEVSMlJsZEdGcGJITjdKSFI5SnlCMllXeDFaVDBuSWlBdUlDaHBjM05sZENna2RHaHBjeTArYzNWaVIzSnBaQ2svSkhSb2FYTXRQbk4xWWtkeWFXUTZJaUlwSUM0Z0lpZDdKSFJvYVhNdFBuTnNmVDU3SkhSb2FYTXRQbUp5ZlNJN0RRb0pDU1J6ZEhKU1pYUjFjbTR1UFNBaVBHbHVjSFYwSUhSNWNHVTlKM3NrZEhsd1pYMG5JR2xrUFNkRVIyRmpkRVY0Y0c5eWRIc2tkSDBuSUhaaGJIVmxQU2NuZXlSMGFHbHpMVDV6YkgwK2V5UjBhR2x6TFQ1aWNuMGlPdzBLQ1Fra2MzUnlVbVYwZFhKdUxqMGdJanhwYm5CMWRDQjBlWEJsUFNkN0pIUjVjR1Y5SnlCcFpEMG5aR2RmYm05elpXeGxZM1I3SkhSOUp5QjJZV3gxWlQwbmV5UjBhR2x6TFQ1dFpYTnpZV2RsV3lkdWIzSmxZM05sYkdWamRDZGRmU2Q3SkhSb2FYTXRQbk5zZlQ1N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1NSemRISlNaWFIxY200dVBTQWlQR2x1Y0hWMElIUjVjR1U5SjNza2RIbHdaWDBuSUdsa1BTZEVSM1JvWlhKbGFYTkRZV3hqZXlSMGZTY2dkbUZzZFdVOUp5SXVLQ2drZEdocGN5MCthR0Z6UTJGc1kzTXBQeUowY25WbElqb2lJaWtnTGlJbmV5UjBhR2x6TFQ1emJIMCtleVIwYUdsekxUNWljbjBpT3cwS0NRa2tjM1J5VW1WMGRYSnVMajBnSWp4cGJuQjFkQ0IwZVhCbFBTZDdKSFI1Y0dWOUp5QnBaRDBuUkVkMGFHVnlaV2x6Vkc5MFlXeDdKSFI5SnlCMllXeDFaVDBuSWk0b1pXMXdkSGtvSkhSb2FYTXRQblJ2ZEdGc2FYcGxLVDhpTVNJNklqQWlLUzRpSjNza2RHaHBjeTArYzJ4OVBuc2tkR2hwY3kwK1luSjlJanNOQ2drSkpITjBjbEpsZEhWeWJpNDlJQ0k4YVc1d2RYUWdkSGx3WlQwbmV5UjBlWEJsZlNjZ2FXUTlKMFJIZEc5MFlXeHBlbUZ5ZXlSMGZTY2dkbUZzZFdVOUp5SXVLR2x0Y0d4dlpHVW9JaXdpTENSMGFHbHpMVDUwYjNSaGJHbDZaU2twTGlJbmV5UjBhR2x6TFQ1emJIMCtleVIwYUdsekxUNWljbjBpT3cwS0NRa2tjM1J5VW1WMGRYSnVMajBnSWp4cGJuQjFkQ0IwZVhCbFBTZDdKSFI1Y0dWOUp5QnBaRDBuUkVkbGVIUnlZVkJoY21GdFpYUmxjbk43SkhSOUp5QjJZV3gxWlQwbklpNG9hVzF3Ykc5a1pTZ2lMQ0lzSkhSb2FYTXRQbVY0ZEhKaFVHRnlZVzFsZEdWeWN5a3BMaUluZXlSMGFHbHpMVDV6YkgwK2V5UjBhR2x6TFQ1aWNuMGlPdzBLQ1Fra2MzUnlVbVYwZFhKdUxqMGdJanhwYm5CMWRDQjBlWEJsUFNkN0pIUjVjR1Y5SnlCcFpEMG5SRWRpYjJ4RFlXeGxibVJoY25za2RIMG5JSFpoYkhWbFBTY2lMaWdvSkhSb2FYTXRQbUp2YkVOaGJHVnVaR0Z5S1Q4aU1TSTZJakFpS1M0aUozc2tkR2hwY3kwK2MyeDlQbnNrZEdocGN5MCtZbko5SWpzTkNna0pKSE4wY2xKbGRIVnliaTQ5SUNJOGFXNXdkWFFnZEhsd1pUMG5leVIwZVhCbGZTY2dhV1E5SjBSSFEyRnNZMUp2ZDNON0pIUjlKeUIyWVd4MVpUMG5JaTRvYVcxd2JHOWtaU2dpTENJc0pIUm9hWE10UG1OaGJHTkpSQ2twSUNBdUlpZDdKSFJvYVhNdFBuTnNmVDU3SkhSb2FYTXRQbUp5ZlNJN0RRb0pDU1J6ZEhKU1pYUjFjbTR1UFNBaVBHbHVjSFYwSUhSNWNHVTlKM3NrZEhsd1pYMG5JR2xrUFNka1oxOXViM2RwYm1SdmQzc2tkSDBuSUhaaGJIVmxQU2NpTGlnb0pIUm9hWE10UG01dmQybHVaRzkzS1Q4aU1TSTZJakFpS1M0aUozc2tkR2hwY3kwK2MyeDlQbnNrZEdocGN5MCtZbko5SWpzTkNna0pKSE4wY2xKbGRIVnliaTQ5SUNJOGFXNXdkWFFnZEhsd1pUMG5leVIwZVhCbGZTY2dhV1E5SjJSblgzUnZiMnhpWVhKN0pIUjlKeUIyWVd4MVpUMG5JaTRvS0NSMGFHbHpMVDUwYjI5c1ltRnlLVDhpTVNJNklqQWlLUzRpSjNza2RHaHBjeTArYzJ4OVBuc2tkR2hwY3kwK1luSjlJanNOQ2drSkpITjBjbEpsZEhWeWJpNDlJQ0k4YVc1d2RYUWdkSGx3WlQwbmV5UjBlWEJsZlNjZ2FXUTlKMlJuWDNSdmIyeGlZWEp6WldGeVkyaDdKSFI5SnlCMllXeDFaVDBuSWk0b0tHbHpjMlYwS0NSMGFHbHpMVDV6ZEhKVFpXRnlZMmhKYm14cGJtVXBJR0Z1WkNBa2RHaHBjeTArYzNSeVUyVmhjbU5vU1c1c2FXNWxLVDhpTVNJNklqQWlLUzRpSjNza2RHaHBjeTArYzJ4OVBuc2tkR2hwY3kwK1luSjlJanNOQ2drSkpITjBjbEpsZEhWeWJpNDlJQ0k4YVc1d2RYUWdkSGx3WlQwbmV5UjBlWEJsZlNjZ2FXUTlKMlJuWDNSdmIyeGlZWEpsZUhCdmNuUjdKSFI5SnlCMllXeDFaVDBuSWk0b0tHbHpjMlYwS0NSMGFHbHpMVDV6ZEhKRmVIQnZjblJKYm14cGJtVXBJR0Z1WkNBa2RHaHBjeTArYzNSeVJYaHdiM0owU1c1c2FXNWxLVDhpTVNJNklqQWlLUzRpSjNza2RHaHBjeTArYzJ4OVBuc2tkR2hwY3kwK1luSjlJanNOQ2drSkpITjBjbEpsZEhWeWJpNDlJQ0k4YVc1d2RYUWdkSGx3WlQwbmV5UjBlWEJsZlNjZ2FXUTlKMlJuWDJWNGNHOXlkRTFoWjIxaGV5UjBmU2NnZG1Gc2RXVTlKeUl1S0NocGMzTmxkQ2drZEdocGN5MCtaWGh3YjNKMFRXRm5iV0VwS1Q4a2RHaHBjeTArWlhod2IzSjBUV0ZuYldFNklpSXBMaUluZXlSMGFHbHpMVDV6YkgwK2V5UjBhR2x6TFQ1aWNuMGlPdzBLQ1Fra2MzUnlVbVYwZFhKdUxqMGdJanhwYm5CMWRDQjBlWEJsUFNkN0pIUjVjR1Y5SnlCcFpEMG5aR2RmWVd4c2IzZG9hV1JsZXlSMGZTY2dkbUZzZFdVOUp5SXVLQ2hwYzNObGRDZ2tkR2hwY3kwK2FHbGtaVVpwWld4a2N5a3BQeVIwYUdsekxUNW9hV1JsUm1sbGJHUnpPaUlpS1M0aUozc2tkR2hwY3kwK2MyeDlQbnNrZEdocGN5MCtZbko5SWpzTkNna0pKSE4wY2xKbGRIVnliaTQ5SUNJOGFXNXdkWFFnZEhsd1pUMG5leVIwZVhCbGZTY2dhV1E5SjJSblgzUnBibmx0WTJWN0pIUjlKeUIyWVd4MVpUMG5JaTRvS0dsemMyVjBLQ1IwYUdsekxUNTBhVzU1VFVORktTay9JakVpT2lJd0lpa3VJaWQ3SkhSb2FYTXRQbk5zZlQ1N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1E9PSIpKTs="));  $conditionalFields="";  foreach($this->validations as $key=>$value){  if (isset($value['condition'])){  $strReturn.="<input type='{$type}' id='DG_{$key}_C{$t}' value=\"{$value['condition']}\"{$this->sl}>{$this->br}";  $strReturn.="<input type='{$type}' id='DG_{$key}_E{$t}' value=\"{$value['errormsg']}\"{$this->sl}>{$this->br}";  $conditionalFields.="-[$key]-";};  };  $strReturn.= "<input type='{$type}' id='DG_cFields{$t}' value='{$conditionalFields}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='dg_r{$t}' value='{$this->recno}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='dg_order{$t}' value='{$this->reqOrder}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='dg_oe{$t}' value='{$this->reqOe}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DG_editvalue{$t}' value=''{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='DG_editRecNo{$t}' value=''{$this->sl}>{$this->br}";  if (!isset($this->isDetails)) $strReturn.= "<input type='{$type}' id='ajaxDHTMLediting' value='0'{$this->sl}>{$this->br}";  if (!isset($this->isDetails)) $strReturn.= "<input type='{$type}' id='DG_dgactive' value='{$this->dgGridID}'{$this->sl}>{$this->br}";  $strReturn.= "<input type='{$type}' id='dg_nocenter{$t}' value='".(isset($this->nocenter)?1:0)."'{$this->sl}>{$this->br}";  $this->arrDebug = "<strong>JS Validate Fields:</strong> {$conditionalFields}<br{$this->sl}>{$this->br}";  return $strReturn;  }    function drawMenu(){  if ($this->useRightClickMenu){  $this->objMenu->retcode = true;  $this->objMenu->addmenu("order", 180, 22, 0, 1, 1, '#c0c0c0', '#fff', '#ddd', '', $this->imgpath.'bck-menuitems.gif' );  $this->objMenu->additem("order", $this->message['sa'], 'javascript:DM_orderasc("\'+MM_parameters+\'");',(isset($this->img_path['ascending'])?$this->img_path['ascending']:$this->imgpath).$this->images["ascending"]);  $this->objMenu->additem("order", $this->message['sd'], 'javascript:DM_orderdes("\'+MM_parameters+\'");',(isset($this->img_path['descending'])?$this->img_path['descending']:$this->imgpath).$this->images["descending"]);  $this->objMenu->addSeparator("order");  $this->objMenu->additem("order", $this->message['ssa'], 'javascript:DM_orderasca("\'+MM_parameters+\'");',(isset($this->img_path['dascending'])?$this->img_path['dascending']:$this->imgpath).$this->images["dascending"]);  $this->objMenu->additem("order", $this->message['ssd'], 'javascript:DM_orderdesa("\'+MM_parameters+\'");',(isset($this->img_path['ddescending'])?$this->img_path['ddescending']:$this->imgpath).$this->images["ddescending"]);                                                                                                       eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1Fra2RHaHBjeTArYjJKcVRXVnVkUzArWVdSa2JXVnVkU2dpYjNCMGFXOXVjeUlzSURFNE1Dd2dNaklzSURBc0lERXNJREVzSUNjall6QmpNR013Snl3Z0p5Tm1abVluTENBbkkyUmtaQ2NzSUNjbkxDQWtkR2hwY3kwK2FXMW5jR0YwYUM0blltTnJMVzFsYm5WcGRHVnRjeTVuYVdZbklDazdEUW9KQ1FscFppQW9KSFJvYVhNdFBtRmtaRUowYmlrZ0pIUm9hWE10UG05aWFrMWxiblV0UG1Ga1pHbDBaVzBvSW05d2RHbHZibk1pTENBa2RHaHBjeTArYldWemMyRm5aVnNuWVdSa0oxMHNJQ0pxWVhaaGMyTnlhWEIwT2lJdUpIUm9hWE10UG1Ga1pHOXVRMnhwWTAxbGJuVXNLR2x6YzJWMEtDUjBhR2x6TFQ1cGJXZGZjR0YwYUZzbllXUmtKMTBwUHlSMGFHbHpMVDVwYldkZmNHRjBhRnNuWVdSa0oxMDZKSFJvYVhNdFBtbHRaM0JoZEdncExpUjBhR2x6TFQ1cGJXRm5aWE5iSW1Ga1pDSmRLVHNOQ2drSkNXbG1JQ2doWlcxd2RIa29KSFJvYVhNdFBuTmxZWEpqYUNrcElDUjBhR2x6TFQ1dlltcE5aVzUxTFQ1aFpHUnBkR1Z0S0NKdmNIUnBiMjV6SWl3Z0pIUm9hWE10UG0xbGMzTmhaMlZiSjNObFlYSmphQ2RkTENBaWFtRjJZWE5qY21sd2REb2lMaVIwYUdsekxUNXpjbU52YmtOc2FXTk5aVzUxTENocGMzTmxkQ2drZEdocGN5MCthVzFuWDNCaGRHaGJKM05sWVhKamFDZGRLVDhrZEdocGN5MCthVzFuWDNCaGRHaGJKM05sWVhKamFDZGRPaVIwYUdsekxUNXBiV2R3WVhSb0tTNGtkR2hwY3kwK2FXMWhaMlZ6V3lKelpXRnlZMmdpWFNrN0RRb0pDUWxwWmlBb0pIUm9hWE10UG1Ob2EwSjBiaWtnSkhSb2FYTXRQbTlpYWsxbGJuVXRQbUZrWkdsMFpXMG9JbTl3ZEdsdmJuTWlMQ0FrZEdocGN5MCtiV1Z6YzJGblpWc25kbWxsZHlkZExDQWlhbUYyWVhOamNtbHdkRG9pTGlSMGFHbHpMVDUyYVdWdmJrTnNhV05OWlc1MUxDaHBjM05sZENna2RHaHBjeTArYVcxblgzQmhkR2hiSjNacFpYY25YU2svSkhSb2FYTXRQbWx0WjE5d1lYUm9XeWQyYVdWM0oxMDZKSFJvYVhNdFBtbHRaM0JoZEdncExpUjBhR2x6TFQ1cGJXRm5aWE5iSW5acFpYY2lYU2s3RFFvSkNRbHBaaUFvSkhSb2FYTXRQblZ3WkVKMGJpa2dKSFJvYVhNdFBtOWlhazFsYm5VdFBtRmtaR2wwWlcwb0ltOXdkR2x2Ym5NaUxDQWtkR2hwY3kwK2JXVnpjMkZuWlZzblpXUnBkQ2RkTENBaWFtRjJZWE5qY21sd2REb2lMaVIwYUdsekxUNWxaSFJ2YmtOc2FXTk5aVzUxTENocGMzTmxkQ2drZEdocGN5MCthVzFuWDNCaGRHaGJKMlZrYVhRblhTay9KSFJvYVhNdFBtbHRaMTl3WVhSb1d5ZGxaR2wwSjEwNkpIUm9hWE10UG1sdFozQmhkR2dwTGlSMGFHbHpMVDVwYldGblpYTmJJbVZrYVhRaVhTazdEUW9KQ1FscFppQW9KSFJvYVhNdFBtUmxiRUowYmlrZ0pIUm9hWE10UG05aWFrMWxiblV0UG1Ga1pHbDBaVzBvSW05d2RHbHZibk1pTENBa2RHaHBjeTArYldWemMyRm5aVnNuWkdWc1pYUmxKMTBzSUNKcVlYWmhjMk55YVhCME9pSXVKSFJvYVhNdFBtUmxiRzl1UTJ4cFkwMWxiblVzS0dsemMyVjBLQ1IwYUdsekxUNXBiV2RmY0dGMGFGc25aWEpoYzJVblhTay9KSFJvYVhNdFBtbHRaMTl3WVhSb1d5ZGxjbUZ6WlNkZE9pUjBhR2x6TFQ1cGJXZHdZWFJvS1M0a2RHaHBjeTArYVcxaFoyVnpXeUpsY21GelpTSmRLVHNOQ2drSkNTOHFJRlJ2Ukc4NklHbG1JQ2hwYzNObGRDZ2tkR2hwY3kwK2MzVmlSM0pwWkNrcElDUjBhR2x6TFQ1dlltcE5aVzUxTFQ1aFpHUnBkR1Z0S0NKdmNIUnBiMjV6SWl3Z0pIUm9hWE10UG0xbGMzTmhaMlZiSjI1dlpHVW5YU3dnSW1waGRtRnpZM0pwY0hRNklpNGtkR2hwY3kwK1pHVjBiMjVEYkdsalRXVnVkU3dvYVhOelpYUW9KSFJvYVhNdFBtbHRaMTl3WVhSb1d5ZHViMlJsSjEwcFB5UjBhR2x6TFQ1cGJXZGZjR0YwYUZzbmJtOWtaU2RkT2lSMGFHbHpMVDVwYldkd1lYUm9LUzRrZEdocGN5MCthVzFoWjJWeld5SnViMlJsSWwwcE95b3ZEUW9KQ1Fra2RHaHBjeTArYjJKcVRXVnVkUzArWVdSa1UyVndZWEpoZEc5eUtDSnZjSFJwYjI1eklpazdEUW9KQ1Fra2RHaHBjeTArYjJKcVRXVnVkUzArWVdSa2FYUmxiU2dpYjNCMGFXOXVjeUlzSUNSMGFHbHpMVDV0WlhOellXZGxXeWR5WldaeVpYTm9KMTBzSUNKcVlYWmhjMk55YVhCME9rUkhYMFJ2S0NraUxDaHBjM05sZENna2RHaHBjeTArYVcxblgzQmhkR2hiSjNKbFpuSmxjMmduWFNrL0pIUm9hWE10UG1sdFoxOXdZWFJvV3lkeVpXWnlaWE5vSjEwNkpIUm9hWE10UG1sdFozQmhkR2dwTGlSMGFHbHpMVDVwYldGblpYTmJJbkpsWm5KbGMyZ2lYU2s3RFFvSkNRa2tkR2hwY3kwK2IySnFUV1Z1ZFMwK1lXUmtVMlZ3WVhKaGRHOXlLQ0p2Y0hScGIyNXpJaWs3RFFvSkNRbHBaaUFvSkhSb2FYTXRQbUZzYkVWNGNDa2dKSFJvYVhNdFBtOWlhazFsYm5VdFBtRmtaR2wwWlcwb0ltOXdkR2x2Ym5NaUxDQWtkR2hwY3kwK2JXVnpjMkZuWlZzblpYaHdiM0owSjEwc0lDSnFZWFpoYzJOeWFYQjBPaUl1SkhSb2FYTXRQbVY0Y0c5eWRGUnZMQ2hwYzNObGRDZ2tkR2hwY3kwK2FXMW5YM0JoZEdoYkoyVjRjRzl5ZENkZEtUOGtkR2hwY3kwK2FXMW5YM0JoZEdoYkoyVjRjRzl5ZENkZE9pUjBhR2x6TFQ1cGJXZHdZWFJvS1M0a2RHaHBjeTArYVcxaFoyVnpXeUpsZUhCdmNuUWlYU2s3RFFvSkNRa2tkR2hwY3kwK2IySnFUV1Z1ZFMwK1lXUmtVMlZ3WVhKaGRHOXlLQ0p2Y0hScGIyNXpJaWs3RFFvSkNRaz0iKSk7"));   foreach($this->fieldsArray as $campo){  if ($campo["datatype"] == "imagelink" or $campo["datatype"] == "link"){  if ($campo["datatype"]=="imagelink"){  list( $type, $imagedata, $valuelist) = explode( ':', $campo["mask"]);  };  if (!empty($imagedata)) $value=str_replace("%s",str_replace("&nbsp;","","fakeValue"),$imagedata);  $strHeader=$this->DGXtract($campo["strHeader"],"<em>","</em>");   };  };  return $this->objMenu->creadivs(0);  };  }    function getDivs($position){  switch ($position){  case "start":  $height = (isset($this->height))?(intval($this->height))."px":"100%";  $strReturn =($this->toolbar)?"":"<div id='ajaxDHTMLDiv{$this->dgGridID}' style='display:inline;position:absolute;'></div>{$this->br}";  $style = (!isset($this->DoNotAutoHeight)) ? "height:{$height};" : "";   $strReturn.="<div id='addDiv{$this->dgGridID}' style='" .(($this->nowindow)?"display:none; width:{$this->tWidth};":"display:inline;position:absolute;text-align:center;top:0px;left:0px;"). "'></div>{$this->br}";  $strReturn.="<div id='dgDiv{$this->dgGridID}' class='dgMainDiv' style='display:block;{$style}'>{$this->br}";  return $strReturn;  break;  case "end": return "</div>"; break;  case "upload":  if (!$this->isAjaxRequest()){  $hay_una_um = false;  foreach ($this->fieldsArray as $kname=>$arrFld){  if (isset($arrFld["permissions"])){  if (strpos($arrFld["permissions"],"U")!== false or strpos($arrFld["permissions"],"M")!== false){  $hay_una_um = true;  };  };  };  if (!$hay_una_um)  $strReturn = "";  else {  $strReturn = "<iframe src='about:blank' style='display:none; width:1000px; height:100px;' id='DG_iframe{$this->dgGridID}' name='DG_iframe{$this->dgGridID}'></iframe>";  $strReturn.="<form name='dgul{$this->dgGridID}' id='dgul{$this->dgGridID}' method='post' enctype='multipart/form-data' target='DG_iframe{$this->dgGridID}' action=''>{$this->br}";  $strReturn.="<div id='uplDiv{$this->dgGridID}' style='display:inline;position:absolute;text-align:center;top:0px; left:0px;'></div>{$this->br}";  $strReturn.="</form>{$this->br}";  };  return $strReturn;  };  break;  };  }    function getPagenumbers(){  $paginas = ceil(($this->totalRecords/$this->maxRec));  $strLinks=$strButton=$strImgTop=$strImgBot=$strTable=""; $colsUsed=$pActual=$recno=0;  if (empty($this->totalize) and $this->hasBtn and !(($this->toolbar))){  $colsUsed=1; $this->btnColumn=-1;  $strButton = $this->getButtonsHTML(-1, "pagination");  };  $class="dgPagRow"; $strButton = trim($strButton," ");  if (($this->toolbar)){  $class = "dgToolbar"; $colsUsed = 0;  };                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1NSemRISlBjbWxuYVc1aGJDQTlJQ1J6ZEhKT2RXVjJieUE5SUNSU1pXTnZjbVJ6Vkc5UFppQTlJQ0lpT3lBa2JtVjNhVzVwWTJsaGJDQTlJREE3RFFvSkNTUndiU0E5SUNSMGFHbHpMVDV3WVdkcGJtRjBhVzl1T3lBa2NtVmpibThnUFNBa2RHaHBjeTArY21WamJtODdEUW9KQ1NSd2FXNTBiejB3T3lBa2NFRmpkSFZoYkQwdE9UazVPVHNOQ2drSlptOXlJQ2drWTI5dWRHVnZVR0ZuUFRBN0lDUmpiMjUwWlc5UVlXY2dQQ0FrY0dGbmFXNWhjenNnSkdOdmJuUmxiMUJoWnlzcktRMEtDUWtKYVdZZ0tDZ2tjbVZqYm04K1BTUmpiMjUwWlc5UVlXY2dLaUFrZEdocGN5MCtiV0Y0VW1WaktTQmhibVFnS0NSeVpXTnVieUE4SUNnZ0pHTnZiblJsYjFCaFp5QXJJREVnS1NBcUlDUjBhR2x6TFQ1dFlYaFNaV01wS1NBa2NFRmpkSFZoYkNBOUlDUmpiMjUwWlc5UVlXYzdEUW9KQ1NSd1FXNTBaWEpwYjNJZ0lEMGdLQ2drY0VGamRIVmhiQ0F0SURFOE1Day9NRG9rY0VGamRIVmhiQ0F0SURFcElDb2dKSFJvYVhNdFBtMWhlRkpsWXpzTkNna0pKSEJUYVdkMWFXVnVkR1VnUFNBb0tDUndRV04wZFdGc0lDc2dNVDRrY0dGbmFXNWhjeWsvSkhCaFoybHVZWE02SkhCQlkzUjFZV3dnS3lBeEtTb2tkR2hwY3kwK2JXRjRVbVZqT3cwS0NRa2thVzFuVkc5d0lEMGdLQ2drY21WamJtOGdMU0FrZEdocGN5MCtiV0Y0VW1WaktTQThJREFwUHlkZmIyWm1Kem9uSnpzTkNna0pKR2x0WjBKdmRDQTlJQ2dvSkhKbFkyNXZJQ3NnSkhSb2FYTXRQbTFoZUZKbFl5a2dQajBnSkhSb2FYTXRQblJ2ZEdGc1VtVmpiM0prY3lrL0oxOXZabVluT2ljbk93MEtDUWtOQ2drSkpIUnZiMnhpWVhKRGJHRnpjeUE5SUNJaU93MEtDUWxwWmlBb0pIUm9hWE10UG5SdmIyeGlZWElwZXcwS0NRa0pKSFJ2YjJ4aVlYSkRiR0Z6Y3lBOUlDSjBiMjlzWW1GeVNYUmxiU0k3RFFvSkNRa2tjM1J5U1cxblZHOXdjQ0E5SUNJOGFXMW5JR05zWVhOelBTZGtaMGx0WjFCaFozTW5JSE55WXowbklpQXVJQ2hwYzNObGRDZ2tkR2hwY3kwK2FXMW5YM0JoZEdoYkoyWnBjbk4wSnk0a2FXMW5WRzl3WFNrL0pIUm9hWE10UG1sdFoxOXdZWFJvV3lkbWFYSnpkQ2N1SkdsdFoxUnZjRjA2SkhSb2FYTXRQbWx0WjNCaGRHZ3BJQzRnSWlJdUpIUm9hWE10UG1sdFlXZGxjMXNuWm1seWMzUW5MaVJwYldkVWIzQmRMaUluSUdGc2REMG5leVIwYUdsekxUNXRaWE56WVdkbFd5ZG1hWEp6ZENkZGZTY2dkR2wwYkdVOUozc2tkR2hwY3kwK2JXVnpjMkZuWlZzblptbHljM1FuWFgwbklHSnZjbVJsY2owbk1DY2lPdzBLQ1FrSmFXWWdLQ0VrZEdocGN5MCtkRzl2YkdKaGNpQmhibVFnSkdsdFoxUnZjQ0U5SWw5dlptWWlLU0FrYzNSeVNXMW5WRzl3Y0M0OUlDSWdiMjVqYkdsamF6MG5SRWRmWTJobmNHY29NQ2tuSWpzTkNna0pDU1J6ZEhKSmJXZFViM0J3TGowZ0luc2tkR2hwY3kwK2MyeDlQaUl1S0Nna2RHaHBjeTArZEc5dmJHSmhjaWsvSWlJNklpWnVZbk53TzNza2RHaHBjeTArWW5KOUlpazdEUW9KQ1Fra2MzUnlTVzFuVkc5d2NDQTlJQ1IwYUdsekxUNWhaR1JDZFhSMGIyNG9KSE4wY2tsdFoxUnZjSEFzSUNkRVIxOWphR2R3Wnlnd0tTY3NJQ2NuTENCMGNuVmxLVHNOQ2drSmZUc05DZ2tKIikpOw=="));   if ($this->totalRecords>0 and $this->showToOf){  $RecordsToOf = "{$this->message['display']} ".($recno+1)." {$this->message['to']} ".($recno+$this->countRecords)." {$this->message['of']} " . number_format($this->totalRecords,0);  };   $strImgTop = $this->tab(3) . "<img class='dgImgPags' src='" . (isset($this->img_path['up'.$imgTop])?$this->img_path['up'.$imgTop]:$this->imgpath) . "".$this->images['up'.$imgTop]."' alt='{$this->message['prev']}' title='{$this->message['prev']}' border='0'";  if (!$this->toolbar and $imgTop!="_off") $strImgTop.= " onclick='DG_chgpg($pAnterior)'";  $strImgTop.= "{$this->sl}>".(($this->toolbar)?"":"&nbsp;{$this->br}");  if ($this->toolbar) $strImgTop = $strImgTopp.$this->addButton($strImgTop, "DG_chgpg($pAnterior)", '', true);  for ($conteoPag=0; $conteoPag < $paginas; $conteoPag++){  $newinicial = $conteoPag * $this->maxRec;  if ($pm == 'links' or $pm=='mixed'){  $dgLA = $this->linksperpage;  if ((($conteoPag > $pActual - ($dgLA + 1)) and ($conteoPag <= $pActual + $dgLA)) or ($conteoPag < ($dgLA + 1) or $conteoPag>= $paginas - ($dgLA + 1))){  if ($conteoPag==$pActual) {  $strLink = "class='dgBold'"; $prn=0;  }else{  $strLink = "class='dgLinks' href='javascript:DG_chgpg($newinicial);'"; $prn=1;  };  if ($prn == 1 or ($prn==0 and $pm=='links')){  $strLinks.= $this->tab(3) . "<a $strLink>".($conteoPag+1)."</a>{$this->br}";  };  $pinto=0;  }else{  if ($pinto==0){  $strLinks.= $this->tab(3) . "<span class='{$toolbarClass}'>...</span>{$this->br}";  $pinto=1;  };  };  };  if (($pm == 'select' or $pm=='mixed') and $conteoPag==$pActual){  $strLinks.= $this->tab(3) . "<select class='dgSelectpages' name='pages' size='1' onchange='DG_chgpg(this.value);' >{$this->br}";  for ($conteoSelect=0; $conteoSelect < $paginas; $conteoSelect++){  $newinselect = ($conteoSelect ) * $this->maxRec;  $strLinks.= $this->tab(4) . '<option ';  if ($conteoSelect==$pActual) $strLinks.= 'selected ';  $strLinks.= "value='{$newinselect}'>" . ( $conteoSelect + 1 ) . "</option>{$this->br}";  };  $strLinks.= $this->tab(3) . "</select>{$this->br}";  };                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExRnNjRnBwUVc5S1NFSjBTVVF3T1VsRFpIQmlia0l4WkVOaloxbFhOV3RKUTFKcVlqSTFNRnBYT1ZGWlYyTTVVRk5TZDFGWFRqQmtWMFp6UzFoelRrTm5hMHBEVVd0cll6TlNlVlJIYkhWaE0wMTFVRk5CYTJSSGFIQmplVEFyWkVkR2FVdEVUWEJKUXpSblNraFNiMkZZVFhSUWJVWnJXa1pPYkdOSFJubFpXRkoyWTJsb01HTnVWbXhMVXpScFpYbFNNR0ZIYkhwTVZEVnBZMjR3YVV4bk1FdERVV3RLUTFGclNrTlRVakJoUjJ4NlRGUTFNRmxYU1c5TmVXdG5UR2xCYVZCSGJIVmpTRll3U1VoU05XTkhWVGxLTW1od1drZFNiR0pwWTJkaFYxRTVTakpHTVdWR09YZGFNM05yWkVkb2NHTjVNQ3RhUjJSSVkyMXNhMU5WVWpsS00zTnJaRWRvY0dONU1DdGpNbmc1VUc1emEyUkhhSEJqZVRBcldXNUtPVWxwTkU1RFoydEtRMUZyU2tOUmEydGtSMmh3WTNrd0syUkhSbWxMUkUxd1NVTTBaMGxxZUhwalIwWjFTVWRPYzFsWVRucFFVMlEzU2toU2RtSXllR2xaV0VwRVlrZEdlbU16TUc1UWJuTnJaRWRvY0dONU1DdGlWMVo2WXpKR2JscFdjMjVqUjBadVdsTmtaR1pVZDNaak0wSm9ZbW8wWjJWNVVqQmhSMng2VEZRMWFXTnVNR2xNWnpCTFExRnJTa05SYTBwRFUxSXdZVWRzZWt4VU5UQlpWMGx2VFhscloweHBRV2xRUjJ4MVkwaFdNRWxJV21oaVNGWnNVRk5qYVV4cFoydFpNamwxWkVkV2RsVkhSbTVMZWtWd1RHbEpia2xJVWpWalIxVTVTak5TYkdWSVVXNUpSMDV6V1ZoT2VsQlRaR3RhTUd4MVkwaFdNRlZIUm01YVUyTm5ZbTFHZEZwVU1HNWpSMFp1V2xoTmJrbEhiR3RRVTJSM1dWZGtiR041WTJkbGVWSXdZVWRzZWt4VU5XbGpiakJwVEdjd1MwTlJhMHBEVVd0S1ExTlNNR0ZIYkhwTVZEVXdXVmRKYjA1RGEyZE1hVUZwWWpJMWJXSXlUakZqZWpCdVpFZG9jR041Tlhaa2FVRTVTVWhTYjJGWVRYVmtiVVp6WkZkVk4wbEZVa2hZTTA0eVpHbG9ZMGx0UmpGbFJqbDNXak56YTJSSGFIQmplVEFyV2tka1NHTnRiR3RUVlZJNVdFTkpjMDFEYXpkS2VVSTNTa2hTYjJGWVRYUlFiVXA1WmxOSmRVUlJiMHBEVVd0S1ExRnJTa3BJVW05aFdFMTBVRzVTYUZscFp6QkxVMEYxU1VOS2RtSnRkR3hsV0VKNVdsaE9lbEJUWkhsYVdGSXhZMjAwWjFKRlpHWmhNMEptWVZjMWQyUllVVzlhV0Zwc1ltNVJjRWxEV1cxSlJWSklXREpLYzFneVZucFplV2hzWkcxV2RXUkRlR05KYmxKdllWaE5kV1J0Um5Oa1YxVTVaRWRvY0dONU5YWmtiSGRwUzFSemJrbEljMnRrUjJod1kza3dLMWx1U2psSmFUUk9RMmRyU2tOUmEwcERVV3RyWkVkb2NHTjVNQ3RrUjBacFMwUlJjRWxETkdkSmJUbDFZVEpXTldSWVFUbEtNbXh0UzBWU1NGZ3laREprYVdoalNXMUdNV1ZHT1hkYU0zTnJaRWRvY0dONU1DdGFSMlJJWTIxc2ExTlZVamxZUTBsd1VGUXdlRWxEV1cxSlNFSm9ZMjVPYkZOWE5UQkxTRkp2WVZoTmRXUnRSbk5rVjFWd1NWUXhkMWxZU25wYVZXeDFaRU5vTUdGSGJIcE1iVGt5UzFOQmJVcHBRakJoUjJ4NlRHNWFhR0pJVm14UVJERTNTa2hDYUZveWJIVlpXRTQ1UzFOQ2VWcFlVakZqYlRSblVrVmtabGt5YUc1alIyTnZTMGhTYjJGWVRYVmtiVVp6WkZkVmRFMVRhM0ZTUldSbVdqTmFNa3RHZDJsU1JXUm1ZbTVLZDJOSWMydGtSMmh3WTNrd0sxcEhaRWhqYld4clUxVlNPVmhEU1hCTFZITm5XbGQ0ZWxwVFFrVlNNVGw2Wkc1WmIxaERTbWhrV0dobVkwZGtOMHBJVW05aFdFMTBVRzFTYmxJelNuQmFSV3hGWmxaM2FVeEVRWEJQZVdRM1NraFNiMkZZVFhSUWJrNXpabFExTjBwSVVtOWhXRTEwVUcxS2VXWlRRV2xNWnpCTFExRnJTa05SYTBwRFUxSXdZVWRzZWt4VU5UQlpWMGx2VFhscloweHBRV2xRU0U1M1dWYzBaMWt5ZUdoak0wMDVTak56YTJSSE9YWmlSMHBvWTJ0T2MxbFlUbnBtVTJNclpYbFNNR0ZIYkhwTVZEVjBXbGhPZWxsWFpHeFhlV1IyV21sa1pHWlRRamRLU0VKb1dqSnNkVmxZVGpsUVF6bDZZMGRHZFZCcFFqZEtTRkp2WVZoTmRGQnRTbmxtVTBsMVJGRnZTa05SYTBwRFVXdEtTa2hTYjJGWVRYUlFibEpvV1dsbmVrdFRRWFZKUTFJd1lVZHNla3hVTldoYVIxSlVXbGhDYUdOdFJqQmlNMGx2WkVoS01WcFRhMmRNYVVGclpFZG9jR041TUN0WmJrazNSRkZ2U2tOUmJEbFBkekJMUTFGclNpSXBLVHM9IikpOw=="));  };  if ($this->toolbar){  $strImgBotp = "<img class='dgImgPags' src='" . (isset($this->img_path['last'.$imgBot])?$this->img_path['last'.$imgBot]:$this->imgpath) . "".$this->images['last'.$imgBot]."' alt='".$this->message['last']."' title='".$this->message['last']."' border='0' ";  if (!$this->toolbar and $imgBot!="_off") $strImgBotp.= " onclick='DG_chgpg($newinicial)'";  $strImgBotp.= "{$this->sl}>".(($this->toolbar)?"":"&nbsp;")."<br{$this->sl}>";  $strImgBotp = $this->addButton($strImgBotp, "DG_chgpg($newinicial)", '', true).$this->addSeparator(true);  if (isset($this->reload) and $this->reload){  $strRefresh = "<img class='dgImgPags' src='" . (isset($this->img_path['refresh'])?$this->img_path['refresh']:$this->imgpath) . "".$this->images['refresh']."' alt='".$this->message['refresh']."' title='".$this->message['refresh']."' border='0' {$this->sl}>";  $strImgBotp.= $this->addButton($strRefresh, 'DG_Do()', '', true).$this->addSeparator(true);  }  if ($this->totalRecords>0 and $this->showToOf)  $strImgBotp.= "<span class='toolbarItem'>{$RecordsToOf}</span>{$this->br}".$this->addSeparator(true);    if (isset($this->hideFields) and !$this->inColumns and !empty($this->hideFields)){  $arrHideFields = explode(",",$this->hideFields);  $offsetY = 38; foreach ($arrHideFields as $value) $offsetY += 21;  $strImgBotp.= $this->addButton( (isset($this->img_path['dnarrow'])?$this->img_path['dnarrow']:$this->imgpath).$this->images['dnarrow'], 'void(0); \' onclick=\'viewColumnOptions("s' . $this->dgGridID . 'Div", event, "' . $this->message['columns'] . '", '.$offsetY.'); DG_svv("DG_uac' . $this->dgGridID . '",this.id);', '', true);  };   $strImgBotp.= "<div id='ajaxDHTMLDiv{$this->dgGridID}' class='toolbarItem loadingItem'></div>{$this->br}";  };   $strImgBot = $this->tab(3) . "<img class='dgImgPags' src='" . (isset($this->img_path['down'.$imgBot])?$this->img_path['down'.$imgBot]:$this->imgpath) . "".$this->images['down'.$imgBot]."' alt='".$this->message['next']."' title='".$this->message['next']."' border='0' ";  if (!$this->toolbar and $imgBot!="_off") $strImgBot.= " onclick='DG_chgpg({$pSiguiente})'";  $strImgBot.= "{$this->sl}>".(($this->toolbar)?"":"&nbsp;");  if ($this->toolbar) $strImgBot = $this->addButton($strImgBot, "DG_chgpg({$pSiguiente})", '', true).$strImgBotp;   if ($this->toolbar){  $strOriginal.= "{$strImgTop}{$strLinks}{$strImgBot}";  }else{  if ($this->totalRecords <= $this->maxRec) $strImgTop = $strImgBot = $strLinks = "";  $strOriginal.= "{$strImgTop}{$strLinks}{$strImgBot}";  };  $strReturn= $this->tab(0)."<div class='{$class}'>{$this->br}%s".$this->tab(1)."</div>{$this->br}";  if ($this->toolbar){  if (isset($this->strSearchInline) and $this->strSearchInline){                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExRnJTa3BIV25CYVYzaHJZM3BTZWxwWFJubFpNbWM1V2xob2QySkhPV3RhVTJkcFRFTkpjMHBJVW05aFdFMTBVRzVPYkZsWVNtcGhRMnMzUkZGdlNrTlJhMHBLUjFwd1dsZDRhMk41UVRsSlExSjZXbGQ0YkZrelVrZGhWMVp6V2toTloxQlRRV2xKYW5OblNrVkdhbVJJVm1oaVJXeDZWVEpXYzFwWFRqQlFWMXBvWWtoT2JFOTNNRXREVVd0S1ExZGFkbU50Vm1oWk1tZG5TME5TYldGWFZuTmFTRTB3WXpKV2FHTnRUbTlKUjBaNlNVTlNSMkpIVWxCalNGSndZakkwY0dWM01FdERVV3RLUTFGcmEyRkhSbnBWTWxaeldsZE9NRkJZVGpCamJrSjJZM2xuYTFKdGVHdFVNMEl3WVZjNWRVeERRVzVQYVdOd1QzY3dTME5SYTBwRFVXdHJVbTE0YTFRelFqQmhWemwxU1VRd1oyUklTbkJpVTJoNlpFaEtabU50Vm5kaVIwWnFXbE5uYVU5dVRteGlSMVpxWkVOSmMwbERTV2xNUTBGclVtMTRhMVF6UWpCaFZ6bDFTMU5yTjBSUmIwcERVV3RLUTFkc2JVbERaMnRoUjBaNlZUSldjMXBYVGpCSlZEQTVXbTFHYzJNeVZXZFpWelZyU1VORmExRlhUakJrVjBaelUxaE9WRnBYZUd4Wk0xRndaWGN3UzBOUmEwcERVV3RLWVZkWlowdEhWblJqU0ZJMVMwTlNNR0ZIYkhwTVZEVjZZM2xyY0VsRFVqQmhSMng2VEZRMWVtTjZNR3RTYlhoclZETkNNR0ZYT1hWUGR6QkxRMUZyU2tOUmEwcEtSVVpxWkVoV2FHSkZiSHBWTWxaeldsZE9NRkJUWjJ0U2JYaHJWRE5DTUdGWE9YVlFWREJyWkVkb2NHTjVNQ3RqTTAxd1QzY3dTME5SYTBwRFVXdzVUM2N3UzBOUmEwcERVV3h0WWpOS2JGbFhUbTlKUTJkclpFZG9jR041TUN0YWJXeHNZa2RTZWxGWVNubFpXR3RuV1ZoTlowcEhUblppU0ZaMFltbHNOMFJSYjBwRFVXdEtRMUZzY0ZwcFoydFpNamx6WkZjeGRWZDVTbnBrU0VwdFlWZFdjMXBGTldoaVYxVnBXRlF3T1VwRlduTmFSVGwzWkVkc2RtSnBiRGRFVVc5S1ExRnJTa05SYTBwaFYxbG5TME5TYjFsWVRsUmFWM2hzV1ROUmNHVjNNRXREVVd0S1ExRnJTa05SYTJ0Wk1qbDBXVlF3YjBsWFZuUmpTRkkxUzBOU2VscFhlR3haTTFKSFlWZFdjMXBJVFhCSlIwWjFXa05CYUZwWE1YZGtTR3R2U2tkT2RtSklWblJpYkhOcFl6TlNlVnB0Ykd4aVIxSlBXVmN4YkVsc01IQkxWRGhwVEVOSk5rbHBTVGRFVVc5S1ExRnJTa05SYTBwRFUxSjZXbGQ0YkZrelVrZGhWMVp6V2toTmRWQlRVbXBpTWpGb1RHbFNhbUl5ZURGaVZ6VmlTVzVPTUdOdFduQmFWM2hyVkcxR2RGcFRTbVJQZHpCTFExRnJTa05SYTBwRFdEQTNSRkZ2U2tOUmEwcERVV3RLU2tkYWNGcFhlR3RqZVRRNVNXcDRkbU5JVW5CaU1qUm5aRzFHYzJSWFZUbEtlVWwxU2tkT2RtSklWblJpYkhOcFl6TlNlVnB0Ykd4aVIxSlBXVmN4YkVsc01IVkphV05uU1dwelRrTm5hMHBEVVd0S1ExRnNjRnBwUVc5S1NGSnZZVmhOZEZCdVRucFFWREJyV1RJNWMyUlhNWFZYZVVwNlpFaEtiV0ZYVm5OYVJUVm9ZbGRWYVZoVGEyZEtSMXB3V2xkNGEyTjVORGxKYms1c1lrZFdhbVJIVm10SmFuTk9RMmRyU2tOUmEwcERVV3RyV20xc2JHSkhVbnBNYWpCcFVHbEpkVXBIVG5aaVNGWjBZbXh6YVdNelVubFRSMVpvV2tkV2VVbHNNSFZKYW5kMllqTkNNR0ZYT1hWUWJuTnJaRWRvY0dONU1DdFpia281U1dwelRrTm5hMHBEVVd0S1ExZ3dOMFJSYjBwRFVXdEtRMWd3TjBSUmIwcERVV3RLWmxSelRrTm5hMHBEVVdzOUlpa3BPdz09IikpOw=="));  $fields = "<select id='dg_ss{$this->dgGridID}' class='' ".((substr_count($this->search, ':')>0)?"onchange='DG_setsearch(this.value,\"$this->schrstr\")'":"").">{$this->br}{$fields}</select>";   $display = (empty($this->schrstr))?"none":"block";  $strTable .= "<div id='DG_srchDIV{$this->dgGridID}' align='left' class='dgSearchDivInline' style='width:98%; display:{$display}; '>";  $strTable .= "<span style='float:left; line-height:25px;'>{$this->message['qsearch']}:&nbsp;</span><span id='searchBox{$this->dgGridID}' style='float:left;margin-left:5px; line-height:25px;'>{$this->br}";  $strTable .= "<input type='hidden' id='boxshr{$this->dgGridID}' value='0'{$this->sl}>{$this->br}";  if ($ActualIsSelect)  $strTable.=$this->selectCombo($this->ss,$this->schrstr);  else  $strTable.="<input type='text' id='dg_schrstr{$this->dgGridID}' class='dgInput' size='35' value='$this->schrstr' onkeypress='return DG_bl_enter(event,\"DG_doSearch()\") && DG_bl_esc(event,\"DG_closeSearch()\")'{$this->sl}>{$this->br}";   $strTable .="&nbsp;</span><span style='float:left; line-height:25px;'>{$fields}</span>".  "<span style='float:left; line-height:25px;'><img border='0' id='imgsearch{$this->dgGridID}' src='" . (isset($this->img_path['search'])?$this->img_path['search']:$this->imgpath) . "{$this->images['search']}' width='16' height='16' alt='{$this->message['search']}' title='{$this->message['search']}' class='dgImgLink imgSearch' onclick='DG_doSearch();'{$this->sl}></span>{$this->br}";  $display = (empty($this->schrstr))?"none":"inline";  $strTable .="<span id='rstsearch{$this->dgGridID}' style='display:{$display}; float:left; line-height:25px;'>{$this->br}";  $strTable .=$this->getResetSearch(true);  $strTable .="</span>{$this->br}";  $strTable .= "</div>{$this->br}";  };  if (!empty($this->strSearchBtn)) $strTable .= $this->addButton($this->strSearchBtn, $this->srconClic, "", true).$this->addSeparator(true);  if ($this->totalRecords>0 and $this->AllowChangeNumRows){  if (!isset($this->arrRows)) $this->arrRows = array(5,10,15,20,25,40); $this->arrRows[] = $this->maxRec;  $this->arrRows=array_unique($this->arrRows); sort($this->arrRows);  $strTable .= "<select id='DG_nrppAux{$this->dgGridID}' name='DG_nrppAux{$this->dgGridID}' onchange='DG_set_pg_rows()' class='SelectLines'>{$this->br}";  foreach ($this->arrRows as $opc)  $strTable .= "<option value='{$opc}' ".(($this->maxRec == $opc)?"selected='selected'":"").">{$opc}</option>{$this->br}";  $strTable .= "</select>{$this->br}";  $strTable .= $this->addSeparator(true);  };  $strTable.= $strOriginal;  }else{  $strTable.= $this->tab(2) . "<div id='DG_pgGetRows{$this->dgGridID}' class='dgHeader' style='width:100%; display:none;'>{$this->br}";  $strTable.= $this->tab(3) . $this->message['editrows'].": <input type='text' id='DG_nrppAux{$this->dgGridID}' name='DG_nrppAux{$this->dgGridID}' value='{$this->maxRec}' onkeypress='return DG_bl_enter(event,\"DG_set_page_rows()\") && DG_bl_esc(event,\"DG_cncl_page_rows()\")' class='dgInput' style='width:25px;'{$this->sl}>{$this->br}";  $strTable.= $this->tab(3) . "<a href='javascript:void(0);' class='dgImgLink' onclick='DG_set_page_rows()'><img border='0' src='".(isset($this->img_path['save'])?$this->img_path['save']:$this->imgpath).$this->images["save"] ."' alt='".$this->message['save'] ."' title='".$this->message['save'] ."' {$this->sl}></a>{$this->br}";  $strTable.= $this->tab(3) . "<a href='javascript:void(0);' class='dgImgLink' onclick='DG_cncl_page_rows()'><img border='0' src='".(isset($this->img_path['cancel'])?$this->img_path['cancel']:$this->imgpath).$this->images["cancel"]."' alt='".$this->message['close']."' title='".$this->message['close']."' {$this->sl}></a>{$this->br}";  $strTable.= $this->tab(2) . "</div>{$this->br}";  $strTable.= $this->tab(2) . "<div style='width:100%;display:block;' id='DGpgTable{$this->dgGridID}' class='DGpgTable'>{$this->br}";  $strTable.= $this->tab(3) . "<span style='float:left'>{$this->br}{$strOriginal}{$this->br}".$this->tab(3)."</span>{$this->br}";  $strTable.= $strButton;  if ($this->totalRecords>0 and $this->AllowChangeNumRows)  $strTable.= $this->tab(3) . "<span style='float:right'><a href='javascript:void(0);' class='dgImgLink' onclick='DG_act_page_rows();'><img border='0' src='" . (isset($this->img_path['editrows'])?$this->img_path['editrows']:$this->imgpath) . "{$this->images['editrows']}' alt='{$this->message['editrows']}' title='{$this->message['editrows']}' {$this->sl}></a></span>{$this->br}";  if ($this->totalRecords>0 and $this->showToOf)  $strTable.= $this->tab(3) . "<span style='float:right'>{$this->br}".$this->tab(4)."{$RecordsToOf}{$this->br}".$this->tab(3)."</span>{$this->br}";   $strTable.= $this->tab(2)."</div>{$this->br}";  };  $strReturn = sprintf($strReturn, $strTable);  return $strReturn;  }    function selectCombo($strCampo, $actual){  if (in_array($strCampo,explode(",",str_replace(":select","",$this->search)))){  $shrField = $this->backtick.$strCampo.$this->backtick;  $strSQL = "SELECT {$shrField} FROM {$this->backtick}{$this->tablename}{$this->backtick} GROUP BY {$shrField} ORDER BY {$shrField}";  $arrSelect = $this->SQL_query($strSQL);  $strReturn = "<select size='1' id='dg_schrstr{$this->dgGridID}' class='dgSelectpage' style='width:240px' >";  $strReturn.="<option value=''>&nbsp;</option>{$this->br}";  foreach($arrSelect as $rowRes){  $dataType = $this->fieldsArray["$strCampo"]['datatype'];  $mask = $this->fieldsArray["$strCampo"]['mask'];  $selData = $this->fieldsArray["$strCampo"]['select'];  $rowValue = $this->putAcutes($rowRes[$strCampo]);  $rowValue = (($rowValue=="" or is_null($rowValue)) and $this->DG_ajaxid!=5)?"&nbsp;":$rowValue;  $vrField =(isset($rowRes["$strCampo"])?$rowRes["$strCampo"]:"");   switch ($dataType){  case "date": case "datetime": $value = $this->maskdata($rowValue,$mask,$dataType,array(),$rowRes); break;  default:  $value =$this->maskdata($rowValue,$mask,$dataType,$selData,$rowRes);  };  if (!empty($value)){  $opcValue = (isset($rowRes[0]))?$rowRes[0]:$value;  $strReturn.="<option value='{$opcValue}' ";  if ($actual==$value) $strReturn.="selected='selected'";  $strReturn.=">$value</option>{$this->br}";  };  };  $strReturn.="</select>";  if (count($arrSelect)>0)  return $strReturn;  else  return "<input type='text' id='dg_schrstr{$this->dgGridID}' class='input' size='35' value='{$actual}' onkeypress='return DG_bl_enter(event,\"DG_doSearch()\") && DG_bl_esc(event,\"DG_closeSearch()\")'{$this->sl}>{$this->br}";  }else  die("<div id='DG_sqlerror{$this->dgGridID}' class='dgError'>".$this->message['noinsearch'].":<strong> [$strCampo]</strong></div>");  }    function addSeparator($internal=false){  $strToReturn = ($this->toolbar)?$this->tab(2)."<div class='btnseparator'></div>{$this->br}":"";  if (!$internal)  $this->tButtons[] = $strToReturn;  else  return $strToReturn;  }    function addRadio($id, $name, $value, $checked, $action, $label, $internal=false){  $this->toolbar = true; $checked=($checked)?" checked='checked' ":"";  $strToReturn = $this->tab(2)."<div class='fbutton'><label>";  $strToReturn .= "<input type='radio' name='{$name}' id='{$id}' value='{$value}' {$checked} onchange='{$action}'{$this->sl}>";  $strToReturn .= "$label</label></div>{$this->br}";  if (!$internal)  $this->tButtons[] = $strToReturn;  else  return $strToReturn;  }    function addCheck($id, $name, $checked, $action, $label, $internal=false){  $this->toolbar = true; $checked=($checked)?" checked='checked' ":"";  $strToReturn = $this->tab(2)."<div class='fbutton'><label>";  $strToReturn .= "<input type='checkbox' name='{$name}' id='{$id}' {$checked} onchange='{$action}'{$this->sl}>";  $strToReturn .= "$label</label></div>{$this->br}";  if (!$internal)  $this->tButtons[] = $strToReturn;  else  return $strToReturn;  }    function setButtonOption($id,$param="",$button="right"){  $this->buttonClickID = $id;  $this->buttonClickParam = $param;  $this->buttonWhich = $button;  }    function addButton($img, $action, $message, $internal=false){  $this->toolbar = true; $img=trim($img);  $idBtn = (isset($this->idbtn))?" id='{$this->idbtn}' ":"";  if (substr(strtolower($img),0,4) != "<img") $img = "<img border='0' src='{$img}' alt='{$message}' title='{$message}' class='dgImgLink'{$this->sl}>";                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1dsbUlDaHBjM05sZENna2RHaHBjeTArWW5WMGRHOXVRMnhwWTJ0SlJDa3BldzBLQ1FrSmFXWWdLSE4wY25SdmJHOTNaWElvSkhSb2FYTXRQbUoxZEhSdmJsZG9hV05vS1QwOUozSnBaMmgwSnlsN0RRb0pDUWtKSkhOMGNsUnZVbVYwZFhKdUlEMGdKSFJvYVhNdFBuUmhZaWd5S1NBdUlDSThaR2wySUc5dVkyeHBZMnM5SjJwaGRtRnpZM0pwY0hRNmV5UmhZM1JwYjI1OUp5QjdKR2xrUW5SdWZTSTdEUW9KQ1FrSkpITjBjbFJ2VW1WMGRYSnVJQzQ5SUNSMGFHbHpMVDV2WW1wTlpXNTFMVDV2Ym1Oc2FXTnJLQ1IwYUdsekxUNWlkWFIwYjI1RGJHbGphMGxFTENSMGFHbHpMVDVpZFhSMGIyNURiR2xqYTFCaGNtRnRLVHNOQ2drSkNYMWxiSE5sZXcwS0NRa0pDU1J6ZEhKVWIxSmxkSFZ5YmlBOUlDUjBhR2x6TFQ1MFlXSW9NaWtnTGlBaVBHUnBkaUI3Skdsa1FuUnVmU0k3RFFvSkNRa0pKSE4wY2xSdlVtVjBkWEp1SUM0OUlDUjBhR2x6TFQ1dlltcE5aVzUxTFQ1dmJteGxablJqYkdsamF5Z2tkR2hwY3kwK1luVjBkRzl1UTJ4cFkydEpSQ3drZEdocGN5MCtZblYwZEc5dVEyeHBZMnRRWVhKaGJTazdEUW9KQ1FsOURRb0pDUWwxYm5ObGRDZ2tkR2hwY3kwK1luVjBkRzl1UTJ4cFkydEpSQ2s3RFFvSkNRbDFibk5sZENna2RHaHBjeTArWW5WMGRHOXVRMnhwWTJ0UVlYSmhiU2s3RFFvSkNRbDFibk5sZENna2RHaHBjeTArWW5WMGRHOXVWMmhwWTJncE93MEtDUWw5Wld4elpYc05DZ2tKQ1NSemRISlViMUpsZEhWeWJpQTlJQ1IwYUdsekxUNTBZV0lvTWlrZ0xpQWlQR1JwZGlCdmJtTnNhV05yUFNkcVlYWmhjMk55YVhCME9uc2tZV04wYVc5dWZTY2dleVJwWkVKMGJuMGlPdzBLQ1FsOU93MEtDUWs9IikpOw=="));  if (!isset($this->classBtn)) $this->classBtn="";  if (!isset($this->styleBtn)) $this->styleBtn="";  $strToReturn .= "><a class='fbutton {$this->classBtn}' {$this->styleBtn} href='javascript:void(0)'><span class='buttonImage'>{$img}</span>";  if (!empty($message)) $strToReturn .= "{$message}";  $strToReturn .= "</a></div>{$this->br}";  unset($this->classBtn);  unset($this->styleBtn);  unset($this->idbtn);  if (!$internal)  $this->tButtons[] = $strToReturn;  else  return $strToReturn;  }    function addSelect($arrData, $action, $message="", $id="", $default="", $internal=false){  $this->toolbar = true;  if (!isset($this->selectMessage)) $this->selectMessage = "";  $strToReturn = $this->tab(2) . "<div class='fbutton'>" . $this->tab(4) . "<span style='float:left'>$this->selectMessage</span><select id='{$id}' onchange='{$action}'>";  $this->selectMessage = "";  if (!empty($message)) $strToReturn .= $this->tab(4) . "<option value=''>{$message}</option>{$this->br}";  foreach ($arrData as $key=>$value){  $strToReturn .= $this->tab(4) . "<option value='{$key}' " . (($default==$key)?"selected='selected' ":"").">{$value}</option>{$this->br}";  }  $strToReturn .= $this->tab(3) . "</select>" . $this->tab(3) . "</div>{$this->br}";  if (!$internal)  $this->tButtons[] = $strToReturn;  else  return $strToReturn;  }    function addInput($type, $action, $message="", $id="", $default="", $internal=false){  $this->toolbar = true;  $strToReturn = $this->tab(2) . "<div >{$message}";  $strToReturn .= $this->tab(4) . "<input id='{$id}' onblur='{$action}' value='{$default}' {$this->sl}>{$this->br}";  $strToReturn .= $this->tab(3) . "</div>{$this->br}";  if (!$internal)  $this->tButtons[] = $strToReturn;  else  return $strToReturn;  }    function getSearchBox(){   $strAdd = "onmouseover='DG_set_working_grid(\"{$this->dgGridID}\")'";  if (!(isset($this->strSearchInline) and $this->strSearchInline)){  if (!empty($this->search)){  $strReturn ="<div id='DG_srchDIV{$this->dgGridID}' align='left' class='dgSearchDiv searchWindowContainer' {$strAdd}>{$this->br}";  $strReturn.="<span class='dgSearchTit' onmousedown='DG_clickCapa(event, this, \"DG_srchDIV{$this->dgGridID}\")' onmouseup='DG_liberaCapa(\"DG_srchDIV{$this->dgGridID}\")'>{$this->br}";  $strReturn.="<img border='0' src='" . (isset($this->img_path['search'])?$this->img_path['search']:$this->imgpath) . "{$this->images['search']}' alt='{$this->message['search']}' title='{$this->message['search']}' width='16' height='16' {$this->sl}>{$this->br}";  $strReturn.="{$this->message['search']}</span>{$this->br}";  $strReturn.="<img style='cursor:pointer; float:right' src='" . (isset($this->img_path['close'])?$this->img_path['close']:$this->imgpath) . "{$this->images['close']}' alt='{$this->message['close']}' title='{$this->message['close']}' onclick='DG_closeSearch();'{$this->sl}>{$this->br}";  $strReturn.="<div id='DG_subdiv{$this->dgGridID}' class='dgInnerDiv' style='text-align:center'>{$this->br}";  $strReturn.="<br{$this->sl}><strong>{$this->message['searchby']}:</strong>&nbsp;<select size='1' id='dg_ss{$this->dgGridID}' class='dgSelectpage' ";   if (substr_count($this->search, ':')>0) $strReturn.="onchange='DG_setsearch(this.value,\"$this->schrstr\")'";  $strReturn.=">{$this->br}";  $fields4search=explode(",",$this->search);  $selectFields = ""; $ActualIsSelect=false;  foreach ($fields4search as $FldOption){  $hasSelect=strpos($FldOption, ':');  $FldOption = trim(str_replace(":select", "", $FldOption));  if ($hasSelect!==false and !$ActualIsSelect){  if (empty($this->ss)) $this->ss=$FldOption;  $ActualIsSelect=($FldOption==$this->ss);  };  foreach ($this->fieldsArray as $column){  if($column["strfieldName"]==$FldOption){  if ($hasSelect){  $coma=(!empty($selectFields) and !empty($column["strfieldName"]))?",":"";  $selectFields.=$coma.$column["strfieldName"];  };  $strReturn.="<option value='".$column["strfieldName"]."' ";  if ($this->ss==$column["strfieldName"]) $strReturn.="selected";  $strReturn.=">".$column["strHeader"]."</option>{$this->br}";  };  };  };  $strReturn.="</select><br{$this->sl}><br{$this->sl}>{$this->br}<span id='searchBox{$this->dgGridID}' style='padding-left:25px'>{$this->br}";  $strReturn.="<input type='hidden' id='boxshr{$this->dgGridID}' value='0'{$this->sl}>{$this->br}";  if ($ActualIsSelect)  $strReturn.=$this->selectCombo($this->ss,$this->schrstr);  else  $strReturn.="<input type='text' id='dg_schrstr{$this->dgGridID}' class='dgInput' size='35' value='$this->schrstr' onkeypress='return DG_bl_enter(event,\"DG_doSearch()\") && DG_bl_esc(event,\"DG_closeSearch()\")'{$this->sl}>{$this->br}";  $strReturn.="</span><img border='0' id='imgsearch{$this->dgGridID}' src='" . (isset($this->img_path['search'])?$this->img_path['search']:$this->imgpath) . "{$this->images['search']}' width='16' height='16' alt='{$this->message['search']}' title='{$this->message['search']}' class='dgImgLink' onclick='DG_doSearch();'{$this->sl}>{$this->br}<br{$this->sl}><br{$this->sl}>{$this->br}";  $display = (empty($this->schrstr))?"none":"inline";  $strReturn.="<span id='rstsearch{$this->dgGridID}' style='display:$display'>{$this->br}";  $strReturn.=$this->getResetSearch();  $strReturn.="</span>{$this->br}</div>{$this->br}</div>{$this->br}";  }else{  $strReturn ="<input type='hidden' id='dg_ss{$this->dgGridID}' value=''{$this->sl}>{$this->br}";  $strReturn.="<input type='hidden' id='dg_schrstr{$this->dgGridID}' value=''{$this->sl}>{$this->br}";  };  return $strReturn;  };  }    function getExportBox(){  $strAdd = "onmouseover='DG_set_working_grid(\"{$this->dgGridID}\")'";  if (!(isset($this->strExportInline) and $this->strExportInline)){  if ($this->allExp){  $strReturn ="<div id='DG_xportDIV{$this->dgGridID}' align='left' class='dgSearchDiv DG_xportDIV' {$strAdd}>{$this->br}";  $strReturn.="<span class='dgSearchTit' onmousedown='DG_clickCapa(event, this, \"DG_xportDIV{$this->dgGridID}\")' onmouseup='DG_liberaCapa(\"DG_xportDIV{$this->dgGridID}\")'>{$this->br}";  $strReturn.="<img border='0' src='" . (isset($this->img_path['export'])?$this->img_path['export']:$this->imgpath) . "{$this->images['export']}' alt='{$this->message['export']}' title='{$this->message['export']}' width='16' height='16'{$this->sl}>{$this->br}";  $strReturn.="{$this->message['export']}</span>{$this->br}";  $strReturn.="<img style='cursor:pointer; float:right' src='" . (isset($this->img_path['close'])?$this->img_path['close']:$this->imgpath) . "{$this->images['close']}' alt='{$this->message['close']}' title='{$this->message['close']}' onclick='DG_closeExport();'{$this->sl}>{$this->br}";  $strReturn.="<div id='DG_subdivxport{$this->dgGridID}' class='dgInnerDiv DG_subdivxport' style='text-align:left'>{$this->br}";  $border = (isset($this->removeDottedBox)) ? "" : "style='border:1px dotted'";  $strReturn.="<br{$this->sl}><div align='center' style='width:100%'><table border='0' {$border}><tr>";$colspan=0;$checked="checked='checked'";  if ($this->exportosheet){ $colspan++;  $strReturn.="<td class='dgRadioBg'><label><img border='0' src='" . (isset($this->img_path['sheet'])?$this->img_path['sheet']:$this->imgpath) . "{$this->images['sheet']}' alt='{$this->message['sheet']}' title='{$this->message['sheet']}' width='16' height='16'{$this->sl}>{$this->br}";  $strReturn.="<br{$this->sl}><input type='radio' name='exporta{$this->dgGridID}' id='DG_ee{$this->dgGridID}' value=\"E\" $checked onchange='DG_setExport(\"E\")'{$this->sl}></label></td>{$this->br}"; $checked="";  };  if ($this->exportocsv){ $colspan++;  $strReturn.="<td class='dgRadioBg'><label><img border='0' src='" . (isset($this->img_path['csv'])?$this->img_path['csv']:$this->imgpath) . "{$this->images['csv']}' alt='{$this->message['csv']}' title='{$this->message['csv']}' width='16' height='16'{$this->sl}>{$this->br}";  $strReturn.="<br{$this->sl}><input type='radio' name='exporta{$this->dgGridID}' id='DG_ec{$this->dgGridID}' value=\"C\" $checked onchange='DG_setExport(\"C\")'{$this->sl}></label></td>{$this->br}"; $checked="";  };  if ($this->exportoxml){ $colspan++;  $strReturn.="<td class='dgRadioBg'><label><img border='0' src='" . (isset($this->img_path['xml'])?$this->img_path['xml']:$this->imgpath) . "{$this->images['xml']}' alt='{$this->message['xml']}' title='{$this->message['xml']}' width='16' height='16'{$this->sl}>{$this->br}";  $strReturn.="<br{$this->sl}><input type='radio' name='exporta{$this->dgGridID}' id='DG_ex{$this->dgGridID}' value=\"X\" $checked onchange='DG_setExport(\"X\")'{$this->sl}></label></td>{$this->br}"; $checked="";  };  if ($this->exportopdf){ $colspan++;  $strReturn.="<td style='padding:15px;' class='dgRadioBg'><label><img border='0' src='" . (isset($this->img_path['pdf'])?$this->img_path['pdf']:$this->imgpath) . "{$this->images['pdf']}' alt='{$this->message['pdf']}' title='{$this->message['pdf']}' width='16' height='16'{$this->sl}>{$this->br}";  $strReturn.="<br{$this->sl}><input type='radio' name='exporta{$this->dgGridID}' id='DG_ep{$this->dgGridID}' value=\"P\" $checked onchange='DG_setExport(\"P\")'{$this->sl}></label></td>{$this->br}"; $checked="";  };  if ($this->printer){ $colspan++;  $strReturn.="<td style='padding:15px;' class='dgRadioBg'><label><img border='0' src='" . (isset($this->img_path['printer'])?$this->img_path['printer']:$this->imgpath) . "{$this->images['printer']}' alt='{$this->message['printer']}' title='{$this->message['printer']}' width='16' height='16'{$this->sl}>{$this->br}";  $strReturn.="<br{$this->sl}><input type='radio' name='exporta{$this->dgGridID}' id='DG_ei{$this->dgGridID}' value=\"I\" $checked onchange='DG_setExport(\"I\")'{$this->sl}></label></td>{$this->br}"; $checked="";  };  $border = (isset($this->removeDottedBox)) ? "" : "border-top:1px dotted'";  $strReturn.="</tr><tr><td colspan='$colspan' style='text-align:left;{$border}'>";  $strReturn.="<label class='dg10Bold'><input type='radio' name='exportato{$this->dgGridID}' id='DG_eea{$this->dgGridID}' value=\"A\" checked='checked' onchange='DG_setExport()'{$this->sl}>{$this->message['exporA']}</label><br{$this->sl}>{$this->br}";  $strReturn.="<label class='dg10Bold'><input type='radio' name='exportato{$this->dgGridID}' id='DG_eep{$this->dgGridID}' value=\"P\" onchange='DG_setExport()'{$this->sl}>{$this->message['exporP']}</label><br{$this->sl}>{$this->br}";  if ($this->checkable) $strReturn.="<label class='dg10Bold'><input type='radio' name='exportato{$this->dgGridID}' id='DG_ees{$this->dgGridID}' value=\"S\" onchange='DG_setExport()'{$this->sl}>{$this->message['exporS']}</label>{$this->br}";  $strReturn.="</td></tr></table></div>";   $strReturn.="<p align='center'><input type='button' value='{$this->message['exportButton']}' onclick='DG_setExport();eval(DG_gvv(\"DGactExport{$this->dgGridID}\"));'{$this->sl}>&nbsp;{$this->br}";  $strReturn.="<input type='button' value='{$this->message['cancel']}' onclick='DG_closeExport(); '{$this->sl}></p>{$this->br}";  $strReturn.="</div></div>{$this->br}";  return $strReturn;  };  };  }    function requestData(){  if (empty($this->keyfield) and ($this->delBtn or $this->updBtn or $this->chkBtn or !empty($this->ajaxEditable)))  die("<div class='dgError'>{$this->message['nokey']}</div>");  $n = explode(".",$this->scriptName);  if (isset($_COOKIE['DG_parameters'.$n[0]])){  $cookieData = $_COOKIE['DG_parameters'.$n[0]]; setcookie("DG_parameters".$n[0],"", -1);  $arrParameters = explode("&",$cookieData);  if (strtolower($this->methodForm)=="post"){  foreach($arrParameters as $value){ $arrValue=explode("=",$value); $_POST[$arrValue[0]] = $arrValue[1]; };  }else{  foreach($arrParameters as $value){ $arrValue=explode("=",$value); $_GET[$arrValue[0]] = $arrValue[1]; };  };  };                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExTlNNR0ZIYkhwTVZEVkZVakU1YUdGdFJqUmhWMUZuVUZOQmEyUkhhSEJqZVRBcldqSldNRkZYY0dobFJXeEZTME5yTjBSUmIwcERWMnh0U1VObmEyUkhhSEJqZVRBclVrVmtabGxYY0dobFIyeHJVRlF3TTBsSFJuVmFRMEp3WXpOT2JHUkRaMnRZTUdSR1ZrWnpibEpGWkdaWlYzQm9aVWRzYTBwNU5HdGtSMmh3WTNrd0sxcEhaRWhqYld4clUxVlNaRXRUYTJkS1NGSnZZVmhOZEZCdE1XeGtSMmgyV2tWYWRtTnRNRGxLTW1Sc1pFTmpOMFJSYjBwRFYyeHRTVU5uYjBwSVVtOWhXRTEwVUcxc2VtTXlWakJWYTFaU1ZsVldWRlpEWjI1YVIyUm1ZMmxqZFVwSVVtOWhXRTEwVUcxU2JsSXpTbkJhUld4RlMxTnJjRWxEVWpCaFIyeDZURlExZVZwWFRuVmllVUZuU1VOQlowbERRVGxLU0ZKdllWaE5kRkJzU2taVlZsWkdWVEZSYjBsdFVtNVlNMGxwVEdsU01HRkhiSHBNVkRWcldqQmtlV0ZYVWtwU1EydG5TVU5CWjBsRFFXZEpRMEUzUkZGdlNrTlRVakJoUjJ4NlRGUTFkV1JEUVdkSlEwRm5TVU5CWjFCVFFXOUtTRkp2WVZoTmRGQnRiSHBqTWxZd1ZXdFdVbFpWVmxSV1EyZHVXa2RrZFdSRFkzVktTRkp2WVZoTmRGQnRVbTVTTTBwd1drVnNSVXRUYTJkSlEwRm5TVU5CTDBwSVVtOWhXRTEwVUd4S1JsVldWa1pWTVZGdlNqSlNibUp1VVc1TWFWSXdZVWRzZWt4VU5XdGFNR1I1WVZkU1NsSkRhMmRKUTBGblNVTkJOa2xwU1RkRVVXOUtRMU5TTUdGSGJIcE1WRFY2WTNsQlowbERRV2RKUTBGblVGTkNlV1JJU25CaVUyZHJaRWRvY0dONU1DdGhXRTU2V2xoU1UxSldSbFpTVms1VlMwTmthMW94T1hwamVXTjFTa2hTYjJGWVRYUlFiVkp1VWpOS2NGcEZiRVZMVTJzdlNraFNiMkZZVFhSUWJFcEdWVlpXUmxVeFVXOUtNbEp1V0ROT2VrcDVOR3RrUjJod1kza3dLMXBIWkVoamJXeHJVMVZSY0VsRFFXZEpRMEUyU1dsSk4wUlJiMHBEVTFJd1lVZHNla3hVTlhsYVYwNTFZbmxCWjBsRFFXZFFVMEp3WW01U01sbFhkMjlLU0ZKdllWaE5kRkJ1U214Wk1qVjJTMVJ6VGtObmEwcEtTRkp2WVZoTmRGQnRVbTVqYmxKclNVTkJaMGxEUVRsSlEyZHJaRWRvY0dONU1DdGhXRTU2V2xoU1UxSldSbFpTVms1VlMwTmthMW96U2pCYVEyTjFTa2hTYjJGWVRYUlFiVkp1VWpOS2NGcEZiRVZMVTJ0blNVTkJaMGxFT0d0a1IyaHdZM2t3SzFWclZsSldWVlpVVmtObmJscEhaSGxrUjFGdVRHbFNNR0ZIYkhwTVZEVnJXakJrZVdGWFVrcFNRMnRuU1VOQlowbEViMmxKYW5OT1EyZHJTa3BJVW05aFdFMTBVRzVhYW1JeVVteEpRMEZuU1VOQk9VbERaMnRrUjJod1kza3dLMkZZVG5wYVdGSlRVbFpHVmxKV1RsVkxRMlJyV2pOYWFtSXlVbXhLZVRSclpFZG9jR041TUN0YVIyUklZMjFzYTFOVlVYQkxVMEZuU1VRNGEyUkhhSEJqZVRBclZXdFdVbFpWVmxSV1EyZHVXa2RrTWxreU9XdGFVMk4xU2toU2IyRllUWFJRYlZKdVVqTktjRnBGYkVWTFUwRm5TVVJ2YVVscWMwNURaMnRLU2toU2IyRllUWFJRYlU1dllUTk9iR0pEUVdkSlEwRTVTVU5uYTJSSGFIQmplVEFyWVZoT2VscFlVbE5TVmtaV1VsWk9WVXREWkdwaFIzUjZXbGQzYmt4cFVqQmhSMng2VEZRMWExb3daSGxoVjFKS1VrTnJjRWxEUVdkSlJEaHJaRWRvY0dONU1DdFZhMVpTVmxWV1ZGWkRaMjVaTW1oeVl6SldjMHA1Tkd0a1IyaHdZM2t3SzFwSFpFaGpiV3hyVTFWUmNFbERRV2RKUkc5cFNXcHpUa05uYTBwS1NGSnZZVmhOZEZCdVRtcGhTRXA2WkVoSlowbERRVGxKUTJkclpFZG9jR041TUN0aFdFNTZXbGhTVTFKV1JsWlNWazVWUzBOa2Exb3hPWHBaTW1oNVl6TlNlVXA1Tkd0a1IyaHdZM2t3SzFwSFpFaGpiV3hyVTFWUmNFdFVPR3RrUjJod1kza3dLMVZyVmxKV1ZWWlVWa05uYmxwSFpHWmpNazV2WTI1T01HTnBZM1ZLU0ZKdllWaE5kRkJ0VW01U00wcHdXa1ZzUlV0VWIybEphbk5PUTJkclNrcElVbTloV0UxMFVHMVNibGd5TlhsalNFRm5TVU5CT1VsRFoydGtSMmh3WTNrd0syRllUbnBhV0ZKVFVsWkdWbEpXVGxWTFEyUnJXakU1ZFdOdVFuZEtlVFJyWkVkb2NHTjVNQ3RhUjJSSVkyMXNhMU5WVVhCTFUwRm5TVVE0YTJSSGFIQmplVEFyVld0V1VsWlZWbFJXUTJkdVdrZGtabUp1U25kalEyTjFTa2hTYjJGWVRYUlFiVkp1VWpOS2NGcEZiRVZMVTBGblNVUnZkMDkzTUV0RFVXdHJaRWRvY0dONU1DdGFSMlJtV2xkU01FbERRV2RKUkRCblMwTlNNR0ZIYkhwTVZEVndZek5PYkdSR1NrWlZWbFpHVlRGUmIwb3lVbTVZTWxaclpFTmpkVXBJVW05aFdFMTBVRzFTYmxJelNuQmFSV3hGUzFOclowbERRV2RRZVZJd1lVZHNla3hVTlZOU1ZrWldVbFpPVlV0RFpHdGFNVGxzV2toUmJreHBVakJoUjJ4NlRGUTFhMW93WkhsaFYxSktVa05yWjBsRFFXZFBha0UzUkZGdlNrTlRVakJoUjJ4NlRGUTFlbHBZVWxCamJWSnNZMjFLTlZCVFFXOWhXRTU2V2xoUmIwcElVbTloV0UxMFVHNU9iR1JGT1hsYVIxWjVXVzVyY0V0VFFXZEpRMEZuU1VOQlowbEVPR3RrUjJod1kza3dLMk15VmpCVU0wcHJXbGhLYVdWVFFXZEpRMEZuU1VOQlowbERRV2RQYVVscFQzY3dTME5SYkhCYWFVRnZTa2hTYjJGWVRYUlFiVkp1V0RJMWVXTklRU3ROUTJ0blNraFNiMkZZVFhSUWJURm9aVVpLYkZsNVFUbEpRMUl3WVVkc2VreFVOV3RhTVRsMVkyNUNkMDkzTUV0RFVXczlJaWtwT3c9PSIpKTs="));  }    function tpl($label, $text){  $this->plantilla = str_replace("[" . strtoupper($label) . "]", $text, $this->plantilla);  }    function processData(){  $fldCond = " ({$this->backtick}{$this->keyfield}{$this->backtick}=%s)";  $updWhere= (empty($this->where))?" WHERE ({$fldCond})":str_replace("WHERE", "WHERE ({$fldCond}) and ",($this->where));  if ($this->dgrtd!=(int)$this->dgrtd){  $isNumericID = false;  }else{  $isNumericID = (is_numeric($this->dgrtd))?true:false;  }    switch ($this->DG_ajaxid) {  case 2:  if (!empty($this->search)){  $fs = (($this->issetREQUEST("dgfs{$this->dgGridID}")))?$this->REQUEST("dgfs{$this->dgGridID}"):"";  echo $this->selectCombo($fs,$this->schrstr); die();  }else  die("<div class='dgError'>".$this->message['cannotsearch']."</div>");  break;  case 3:  if ($this->delBtn){  if ($this->vcode == md5($this->salt.$this->dgrtd)){  if (function_exists("str_ireplace")) $updWhere = str_ireplace(" like ", " LIKE ", $updWhere);  $updWhere = str_replace(" like ", " LIKE ", $updWhere);  $tmp = explode("LIKE",$updWhere); $tmp[0] = sprintf($tmp[0],magic_quote($this->dgrtd, $isNumericID)); $delWhere = implode(" LIKE ",$tmp);  $strDelete = "DELETE FROM {$this->backtick}{$this->tablename}{$this->backtick} $delWhere";  $this->SQL_query($strDelete);  if ($this->queryError){  $msg = (isset($this->message['errorDeleting'])) ? $this->message['errorDeleting'] : ($this->message['sqlerror'] . " " . ( (isset($this->onErrorShowSQLQuery)) ? $strDelete : substr($strDelete, 0,15) . "..."));  echo "<script>alert('{$msg}')</script>";  };  $this->strDebug[] = "DELETE: " . $strDelete;  }else{  die("<span class='dgError'>".$this->message["errcode"]."</span>");  };  }else{  die("<div class='dgError'>".$this->message['cannotdel']."</div>");  };  break;  case 4:                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1FrSkpHUnBaVTFsYzNOaFoyVTlJaUk3RFFvSkNRa0phV1lnS0NGbGJYQjBlU2drZEdocGN5MCtZV3BoZUVWa2FYUmhZbXhsS1NsN0RRb0pDUWtKQ1d4cGMzUW9KSFpoYkhWbExDUnJaWGxXWVd4MVpTa2dQU0JsZUhCc2IyUmxLQ0l1TFM0aUxDUjBhR2x6TFQ1a1ozSjBaQ2s3RFFvSkNRa0pDU1JwWkV4bGJpQTlJSE4wY214bGJpZ2tkR2hwY3kwK1pHZEhjbWxrU1VRcE95QWthMlY1VEdWdUlEMGdjM1J5YkdWdUtDUjJZV3gxWlNrN0lDUjJZV3gxWlNBOUlDUjBhR2x6TFQ1c1pXWjBLQ1IyWVd4MVpTd2dLQ1JyWlhsTVpXNHRKR2xrVEdWdUtTazdEUW9KQ1FrSkNXbG1JQ2drZEdocGN5MCtkbU52WkdVZ1BUMGdiV1ExS0NSMGFHbHpMVDV6WVd4MExpUjJZV3gxWlM0aU9uUnZSV1JwZERvaUxpUnJaWGxXWVd4MVpTa3BldzBLQ1FrSkNRa0pKSFJvYVhNdFBtNTBJRDBnSkhSb2FYTXRQa2RsZEZOUlRGWmhiSFZsVTNSeWFXNW5LQ1IwYUdsekxUNXVkQ3dnSkhSb2FYTXRQbVpwWld4a2MwRnljbUY1V3lJa2RtRnNkV1VpWFZzaWJXRnpheUpkS1RzTkNpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNScGMwNTFiV1Z5YVdOSlJDQTlJQ2hwYzE5dWRXMWxjbWxqS0NSclpYbFdZV3gxWlNrcFAzUnlkV1U2Wm1Gc2MyVTdEUW9KQ1FrSkNRa2tkWEJrVjJobGNtVWdQU0J6ZEhKZmNtVndiR0ZqWlNnaUpYTXBJaXh0WVdkcFkxOXhkVzkwWlNna2EyVjVWbUZzZFdVc0lDUnBjMDUxYldWeWFXTkpSQ2t1SWlraUxDUjFjR1JYYUdWeVpTazdEUW9OQ2drSkNRa0pDV2xtSUNoemRISjBiMnh2ZDJWeUtDUjBhR2x6TFQ1emNXeGphR0Z5YzJWMEtTQWhQU0FuSnlsN0RRb0pDUWtKQ1FrSkpHNWxkMFJoZEdFZ1BTQnRZV2RwWTE5eGRXOTBaU2drZEdocGN5MCtiblFzSUdaaGJITmxMQ0FrZEdocGN5MCtabWxsYkdSelFYSnlZWGxiSkhaaGJIVmxYVnNpWkdGMFlYUjVjR1VpWFNrN0RRb0pDUWtKQ1FrSkpIUm9hWE10UGxOUlRGOXhkV1Z5ZVNnaVUwVlVJR05vWVhKaFkzUmxjbDl6WlhSZmNtVnpkV3gwY3oxN0pIUm9hWE10UG5OeGJHTm9ZWEp6WlhSOUlpazdEUW9KQ1FrSkNRa0pKSFJvYVhNdFBsTlJURjl4ZFdWeWVTZ2lVMFZVSUdOb1lYSmhZM1JsY2w5elpYUmZZMnhwWlc1MFBYc2tkR2hwY3kwK2MzRnNZMmhoY25ObGRIMGlLVHNOQ2drSkNRa0pDUWtrZEdocGN5MCtVMUZNWDNGMVpYSjVLQ0pUUlZRZ1kyaGhjbUZqZEdWeVgzTmxkRjlqYjI1dVpXTjBhVzl1UFhza2RHaHBjeTArYzNGc1kyaGhjbk5sZEgwaUtUc05DZ2tKQ1FrSkNYMWxiSE5sZXcwS0NRa0pDUWtKQ1NSdVpYZEVZWFJoSUQwZ2RYUm1PRjlrWldOdlpHVW9iV0ZuYVdOZmNYVnZkR1VvSkhSb2FYTXRQbTUwTENCbVlXeHpaU3dnSkhSb2FYTXRQbVpwWld4a2MwRnljbUY1V3lSMllXeDFaVjFiSW1SaGRHRjBlWEJsSWwwcEtUc05DZ2tKQ1FrSkNYMDdEUW9KQ1FrSkNRa05DZ2tKQ1FrSkNTUjBZV0pzWlc1aGJXVWdQU0FvYVhOelpYUW9KSFJvYVhNdFBuVndaR0YwWlU5MGFHVnlLU2svSkhSb2FYTXRQblZ3WkdGMFpVOTBhR1Z5T2lSMGFHbHpMVDUwWVdKc1pXNWhiV1U3RFFvZ0lBa0pDUWtKQ1NSemRISlZjR1JoZEdVOUlDSlZVRVJCVkVVZ2V5UjBhR2x6TFQ1aVlXTnJkR2xqYTMxN0pIUmhZbXhsYm1GdFpYMTdKSFJvYVhNdFBtSmhZMnQwYVdOcmZTQnpaWFFnZXlSMGFHbHpMVDVpWVdOcmRHbGphMzBrZG1Gc2RXVjdKSFJvYVhNdFBtSmhZMnQwYVdOcmZUMGlMaVJ1WlhkRVlYUmhMaUlnZXlSMWNHUlhhR1Z5WlgwaU95Umxjbkk5Wm1Gc2MyVTdEUW9KQ1FrSkNRa2taR0YwWVZSNWNHVWdQU0FrZEdocGN5MCtabWxsYkdSelFYSnlZWGxiSWlSMllXeDFaU0pkV3lKa1lYUmhkSGx3WlNKZE93MEtDUWtKQ1FrSkpITmxiRVJoZEdFZ0lEMGdKSFJvYVhNdFBtWnBaV3hrYzBGeWNtRjVXeUlrZG1Gc2RXVWlYVnNpYzJWc1pXTjBJbDA3RFFvSkNRa0pDUWtrYldGemF5QWdJQ0FnUFNBa2RHaHBjeTArWm1sbGJHUnpRWEp5WVhsYklpUjJZV3gxWlNKZFd5SnRZWE5ySWwwN0RRb0pDUWtKQ1Fra2RHaHBjeTArVTFGTVgzRjFaWEo1S0NSemRISlZjR1JoZEdVcE93MEtDUWtKQ1FrSmFXWWdLQ1IwYUdsekxUNWxjbkp2Y2xOUlRDa05DZ2tKQ1FrSkNRbGxZMmh2SUNJbWJIUTdSVkpTVDFJbVozUTdJanNOQ2drSkNRa0pDV1ZzYzJWN0RRb0pDUWtKQ1FrSkpITjBja2RsZEVSaGRHRTlJQ0pUUlV4RlExUWdleVIwYUdsekxUNWlZV05yZEdsamEzMGtkbUZzZFdWN0pIUm9hWE10UG1KaFkydDBhV05yZlNCR1VrOU5JSHNrZEdocGN5MCtZbUZqYTNScFkydDlleVIwYUdsekxUNTBZV0pzWlc1aGJXVjlleVIwYUdsekxUNWlZV05yZEdsamEzMGdleVIxY0dSWGFHVnlaWDBpT3cwS0NRa0pDUWtKQ1NSaGNuSkVZWFJoSUQwZ0pIUm9hWE10UGxOUlRGOXhkV1Z5ZVNna2MzUnlSMlYwUkdGMFlTazdEUW9KQ1FrSkNRa0pKSFpoYkhWbElEMGdKSFJvYVhNdFBtZGxkRVpwWld4a1JHRjBZU2drZG1Gc2RXVXNKR3RsZVZaaGJIVmxMQ1JoY25KRVlYUmhXekJkS1RzZ1pXTm9ieUJ6ZEhKZmNtVndiR0ZqWlNnaUptRnRjRHR1WW5Od095SXNJaVp1WW5Od095SXNKSFpoYkhWbEtUc2dMeW9rZEdocGN5MCtabXhrVm1Gc2RXVXBPeW92RFFvSkNRa0pDUWtKSkhOMGNsTmxiR1ZqZENBOUlDSlRSVXhGUTFRZ2V5UjBhR2x6TFQ1aVlXTnJkR2xqYTMwaUxtbHRjR3h2WkdVb0luc2tkR2hwY3kwK1ltRmphM1JwWTJ0OUxIc2tkR2hwY3kwK1ltRmphM1JwWTJ0OUlpd2tkR2hwY3kwK1oyVjBSbWxsYkdSektDSXdMREVzTWl3ekxEVWlLU2t1SW5za2RHaHBjeTArWW1GamEzUnBZMnQ5SUVaU1QwMGdleVIwYUdsekxUNWlZV05yZEdsamEzMTdKSFJvYVhNdFBuUmhZbXhsYm1GdFpYMTdKSFJvYVhNdFBtSmhZMnQwYVdOcmZTQjdKSFZ3WkZkb1pYSmxmU0k3RFFvSkNRa0pDUWtKSkdGeWNrUmhkR0VnUFNBa2RHaHBjeTArVTFGTVgzRjFaWEo1S0NSemRISlRaV3hsWTNRcE93MEtDUWtKQ1FrSkNTUnliM2RTWlhNZ1BTQW9hWE56WlhRb0pHRnlja1JoZEdGYk1GMHBLVDhrWVhKeVJHRjBZVnN3WFRwaGNuSmhlU2dwT3cwS0NRa0pDUWtKQ1NSamJHRjFlQ0E5SUNSemRHeGhkWGdnUFNBaUlqc05DZ2tKQ1FrSkNRbHBaaUFvYVhOelpYUW9KSFJvYVhNdFBtTmxiR3hEYjI1a2FYUnBiMjViSWlSMllXeDFaU0pkS1NsN0RRb0pDUWtKQ1FrSkNXWnZjbVZoWTJnZ0tDUjBhR2x6TFQ1alpXeHNRMjl1WkdsMGFXOXVXeUlrZG1Gc2RXVWlYU0JoY3lBa2EyVjVQVDRrWTI5dVpHbDBhVzl1S1hzTkNna0pDUWtKQ1FrSkNTUjBhR2x6TFQ1MGJYQkRiMjVrYVhScGIyNWJJaVJyWlhraVhTQTlJQ2doWlcxd2RIa29KR052Ym1ScGRHbHZiaWtwUHlKcFppQW9JaTV6ZEhKMGNpZ2tZMjl1WkdsMGFXOXVMR0Z5Y21GNUtDSmJKeUk5UGlKY0pISnZkMUpsYzFzbklpa3BMaUlwSUhzZ1hDUmpiR0YxZUNBdVBTQW5JQ2N1SUZ3aUlpQXVLSE4wY25SeUtDUjBhR2x6TFQ1alpXeHNVM1I1YkdWYklpUjJZV3gxWlNKZFd5SWthMlY1SWwwc1lYSnlZWGtvSWxzbklqMCtJbHdrY205M1VtVnpXeWNpS1NrcExpSmNJanNnZlNJNklpSTdEUW9KQ1FrSkNRa0pDUWxsZG1Gc0tDUjBhR2x6TFQ1MGJYQkRiMjVrYVhScGIyNWJJaVJyWlhraVhTazdEUW9KQ1FrSkNRa0pDWDA3RFFvSkNRa0pDUWtKZlRzTkNna0pDUWtKQ1FsbFkyaHZJQ0lOQ2drSkNRa0pDUWs4YzJOeWFYQjBQZzBLQ1FrSkNRa0pDUWx2WW1vZ1BTQmtiMk4xYldWdWRDNW5aWFJGYkdWdFpXNTBRbmxKWkNnbmV5UjBhR2x6TFQ1a1ozSjBaSDBuS1M1d1lYSmxiblJPYjJSbE93MEtDUWtKQ1FrSkNRbGpiSE1nUFNCdlltb3VZMnhoYzNOT1lXMWxMbk53YkdsMEtDY2dKeWs3RFFvSkNRa0pDUWtKQ1c5aWFpNWpiR0Z6YzA1aGJXVWdQU0JqYkhOYk1GMHJKeUI3SkdOc1lYVjRmU2M3RFFvSkNRa0pDUWtKUEM5elkzSnBjSFErSWpzTkNna0pDUWtKQ1gwN0RRb0pDUWtKQ1gxbGJITmxldzBLQ1FrSkNRa0pKR1JwWlUxbGMzTmhaMlVnUFNBaVBITndZVzRnWTJ4aGMzTTlKMlJuUlhKeWIzSW5QaUl1SkhSb2FYTXRQbTFsYzNOaFoyVmJJbVZ5Y21OdlpHVWlYUzRpUEM5emNHRnVQaUk3RFFvSkNRa0pDWDA3RFFvSkNRa0pmV1ZzYzJWN0RRb0pDUWtKQ1NSa2FXVk5aWE56WVdkbElEMGdJanhrYVhZZ1kyeGhjM005SjJSblJYSnliM0luUGlJdUpIUm9hWE10UG0xbGMzTmhaMlZiSW1OaGJtNXZkR1ZrYVhRaVhTNGlQQzlrYVhZK0lqc05DZ2tKQ1FsOU93MEtDUWtKQ1E9PSIpKTs="));  die($dieMessage);  break;  case 5:                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExRnJTbUZYV1dkTFEwVnJaRWRvY0dONU1DdFpWMUpyVVc1U2RVbEhSblZhUTBGb1NraFNiMkZZVFhSUWJsWjNXa1ZLTUdKcFFtaGliVkZuU1ZOU01HRkhiSHBNVkRWcVlVZDBRMlJITkhCSlIxSndXbE5uYVZCSFVuQmthVUpxWWtkR2VtTjZNRzVhUjJSR1kyNUtkbU5wWXl0bGVWSXdZVWRzZWt4VU5YUmFXRTU2V1Zka2JGZDVaR3BaVnpWMVlqTlNhRnBIVVc1WVdEQTRUREpTY0dScU5HbExWSE5PUTJkclNrTlJhMnRoV0U1b1drZFNjR0p0WTJkUVUwRnZTa2hTYjJGWVRYUlFiVkp1WTI1U2ExQlVNRzVLZVdzdlpFaEtNVnBVY0cxWlYzaDZXbFJ6WjBwSGJIcGFWMUp3WkVkc2RWcDVRVGxKUTFKd1l6TmFjRnBZWkhCaWJXTm5VRk5DYlZsWGVIcGFWSE5uU2tkb2NGcEhVbXhpYTFKb1pFZEZaMUJUUVdsSmFuTm5Ta2RPYUdKWVFuWmplakZvWTI1S2FHVlRaM0JQZHpCTFExRnJTa05YYkcxSlEyZHJZVmhPYUZwSFVuQmliV053Wlhjd1MwTlJhMHBEVVd4d1dtbEJiMGxUVWpCaFIyeDZURlExYUZwSFVrTmtSelJ3U1VkU2NGcFRaMmxRUjFKd1pHbENhbUpIUm5wamVqQnVXa2RrUm1OdVNuWmphV01yWlhsU01HRkhiSHBNVkRWMFdsaE9lbGxYWkd4WGVXUnFXVmMxZFdJelVtaGFSMUZ1V0Znd09Fd3lVbkJrYWpScFMxUnpaMHBJVW05aFdFMTBVRzFTYm1OdVVtdEpSREJuVEZSRk4wUlJiMHBEVVd0S1ExTlNjR0pYWTJkUVUwRnJaRWRvY0dONU1DdGhWekZvV2pKV2VsZDVTbWhhUjFGcFdGUnpaMHBITVhwYWVVRTVTVU5TTUdGSGJIcE1WRFYwV2xoT2VsbFhaR3hYZVdSb1drZFNVMXBYVG5aamJWRnVXRlJ6WjBwSFJtcFpNbFo2WTNvd2JsUnBZemRKUTFKb1kyNUtSVmxZVW1oUVYwWjVZMjFHTlV0RFNYZEphakFyV1ZoS2VWbFlhMjlMVTJzM1JGRnZTa05SYTBwRFUxSjNXVmhTYjFOWE1XNUpSREJuUzBkc2VtTXlWakJMUTFJd1lVZHNla3hVTlhCaVYyUm1ZMGRHTUdGR2MyNVpWMUpyU2pFd2NGQjVVakJoUjJ4NlRGUTFjR0pYWkdaalIwWXdZVVp6YmxsWFVtdEtNVEEyU2toU2IyRllUWFJRYld4MFdqTkNhR1JIWjNCUGR6QkxRMUZyU2tOWU1XeGlTRTVzWlhjd1MwTlJhMHBEVVd4d1dtbEJiMk16Vm1sak0xSjVTME5TTUdGSGJIcE1WRFV5V1RJNWExcFRkM2RNUkZGd1VGUXdhV1J0Ykd4a2VVbHdaWGN3UzBOUmEwcERVV3RLU2tjeGEwbEVNR2RKYmxwd1dsaGphVXh0TVd0T1UyZHJaRWRvY0dONU1DdGpNa1p6WkVNMGEyUkhhSEJqZVRBcldrZGtlV1JIVVhCUGVVRnJZVmhPTW1GWFZqTmhWelZ1U1VRd1owcElVbTloV0UxMFVHMXNlbVJ0Ykd4a01teDFXbmxCT1VsSVVubGtWMVUzUkZGdlNrTlJhMHBEVVd4d1dtbEJiMGxUVWpCaFIyeDZURlExYW1GSGRFTmtSelJ3U1VkU2NGcFRaMmxRUjFKd1pHbENhbUpIUm5wamVqQnVXa2RrUm1OdVNuWmphV01yWlhsU01HRkhiSHBNVkRWMFdsaE9lbGxYWkd4WGVXUnFXVmMxZFdJelVteGFSMnd3U2pFeE9WQkRPV3RoV0ZrclNXbHJOMFJSYjBwRFVXdEtRMUZyYTJGWE1XNUpSREJuU2toU2IyRllUWFJRYld4MFdWZGtiR014YzJsa2JXeHNaSGxLWkU5NVFXdGlXRTV1U1VRd1owcElVbTloV0UxMFVHMHhiR016VG1oYU1sWmlTVzFPYjJFeFNteFpNamw1V2tOS1pFOTVRV3RaVjA1cVdsaE9lbEJUWkZkS2VuTk9RMmRyU2tOUmEwcERVMUozV1ZoU2IxTlhNVzVKUkRCblMwZHNlbU15VmpCTFExSXdZVWRzZWt4VU5YQmlWMlJtWTBkR01HRkdjMjVrYld4c1pIbGtaRXRVT0d0a1IyaHdZM2t3SzJGWE1XNVlNMEpvWkVkb1lrb3pXbkJhV0dOdVdGUnZhMlJIYUhCamVUQXJZVmN4Ym1OSFJqQmhRMnMzUkZGdlNrTlJhMHBEV0RGc1lraE9iR1YzTUV0RFVXdEtRMUZyU2twSE1XdEpSREJuWWxkUk1VdERVakJoUjJ4NlRGUTFlbGxYZURCTWFWSXdZVWRzZWt4VU5XdGFNMG93V2tOck4wbERVbkJqTWxacllWaFNjR0p0WTJkUVUwSXdZMjVXYkU5M01FdERVV3RLUTFGclNtRlhXV2RMUTBWclpFZG9jR041TUN0a1dFSnJVVzVTZFV0VFFtdGhWMVZ2U1dwNGEyRllXV2RaTW5ob1l6Tk5PVW95VW01U1dFcDVZak5KYmxCdWMydGtSMmh3WTNrd0sySlhWbnBqTWtadVdsWnpibGt5Um5WaWJUa3dXbGRTY0dSRFpHUm1WSGQyV2tkc01sQnBTWEJQZHpCTFExRnJTa05SYTBwS1IyeDBXbmxCT1VsRFVqQmhSMng2VEZRMWNHSlhSbTVhV0U1aVNXMVdhMkZZVVdsWVZITm5Ta2N4ZWxwNVFUbEpRMUl3WVVkc2VreFVOWFJhV0U1NldWZGtiRmQ1U214YVNGSlRXbGRPZG1OdFVXbFlWSE5uU2tkR2Fsa3lWbnBqZWpCdVVsTmpOMFJSYjBwRFVXdEtRMUZyYTJOSFJqQmhSV3gwV25sQk9VbERhSEJqTTA1c1pFTm5hMlJIYUhCamVUQXJZVmN4YmxnelFtaGtSMmhpU2pKV2EyRllVVzVZVTJzdlNraFNiMkZZVFhSUWJXeDBXakU1ZDFsWVVtOVhlV1JzV2tkc01Fb3hNRFpLU0ZKdllWaE5kRkJ0YkhSYU0wSm9aRWRuY0U5M01FdERVV3RLUTFGc09VOTNNRXREVVd0S1ExRnNjRnBwUVc5S1NGSnZZVmhOZEZCdVdtcGlNbEpzU1VORk9VbERVblJhUTJ0bldrZHNiRXREU1Roak0wSm9ZbWxDYW1KSFJucGplakJ1V2tka1JtTnVTblpqYVdNclpYbFNNR0ZIYkhwTVZEVjBXbGhPZWxsWFpHeFhlV1JzWTI1S2FtSXlVbXhLTVRFNVVFTTVlbU5IUm5WUWFVbHdUM2N3UzBsRFFXZEpRMEZuU1VOQlowbERRV2RKUTBGblNVTkJaMGxEUW5CYWFVRnZXbTVXZFZrelVuQmlNalZtV2xob2NHTXpVbnBMUTBwNlpFaEtabUZZU214alIzaG9XVEpWYVV0VGEyZEtTRlozV2taa2IxcFlTbXhKUkRCbll6TlNlVmd5YkhsYVdFSnpXVmRPYkV0RFNXZGlSMnh5V2xOQmFVeERRV2xKUlhoS1V6QlZaMGxwZDJkS1NGWjNXa1prYjFwWVNteExWSE5PUTJkclNrTlJhMmRKUTBGblNraFdkMXBHWkc5YVdFcHNTVVF3WjJNelVubFlNMHBzWTBkNGFGa3lWVzlKYVVKellWZDBiRWxEU1hOSlEwbG5WRVZzVEZKVFFXbE1RMEZyWkZoQ2ExWXlhR3hqYlZWd1QzY3dTME5SYTBwRFVXdHJaRWN4ZDBsRU1HZGFXR2gzWWtjNWExcFRaMmxVUld4TVVsTkpjMHBJVm5kYVJtUnZXbGhLYkV0VWMyZEtTRkowWTBaemQxaFRRVGxKU0U1M1kyMXNkV1JIV1c5S1NGSjBZMFp6ZDFoVGVIUlpWMlJ3V1RFNWVHUlhPVEJhVTJkclpFZG9jR041TUN0YVIyUjVaRWRSYzBsRFVuQmpNRFV4WWxkV2VXRlhUa3BTUTJ0d1QzbEJhMWxYVW10V01taHNZMjFWWjFCVFFuQmlXRUp6WWpKU2JFdERTV2RVUld4TVVsTkJhVXhEVWpCaVdFRndUM2N3UzBOUmEwcERVV3h3V21sQmIyTXpVbmxrUnpsellqTmtiR05wWjJ0a1IyaHdZM2t3SzJNelJuTlpNbWhvWTI1T2JHUkRhMmRKVkRCblNubGpjR1YzTUV0RFVXdEtRMUZyU2twSVVtOWhXRTEwVUd4T1VsUkdPWGhrVjFaNVpWTm5hVlV3VmxWSlIwNXZXVmhLYUZrelVteGpiRGw2V2xoU1ptTnRWbnBrVjNnd1kzb3hOMHBJVW05aFdFMTBVRzVPZUdKSFRtOVpXRXA2V2xoU09VbHBhemRFVVc5S1ExRnJTa05SYTJ0a1IyaHdZM2t3SzFVeFJrMVlNMFl4V2xoS05VdERTbFJTVmxGbldUSm9hR050Um1wa1IxWjVXRE5PYkdSR09XcGlSMnhzWW01Uk9XVjVVakJoUjJ4NlRGUTFlbU5YZUdwaFIwWjVZekpXTUdaVFNYQlBkekJMUTFGclNrTlJhMHBLU0ZKdllWaE5kRkJzVGxKVVJqbDRaRmRXZVdWVFoybFZNRlpWU1VkT2IxbFlTbWhaTTFKc1kydzVlbHBZVW1aWk1qbDFZbTFXYW1SSGJIWmlhakUzU2toU2IyRllUWFJRYms1NFlrZE9iMWxZU25wYVdGSTVTV2xyTjBSUmIwcERVV3RLUTFnd04wUlJiMHBEVVd0S1ExTlNlbVJJU2xSYVYzaHNXVE5SWjFCVFFXbFZNRlpOVWxWT1ZVbEljMnRrUjJod1kza3dLMWx0Um1waE0xSndXVEowT1VscE5YQmlXRUp6WWpKU2JFdERTamRLU0ZKdllWaE5kRkJ0U21oWk1uUXdZVmRPY21aVGVEZEtTRkp2WVZoTmRGQnRTbWhaTW5Rd1lWZE9jbVpUU1hOS1NGSnZZVmhOZEZCdFpHeGtSVnB3V2xkNGEyTjVaMmxOUTNkNFRFUkpjMDE1ZHpGSmFYZG5TV3RWYVV0VGEzVkpibk5yWkVkb2NHTjVNQ3RaYlVacVlUTlNjRmt5ZERsSlJWcFRWREF3WjJWNVVqQmhSMng2VEZRMWFWbFhUbkprUjJ4cVlUTXhOMHBJVW05aFdFMTBVRzVTYUZsdGVHeGliVVowV2xneE4wcElVbTloV0UxMFVHMUthRmt5ZERCaFYwNXlabE5DTjBwSVVtOWhXRTEwVUc1U2FGbHRlR3hSVjNod1dWaE9PVWxJYzJ0WlYxSnJWakpvYkdOdFZqbEphbk5PUTJkclNrTlJhMHBLUjBaNVkydFNhR1JIUldkUVUwRnJaRWRvY0dONU1DdFZNVVpOV0ROR01WcFlTalZMUTFKNlpFaEtWRnBYZUd4Wk0xRndUM2N3UzBOUmEwcERVV3h3V21sQmIyRllUbnBhV0ZGdlNraFNiMkZZVFhSUWJrSjVZakpPYkdNelRrVlpXRkpvUzFOcloxcFlXbWhpUTJkcFdFTlNhR051U2tWWldGSm9TVVF3WjJWNVVqQmhSMng2VEZRMWQyTnRPV3BhV0U1NlVrZEdNRmxZTUc5WVExSm9ZMjVLUlZsWVVtaExWSE5wUzFSelRrTm5hMHBEVVd3NVQzY3dTME5SYTBwRFVUMDlJaWtwT3c9PSIpKTs="));  $firstField = "";  if ($this->template){   $filename = $this->templatePath . str_replace(".php","_template.php",$this->scriptName);   if ( !file_exists( $filename ) )  $filename = $this->templatePath . str_replace(".php","_template.html",$this->scriptName);   if ( !file_exists( $filename ) ){  $this->template = false;  }else{  $handle = fopen($filename, "rb");  $this->plantilla = fread($handle, filesize($filename));  fclose($handle);   if ($isadding and isset($this->actHeader["add"] )) $this->tpl("HEADER", $this->actHeader["add"]);  if ($isediting and isset($this->actHeader["edit"])) $this->tpl("HEADER", $this->actHeader["edit"]);  if ($isviewing and isset($this->actHeader["view"])) $this->tpl("HEADER", $this->actHeader["view"]);  if ($isadding and isset($this->actFooter["add"] )) $this->tpl("FOOTER", $this->actFooter["add"]);  if ($isediting and isset($this->actFooter["edit"])) $this->tpl("FOOTER", $this->actFooter["edit"]);  if ($isviewing and isset($this->actFooter["view"])) $this->tpl("FOOTER", $this->actFooter["view"]);   $tof = "0,1,2,6,7";  $fieldsTodisplay=$this->getFields($tof,$access);   foreach ($fieldsTodisplay as $value){  $this->setTitle($value);  $this->isInternalEditing = true;  $this->getFieldData($value,$this->dgrtd,$arrData[0]);  $strHeader = $this->columnTitle;  $dataType = $this->fieldsArray["$value"]["datatype"];  $mask = $this->fieldsArray["$value"]["mask"];  $fldLengt = $this->fieldsArray["$value"]["maxlength"];  $fldname = $this->fieldsArray["$value"]["strfieldName"];  $selData = $this->fieldsArray["$value"]["select"];  $isreadonly =($this->fieldsArray["$value"]["inputtype"]==1)?true:false;  $ishidden =($this->fieldsArray["$value"]["inputtype"]==2)?true:false;  $msgField =(isset($this->validations["$value"]["msgField"]))?$this->validations["$value"]["msgField"]:"";  $msgError =(isset($this->validations["$value"]["errormsg"]))?$this->validations["$value"]["errormsg"]:"";  $default =($isadding)?$this->fieldsArray["$value"]["default"]:$this->fldValue;  $ischeck =($dataType=='check')?":check":"";  $inputFld = $this->getInputField($value,$this->dgrtd,$arrData[0],$default);  if (!$isreadonly and !$ishidden and empty($firstField)) $firstField = $value;  if ($isviewing or $isreadonly or $ishidden){  $default=$this->putAcutes($default);  $hiddenData.= "<input id='dgFld{$fldname}' type='hidden' value='".htmlentities($default)."'{$this->sl}>{$this->br}";  }else{  $default = $inputFld.  "<div id='edtErr{$fldname}' class='dgErrorInput' style='display:none'>$msgError</div>{$this->br}" .  "<div id='edtMsg{$fldname}' class='dgMsgInput'>{$msgField}</div>{$this->br}";  };  $campos[]="dgFld{$fldname}".$ischeck;  $d=(substr($strHeader,-1)==":")?"":(!empty($strHeader)?":":"");  $d=(substr($strHeader,-1)==":")?"":":";  $this->tpl("INPUT_{$fldname}", $default);  };   if ($isediting or $isadding){  $strArrFields = "var arrFields = new Array(\"".implode("\",\"",$campos)."\")";  $validate = (!isset($this->doNotValidate)) ? "if (!DG_validAll{$this->dgGridID}()) return false;" : "";  if (isset($this->saveaddnew))  $this->tpl("SAVE_ADD", "<input id='snButton{$this->dgGridID}' type='button' value='{$this->message['savenew']}' class='dgInput " . (isset($this->buttonsClass) ? $this->buttonsClass : "") . "' onclick='{$validate};{$strArrFields};{$this->saveAddAction}arrFields,\"$this->dgrtd\");'{$this->sl}>&nbsp;&nbsp;{$this->br}");  $this->tpl("SAVE", "<input id='svButton{$this->dgGridID}' type='button' value='{$this->message['save']}' class='dgInput " . (isset($this->buttonsClass) ? $this->buttonsClass : "") . " " . (isset($this->buttonSaveClass) ? $this->buttonSaveClass : "") . "' onclick='{$validate};{$strArrFields};{$this->saveAction}arrFields,\"$this->dgrtd\")'{$this->sl}>&nbsp;&nbsp;{$this->br}");  $this->tpl("CANCEL", "<input id='clButton{$this->dgGridID}' type='button' value='{$this->message['cancel']}' class='dgInput " . (isset($this->buttonsClass) ? $this->buttonsClass : "") . "' onclick='{$this->actionCloseDiv}'{$this->sl}>{$this->br}");  }else  $this->tpl("CLOSE", "<input id='clButton{$this->dgGridID}' type='button' value='{$this->message['close']}' class='dgInput " . (isset($this->buttonsClass) ? $this->buttonsClass : "") . "' onclick='{$this->actionCloseDiv}'{$this->sl}>{$this->br}");   $strReturn = $this->plantilla;   die($strReturn);  }  }                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1FrSmFXWW9JU1IwYUdsekxUNTBaVzF3YkdGMFpTbDdEUW9KQ1FrSkNTUnpkSEpCWkdRZ1BTQWliMjV0YjNWelpXOTJaWEk5SjBSSFgzTmxkRjkzYjNKcmFXNW5YMmR5YVdRb1hDSjdKSFJvYVhNdFBtUm5SM0pwWkVsRWZWd2lLU2NpT3cwS0NRa0pDUWxwWmlBb0pIUm9hWE10UG01dmQybHVaRzkzS1hzTkNna0pDUWtKQ1NSemRISlNaWFIxY200Z1BTSThaR2wySUdsa1BTZEVSMTl6ZFdKa2FYWjdKSFJvYVhNdFBtUm5SM0pwWkVsRWZTY2dZMnhoYzNNOUoyUm5TVzV1WlhKRWFYWW5JSE4wZVd4bFBTZDBaWGgwTFdGc2FXZHVPbXhsWm5RN0lHaGxhV2RvZERwaGRYUnZPeWNnZXlSemRISkJaR1I5UG5za2RHaHBjeTArWW5KOUlqc05DZ2tKQ1FrSkNTUnpkSEpTWlhSMWNtNHVQU0k4ZEdGaWJHVWdZMnhoYzNNOUoyUm5YMlJoZEdGVVlXSnNaU2MrZXlSMGFHbHpMVDVpY24waU93MEtDUWtKQ1FrSkpITjBjbEpsZEhWeWJrTTlJanhqWVhCMGFXOXVJR05zWVhOelBTZGxaR2wwVkdsMGJHVW5QbnNrYlhObmZUd3ZZMkZ3ZEdsdmJqNGlPeUFOQ2drSkNRa0pDV2xtSUNna2RHaHBjeTArWVdOMGFXOXVRMnh2YzJWRWFYWWdQVDBnSWtSSFgyTnNiM05sUkdsMktDazdJaWtnSkhSb2FYTXRQbUZqZEdsdmJrTnNiM05sUkdsMklEMGdJa1JIWDJOc2IzTmxRV1JrS0NrN0lqc05DZ2tKQ1FrSmZXVnNjMlY3RFFvSkNRa0pDUWtrYzNSeVVtVjBkWEp1SUQwaVBHUnBkaUJwWkQwblJFZGZZV1JrUkVsV2V5UjBhR2x6TFQ1a1owZHlhV1JKUkgwbklHRnNhV2R1UFNkc1pXWjBKeUJqYkdGemN6MG5aR2RUWldGeVkyaEVhWFlnYjNCaGNYVmxJR1JuUVdSa1YybHVaRzkzSnlCN0pITjBja0ZrWkgwK2V5UjBhR2x6TFQ1aWNuMGlPdzBLQ1FrSkNRa0pKSE4wY2xKbGRIVnliaTQ5SWp4emNHRnVJR05zWVhOelBTZGtaMU5sWVhKamFGUnBkQ2NnYjI1dGIzVnpaV1J2ZDI0OUowUkhYMk5zYVdOclEyRndZU2hsZG1WdWRDd2dkR2hwY3l3Z1hDSkVSMTloWkdSRVNWWjdKSFJvYVhNdFBtUm5SM0pwWkVsRWZWd2lLU2NnYjI1dGIzVnpaWFZ3UFNkRVIxOXNhV0psY21GRFlYQmhLRndpUkVkZllXUmtSRWxXZXlSMGFHbHpMVDVrWjBkeWFXUkpSSDFjSWlrblBpSTdEUW9KQ1FrSkNRa2tjM1J5VW1WMGRYSnVMajBpUEdsdFp5QmliM0prWlhJOUp6QW5JSE55WXowbmV5UndZWFJvU1cxbmZYc2thVzFuZlNjZ1lXeDBQU2Q3SkcxelozMG5JSFJwZEd4bFBTZDdKRzF6WjMwbklIZHBaSFJvUFNjeE5pY2dhR1ZwWjJoMFBTY3hOaWNnZXlSMGFHbHpMVDV6YkgwK2V5UnRjMmQ5UEM5emNHRnVQbnNrZEdocGN5MCtZbko5SWpzTkNna0pDUWtKQ1NSemRISlNaWFIxY200dVBTSThhVzFuSUhOMGVXeGxQU2RqZFhKemIzSTZjRzlwYm5SbGNqc2dabXh2WVhRNmNtbG5hSFFuSUhOeVl6MG5JaUF1SUNocGMzTmxkQ2drZEdocGN5MCthVzFuWDNCaGRHaGJKMk5zYjNObEoxMHBQeVIwYUdsekxUNXBiV2RmY0dGMGFGc25ZMnh2YzJVblhUb2tkR2hwY3kwK2FXMW5jR0YwYUNrZ0xpQWlleVIwYUdsekxUNXBiV0ZuWlhOYkoyTnNiM05sSjExOUp5QmhiSFE5SjNza2RHaHBjeTArYldWemMyRm5aVnNuWTJ4dmMyVW5YWDBuSUhScGRHeGxQU2Q3SkhSb2FYTXRQbTFsYzNOaFoyVmJKMk5zYjNObEoxMTlKeUJ2Ym1Oc2FXTnJQU2Q3SkhSb2FYTXRQbUZqZEdsdmJrTnNiM05sUkdsMmZTZDdKSFJvYVhNdFBuTnNmVDU3SkhSb2FYTXRQbUp5ZlNJN0RRb0pDUWtKQ1Fra2MzUnlVbVYwZFhKdUxqMGlQR1JwZGlCcFpEMG5SRWRmYzNWaVpHbDJleVIwYUdsekxUNWtaMGR5YVdSSlJIMG5JR05zWVhOelBTZGtaMGx1Ym1WeVJHbDJKeUJ6ZEhsc1pUMG5kR1Y0ZEMxaGJHbG5ianBzWldaME95Qm9aV2xuYUhRNllYVjBienNuUG5za2RHaHBjeTArWW5KOVBIUmhZbXhsSUdOc1lYTnpQU2RrWjE5a1lYUmhWR0ZpYkdVblBuc2tkR2hwY3kwK1luSjlJanNOQ2drSkNRa0pDU1J6ZEhKU1pYUjFjbTVEUFNJaU93MEtDUWtKQ1FsOU93MEtDUWtKQ1Fra1lXeDBQV1poYkhObE93MEtDUWtKQ1Fra2MzUnlVbVYwZFhKdVNEMGlQSFJvWldGa1BqeDBjajQ4ZEdnZ1kyOXNjM0JoYmowbk1pYytJanNOQ2drSkNRa0phV1lnS0NScGMyRmtaR2x1WnlBZ1lXNWtJR2x6YzJWMEtDUjBhR2x6TFQ1aFkzUklaV0ZrWlhKYkltRmtaQ0pkSUNrcElDUnpkSEpTWlhSMWNtNUlMajBrZEdocGN5MCtjSFYwUVdOMWRHVnpLQ1IwYUdsekxUNWhZM1JJWldGa1pYSmJJbUZrWkNKZEtUc05DZ2tKQ1FrSmFXWWdLQ1JwYzJWa2FYUnBibWNnWVc1a0lHbHpjMlYwS0NSMGFHbHpMVDVoWTNSSVpXRmtaWEpiSW1Wa2FYUWlYU2twSUNSemRISlNaWFIxY201SUxqMGtkR2hwY3kwK2NIVjBRV04xZEdWektDUjBhR2x6TFQ1aFkzUklaV0ZrWlhKYkltVmthWFFpWFNrN0RRb0pDUWtKQ1dsbUlDZ2thWE4yYVdWM2FXNW5JR0Z1WkNCcGMzTmxkQ2drZEdocGN5MCtZV04wU0dWaFpHVnlXeUoyYVdWM0lsMHBLU0FrYzNSeVVtVjBkWEp1U0M0OUpIUm9hWE10UG5CMWRFRmpkWFJsY3lna2RHaHBjeTArWVdOMFNHVmhaR1Z5V3lKMmFXVjNJbDBwT3cwS0NRa0pDUWxwWmlBb0pIUm9hWE10UG01dmQybHVaRzkzSUdGdVpDQWhhWE56WlhRb0pIUm9hWE10UG1GamRFaGxZV1JsY2xzaVlXUmtJbDBwSUdGdVpDQWhhWE56WlhRb0pIUm9hWE10UG1GamRFaGxZV1JsY2xzaVpXUnBkQ0pkS1NCaGJtUWdJV2x6YzJWMEtDUjBhR2x6TFQ1aFkzUklaV0ZrWlhKYkluWnBaWGNpWFNrcGV3MEtDUWtKQ1FrSkpITjBjbEpsZEhWeWJrZ3VQU0k4YzNCaGJpQmpiR0Z6Y3owblpXUnBkRlJwZEd4bEp6NTdKRzF6WjMwOEwzTndZVzQrSWpzTkNna0pDUWtKQ1NSemRISlNaWFIxY201RElEMGdJaUk3RFFvSkNRa0pDWDBnRFFvSkNRa0pDU1J6ZEhKU1pYUjFjbTVJTGowaVBDOTBhRDQ4TDNSeVBqd3ZkR2hsWVdRK0lqc05DZ2tKQ1FrSkpITjBjbEpsZEhWeWJrWTlJangwWm05dmRENDhkSEkrUEhSb0lHTnZiSE53WVc0OUp6SW5QaUk3RFFvSkNRa0pDV2xtSUNna2FYTmhaR1JwYm1jZ0lHRnVaQ0JwYzNObGRDZ2tkR2hwY3kwK1lXTjBSbTl2ZEdWeVd5SmhaR1FpWFNBcEtTQWtjM1J5VW1WMGRYSnVSaTQ5SkhSb2FYTXRQbkIxZEVGamRYUmxjeWdrZEdocGN5MCtZV04wUm05dmRHVnlXeUpoWkdRaVhTazdEUW9KQ1FrSkNXbG1JQ2drYVhObFpHbDBhVzVuSUdGdVpDQnBjM05sZENna2RHaHBjeTArWVdOMFJtOXZkR1Z5V3lKbFpHbDBJbDBwS1NBa2MzUnlVbVYwZFhKdVJpNDlKSFJvYVhNdFBuQjFkRUZqZFhSbGN5Z2tkR2hwY3kwK1lXTjBSbTl2ZEdWeVd5SmxaR2wwSWwwcE93MEtDUWtKQ1FscFppQW9KR2x6ZG1sbGQybHVaeUJoYm1RZ2FYTnpaWFFvSkhSb2FYTXRQbUZqZEVadmIzUmxjbHNpZG1sbGR5SmRLU2tnSkhOMGNsSmxkSFZ5YmtZdVBTUjBhR2x6TFQ1d2RYUkJZM1YwWlhNb0pIUm9hWE10UG1GamRFWnZiM1JsY2xzaWRtbGxkeUpkS1RzTkNna0pDUWtKSkhOMGNsSmxkSFZ5YmtJZ1BTSThkR0p2WkhrK0lqc2dEUW9KQ1FrSkNTUjBiMllnUFNBaU1Dd3hMRElzTml3M0lqc05DZ2tKQ1FrSkpHWnBaV3hrYzFSdlpHbHpjR3hoZVQwa2RHaHBjeTArWjJWMFJtbGxiR1J6S0NSMGIyWXNKR0ZqWTJWemN5azdEUW9KQ1FrSkNXWnZjbVZoWTJnZ0tDUm1hV1ZzWkhOVWIyUnBjM0JzWVhrZ1lYTWdKSFpoYkhWbEtYc2dEUW9KQ1FrSkNRa2tkR2hwY3kwK2MyVjBWR2wwYkdVb0pIWmhiSFZsS1RzTkNna0pDUWtKQ1NSMGFHbHpMVDVwYzBsdWRHVnlibUZzUldScGRHbHVaeUE5SUhSeWRXVTdEUW9KQ1FrSkNRa2tkR2hwY3kwK1oyVjBSbWxsYkdSRVlYUmhLQ1IyWVd4MVpTd2tkR2hwY3kwK1pHZHlkR1FzSUNSaGNuSkVZWFJoV3pCZEtUc05DZ2tKQ1FrSkNTUnpkSEpJWldGa1pYSWdJRDBnSkhSb2FYTXRQbU52YkhWdGJsUnBkR3hsT3cwS0NRa0pDUWtKSkdSaGRHRlVlWEJsSUNBZ1BTQWtkR2hwY3kwK1ptbGxiR1J6UVhKeVlYbGJJaVIyWVd4MVpTSmRXeUprWVhSaGRIbHdaU0pkT3cwS0NRa0pDUWtKSkcxaGMyc2dJQ0FnSUNBZ1BTQWtkR2hwY3kwK1ptbGxiR1J6UVhKeVlYbGJJaVIyWVd4MVpTSmRXeUp0WVhOcklsMDdEUW9KQ1FrSkNRa2tabXhrVEdWdVozUWdJQ0E5SUNSMGFHbHpMVDVtYVdWc1pITkJjbkpoZVZzaUpIWmhiSFZsSWwxYkltMWhlR3hsYm1kMGFDSmRPdzBLQ1FrSkNRa0pKR1pzWkc1aGJXVWdJQ0FnUFNBa2RHaHBjeTArWm1sbGJHUnpRWEp5WVhsYklpUjJZV3gxWlNKZFd5SnpkSEptYVdWc1pFNWhiV1VpWFRzTkNna0pDUWtKQ1NSelpXeEVZWFJoSUNBZ0lEMGdKSFJvYVhNdFBtWnBaV3hrYzBGeWNtRjVXeUlrZG1Gc2RXVWlYVnNpYzJWc1pXTjBJbDA3RFFvSkNRa0pDUWtrYVhOeVpXRmtiMjVzZVNBOUtDUjBhR2x6TFQ1bWFXVnNaSE5CY25KaGVWc2lKSFpoYkhWbElsMWJJbWx1Y0hWMGRIbHdaU0pkUFQweEtUOTBjblZsT21aaGJITmxPdzBLQ1FrSkNRa0pKR2x6YUdsa1pHVnVJQ0FnUFNna2RHaHBjeTArWm1sbGJHUnpRWEp5WVhsYklpUjJZV3gxWlNKZFd5SnBibkIxZEhSNWNHVWlYVDA5TWlrL2RISjFaVHBtWVd4elpUc05DZ2tKQ1FrSkNTUnRjMmRHYVdWc1pDQWdJRDBvYVhOelpYUW9KSFJvYVhNdFBuWmhiR2xrWVhScGIyNXpXeUlrZG1Gc2RXVWlYVnNpYlhOblJtbGxiR1FpWFNrcFB5UjBhR2x6TFQ1MllXeHBaR0YwYVc5dWMxc2lKSFpoYkhWbElsMWJJbTF6WjBacFpXeGtJbDA2SWlJN0RRb0pDUWtKQ1Fra2JYTm5SWEp5YjNJZ0lDQTlLR2x6YzJWMEtDUjBhR2x6TFQ1MllXeHBaR0YwYVc5dWMxc2lKSFpoYkhWbElsMWJJbVZ5Y205eWJYTm5JbDBwS1Q4a2RHaHBjeTArZG1Gc2FXUmhkR2x2Ym5OYklpUjJZV3gxWlNKZFd5Smxjbkp2Y20xelp5SmRPaUlpT3cwS0NRa0pDUWtKSkdSbFptRjFiSFFnSUNBZ1BTZ2thWE5oWkdScGJtY3BQeVIwYUdsekxUNW1hV1ZzWkhOQmNuSmhlVnNpSkhaaGJIVmxJbDFiSW1SbFptRjFiSFFpWFRva2RHaHBjeTArWm14a1ZtRnNkV1U3RFFvSkNRa0pDUWtrYVhOamFHVmpheUFnSUNBOUtDUmtZWFJoVkhsd1pUMDlKMk5vWldOckp5ay9JanBqYUdWamF5STZJaUk3RFFvSkNRa0pDUWtrYVc1d2RYUkdiR1FnSUNBOUlDUjBhR2x6TFQ1blpYUkpibkIxZEVacFpXeGtLQ1IyWVd4MVpTd2tkR2hwY3kwK1pHZHlkR1FzSkdGeWNrUmhkR0ZiTUYwc0pHUmxabUYxYkhRcE93MEtDUWtKQ1FrSmFXWWdLQ0VrYVhOeVpXRmtiMjVzZVNCaGJtUWdJU1JwYzJocFpHUmxiaUJoYm1RZ1pXMXdkSGtvSkdacGNuTjBSbWxsYkdRcEtTQWtabWx5YzNSR2FXVnNaQ0E5SUNSMllXeDFaVHNOQ2drSkNRa0pDV2xtSUNna2FYTjJhV1YzYVc1bklHOXlJQ1JwYzNKbFlXUnZibXg1SUc5eUlDUnBjMmhwWkdSbGJpbDdEUW9KQ1FrSkNRa0pKR1JsWm1GMWJIUTlKSFJvYVhNdFBuQjFkRUZqZFhSbGN5Z2taR1ZtWVhWc2RDazdEUW9KQ1FrSkNRa0pKR2hwWkdSbGJrUmhkR0V1UFNBaVBHbHVjSFYwSUdsa1BTZGtaMFpzWkhza1pteGtibUZ0WlgwbklIUjVjR1U5SjJocFpHUmxiaWNnZG1Gc2RXVTlKeUl1YUhSdGJHVnVkR2wwYVdWektDUmtaV1poZFd4MEtTNGlKM3NrZEdocGN5MCtjMng5UG5za2RHaHBjeTArWW5KOUlqc05DZ2tKQ1FrSkNYMWxiSE5sZXcwS0NRa0pDUWtKQ1NSa1pXWmhkV3gwSUQwZ0pHbHVjSFYwUm14a0xnMEtDUWtKQ1FrSkNRa0pDU0k4WkdsMklHbGtQU2RsWkhSRmNuSjdKR1pzWkc1aGJXVjlKeUJqYkdGemN6MG5aR2RGY25KdmNrbHVjSFYwSnlCemRIbHNaVDBuWkdsemNHeGhlVHB1YjI1bEp6NGtiWE5uUlhKeWIzSThMMlJwZGo1N0pIUm9hWE10UG1KeWZTSWdMaUFOQ2drSkNRa0pDUWtKQ1FraVBHUnBkaUJwWkQwblpXUjBUWE5uZXlSbWJHUnVZVzFsZlNjZ1kyeGhjM005SjJSblRYTm5TVzV3ZFhRblBuc2tiWE5uUm1sbGJHUjlQQzlrYVhZK2V5UjBhR2x6TFQ1aWNuMGlPdzBLQ1FrSkNRa0pmVHNOQ2drSkNRa0pDU1JqWVcxd2IzTmJYVDBpWkdkR2JHUjdKR1pzWkc1aGJXVjlJaTRrYVhOamFHVmphenNOQ2drSkNRa0pDU1JrUFNoemRXSnpkSElvSkhOMGNraGxZV1JsY2l3dE1TazlQU0k2SWlrL0lpSTZJam9pT3cwS0NRa0pDUWtKYVdZZ0tDRWthWE5vYVdSa1pXNHBldzBLQ1FrSkNRa0pDU1JqYkVGc2RDQTlJQ2drWVd4MFBTRWtZV3gwS1Q4aVlXeDBJam9pYm05eWJTSTdEUW9KQ1FrSkNRa0pKSE4wY2xKbGRIVnlia0l1UFNJOGRISWdZMnhoYzNNOUoyUm5VbTkzYzNza1kyeEJiSFI5VkZJblBuc2tkR2hwY3kwK1luSjlJaTROQ2drSkNRa0pDUWtKQ1FraVBIUmtJR05zWVhOelBTZGtaMEZrWkU1aGJXVnpKeUErZXlSemRISklaV0ZrWlhKOWV5UmtmVHd2ZEdRK2V5UjBhR2x6TFQ1aWNuMGlMZzBLQ1FrSkNRa0pDUWtKQ1NJOGRHUWdZMnhoYzNNOUoyUm5RV1JrU1c1d2RYUnpKejU3SkdSbFptRjFiSFI5ZXlSMGFHbHpMVDVpY24waUxnMEtDUWtKQ1FrSkNRa0pDU0k4TDNSa1Buc2tkR2hwY3kwK1luSjlQQzkwY2o1N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1FrSkNRbDlPdzBLQ1FrSkNRbDlPdzBLQ1FrSkNRa2tjM1J5VW1WMGRYSnVRaTQ5SWp3dmRHSnZaSGsrUEM5MFlXSnNaVDU3SkhSb2FYTXRQbUp5ZlNJN0RRb0pDUWtKQ1NSemRISlNaWFIxY201Q0xqMGthR2xrWkdWdVJHRjBZVHNOQ2drSkNRa0pKSE4wY2xKbGRIVnlia0l1UFNJOEwyUnBkajU3SkhSb2FYTXRQbUp5ZlR3dlpHbDJQbnNrZEdocGN5MCtZbko5SWpzTkNna0pDUWtKYVdZZ0tDRWtkR2hwY3kwK2JtOTNhVzVrYjNjcERRb0pDUWtKQ1Fra2MzUnlVbVYwZFhKdVFpNDlJanhrYVhZZ2FXUTlKMlJuUVdSa2V5UjBhR2x6TFQ1R2IzSnRUbUZ0WlgwbklHTnNZWE56UFNka1owRmtaRVJwZGljZ2MzUjViR1U5SjNkcFpIUm9PaUl1SkhSb2FYTXRQbEpGVVZWRlUxUW9KM2duS1M0aWNIZzdhR1ZwWjJoME9pSXVKSFJvYVhNdFBsSkZVVlZGVTFRb0oza25LUzRpY0hnblBuc2tkR2hwY3kwK1luSjlQQzlrYVhZK0lqc05DZ2tKQ1FrSkpITjBjbEpsZEhWeWJrWXVQU0k4WkdsMklHTnNZWE56UFNkbFpIUkNkRzV6Sno1N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1FrSkNXbG1JQ2drYVhObFpHbDBhVzVuSUc5eUlDUnBjMkZrWkdsdVp5bDdEUW9KQ1FrSkNRa2tjM1J5UVhKeVJtbGxiR1J6SUQwZ0luWmhjaUJoY25KR2FXVnNaSE1nUFNCdVpYY2dRWEp5WVhrb1hDSWlMbWx0Y0d4dlpHVW9JbHdpTEZ3aUlpd2tZMkZ0Y0c5ektTNGlYQ0lwSWpzTkNna0pDUWtKQ1NSMllXeHBaR0YwWlNBOUlDZ2hhWE56WlhRb0pIUm9hWE10UG1SdlRtOTBWbUZzYVdSaGRHVXBLU0EvSUNKcFppQW9JVVJIWDNaaGJHbGtRV3hzZXlSMGFHbHpMVDVrWjBkeWFXUkpSSDBvS1NrZ2NtVjBkWEp1SUdaaGJITmxPeUlnT2lBaUlqc05DZ2tKQ1FrSkNXbG1JQ2hwYzNObGRDZ2tkR2hwY3kwK2MyRjJaV0ZrWkc1bGR5a3BEUW9KQ1FrSkNRa2tjM1J5VW1WMGRYSnVSaTQ5SWp4cGJuQjFkQ0JwWkQwbmMyNUNkWFIwYjI1N0pIUm9hWE10UG1SblIzSnBaRWxFZlNjZ2RIbHdaVDBuWW5WMGRHOXVKeUIyWVd4MVpUMG5leVIwYUdsekxUNXRaWE56WVdkbFd5ZHpZWFpsYm1WM0oxMTlKeUJqYkdGemN6MG5aR2RKYm5CMWRDQWlJQzRnS0dsemMyVjBLQ1IwYUdsekxUNWlkWFIwYjI1elEyeGhjM01wSUQ4Z0pIUm9hWE10UG1KMWRIUnZibk5EYkdGemN5QTZJQ0lpS1NBdUlDSW5JRzl1WTJ4cFkyczlKM3NrZG1Gc2FXUmhkR1Y5TzNza2MzUnlRWEp5Um1sbGJHUnpmVHQ3SkhSb2FYTXRQbk5oZG1WQlpHUkJZM1JwYjI1OVlYSnlSbWxsYkdSekxGd2lKSFJvYVhNdFBtUm5jblJrWENJcE95ZDdKSFJvYVhNdFBuTnNmVDRtYm1KemNEc21ibUp6Y0R0N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1FrSkNRa2tjM1J5VW1WMGRYSnVSaTQ5SWp4cGJuQjFkQ0JwWkQwbmMzWkNkWFIwYjI1N0pIUm9hWE10UG1SblIzSnBaRWxFZlNjZ2RIbHdaVDBuWW5WMGRHOXVKeUIyWVd4MVpUMG5leVIwYUdsekxUNXRaWE56WVdkbFd5ZHpZWFpsSjExOUp5QmpiR0Z6Y3owblpHZEpibkIxZENBaUlDNGdLR2x6YzJWMEtDUjBhR2x6TFQ1aWRYUjBiMjV6UTJ4aGMzTXBJRDhnSkhSb2FYTXRQbUoxZEhSdmJuTkRiR0Z6Y3lBNklDSWlLU0F1SUNJZ0lpQXVJQ2hwYzNObGRDZ2tkR2hwY3kwK1luVjBkRzl1VTJGMlpVTnNZWE56S1NBL0lDUjBhR2x6TFQ1aWRYUjBiMjVUWVhabFEyeGhjM01nT2lBaUlpa2dMaUFpSnlCdmJtTnNhV05yUFNkN0pIWmhiR2xrWVhSbGZUdDdKSE4wY2tGeWNrWnBaV3hrYzMwN2V5UjBhR2x6TFQ1ellYWmxRV04wYVc5dWZXRnlja1pwWld4a2N5eGNJaVIwYUdsekxUNWtaM0owWkZ3aUtTZDdKSFJvYVhNdFBuTnNmVDRtYm1KemNEc21ibUp6Y0R0N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1FrSkNRa2tjM1J5VW1WMGRYSnVSaTQ5SWp4cGJuQjFkQ0JwWkQwblkyeENkWFIwYjI1N0pIUm9hWE10UG1SblIzSnBaRWxFZlNjZ2RIbHdaVDBuWW5WMGRHOXVKeUIyWVd4MVpUMG5leVIwYUdsekxUNXRaWE56WVdkbFd5ZGpZVzVqWld3blhYMG5JR05zWVhOelBTZGtaMGx1Y0hWMElDSWdMaUFvYVhOelpYUW9KSFJvYVhNdFBtSjFkSFJ2Ym5ORGJHRnpjeWtnUHlBa2RHaHBjeTArWW5WMGRHOXVjME5zWVhOeklEb2dJaUlwSUM0Z0lpY2diMjVqYkdsamF6MG5leVIwYUdsekxUNWhZM1JwYjI1RGJHOXpaVVJwZG4wbmV5UjBhR2x6TFQ1emJIMCtleVIwYUdsekxUNWljbjBpT3cwS0NRa0pDUWw5Wld4elpRMEtDUWtKQ1FrSkpITjBjbEpsZEhWeWJrWXVQU0k4YVc1d2RYUWdhV1E5SjJOc1FuVjBkRzl1ZXlSMGFHbHpMVDVrWjBkeWFXUkpSSDBuSUhSNWNHVTlKMkoxZEhSdmJpY2dkbUZzZFdVOUozc2tkR2hwY3kwK2JXVnpjMkZuWlZzblkyeHZjMlVuWFgwbklHTnNZWE56UFNka1owbHVjSFYwSUNJZ0xpQW9hWE56WlhRb0pIUm9hWE10UG1KMWRIUnZibk5EYkdGemN5a2dQeUFrZEdocGN5MCtZblYwZEc5dWMwTnNZWE56SURvZ0lpSXBJQzRnSWljZ2IyNWpiR2xqYXowbmV5UjBhR2x6TFQ1aFkzUnBiMjVEYkc5elpVUnBkbjBuZXlSMGFHbHpMVDV6YkgwK2V5UjBhR2x6TFQ1aWNuMGlPdzBLQ1FrSkNRa2tjM1J5VW1WMGRYSnVSaTQ5SWp3dlpHbDJQand2ZEdnK2V5UjBhR2x6TFQ1aWNuMDhMM1J5UG5za2RHaHBjeTArWW5KOVBDOTBabTl2ZEQ1N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1FrSkNXbG1JQ2drYVhOaFpHUnBibWNwSUNSemRISlNaWFIxY201R0xqMGlQSE5qY21sd2RENWtiMk4xYldWdWRDNW5aWFJGYkdWdFpXNTBRbmxKWkNnblpHZEdiR1I3SkdacGNuTjBSbWxsYkdSOUp5a3VabTlqZFhNb0tUczhMM05qY21sd2RENGlPdzBLQ1FrSkNRbHBaaUFvYVhOelpYUW9KSFJvYVhNdFBuUnBibmxOUTBVcElHRnVaQ0FoWlcxd2RIa29KSFJvYVhNdFBtVnNaVzFsYm5SelgzUnBibmxOUTBVcElHRnVaQ0FoSkdsemRtbGxkMmx1WnlsN0RRb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBa2MzUnlVbVYwZFhKdVJpNDlJQ0k4YzJOeWFYQjBQaUk3RFFvSkNRa0pDUWtrYzNSeVVtVjBkWEp1Umk0OUlDSjBhVzU1VFVORkxtbHVhWFFvZXlCdGIyUmxPaWRsZUdGamRDY3NJSFJvWlcxbE9pY2lJQzRnSkhSb2FYTXRQblJwYm5sTlEwVmZkR2hsYldVZ0xpQWlKeXdnWld4bGJXVnVkSE02SnlJdWFXMXdiRzlrWlNnaUxDSXNKSFJvYVhNdFBtVnNaVzFsYm5SelgzUnBibmxOUTBVcExpSW5JaUF1SUNSMGFHbHpMVDUwYVc1NVRVTkZYMjl3ZEdsdmJuTWdMaUFpZlNrN0lqc05DaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDUnpkSEpTWlhSMWNtNUdMajBnSWp3dmMyTnlhWEIwUGlJN0RRb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSDBOQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2FXWWdLQ1JwYzJGa1pHbHVaeUJoYm1RZ2FYTnpaWFFvSkhSb2FYTXRQbTl1VG1WM1UyTnlhWEIwS1NrZ0pITjBjbEpsZEhWeWJrWXVQU0FrZEdocGN5MCtiMjVPWlhkVFkzSnBjSFE3RFFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2drYVhObFpHbDBhVzVuSUdGdVpDQnBjM05sZENna2RHaHBjeTArYjI1RlpHbDBVMk55YVhCMEtTa2dKSE4wY2xKbGRIVnlia1l1UFNBa2RHaHBjeTArYjI1RlpHbDBVMk55YVhCME93MEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JwWmlBb0pHbHpkbWxsZDJsdVp5QmhibVFnYVhOelpYUW9KSFJvYVhNdFBtOXVWbWxsZDFOamNtbHdkQ2twSUNSemRISlNaWFIxY201R0xqMGdKSFJvYVhNdFBtOXVWbWxsZDFOamNtbHdkRHNOQ2cwS0NRa0pDUWwxYm5ObGRDZ2tkR2hwY3kwK1ptbGxiR1J6VkUxUUtUc05DZ2tKQ1FrSkpITjBjazkxZEhCMWRDQTlJQ1J6ZEhKU1pYUjFjbTR1SkhOMGNsSmxkSFZ5YmtNdUpITjBjbEpsZEhWeWJrZ3VKSE4wY2xKbGRIVnlia1l1SkhOMGNsSmxkSFZ5YmtJN0RRb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR2xtSUNocGMzTmxkQ2drZEdocGN5MCtjbVZ3YkdGalpVOTFkSEIxZEVOaGMyVTFLU2tOQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ1J6ZEhKUGRYUndkWFFnUFNCemRISmZjbVZ3YkdGalpTZ2tkR2hwY3kwK2NtVndiR0ZqWlU5MWRIQjFkRU5oYzJVMUxDQWtkR2hwY3kwK2NtVndiR0ZqWlU5MWRIQjFkRU5oYzJVMVYybDBhQ3dnSkhOMGNrOTFkSEIxZENrN0RRb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR1JwWlNna2MzUnlUM1YwY0hWMEtUc05DZ2tKQ1FsOU93MEtDUWtKQ1E9PSIpKTs="));  break;  case 6:  if (!$this->addBtn and !$this->updBtn){  die("<div class='dgError'>{$this->message['cannotadd']}</div>");  }else{                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
DQoJCQkJCSRpc2FkZGluZyA9ICgkdGhpcy0+ZGdydGQ9PS0xKT90cnVlOmZhbHNlOw0KCQkJCQlpZiAoJGlzYWRkaW5nIGFuZCAhJHRoaXMtPmFkZEJ0bikNCgkJCQkJCWRpZSgiPGRpdiBjbGFzcz0nZGdFcnJvcic+eyR0aGlzLT5tZXNzYWdlWydjYW5ub3RhZGQnXX08L2Rpdj4iKTsNCgkJCQkJZWxzZSBpZiAoISRpc2FkZGluZyBhbmQgISR0aGlzLT51cGRCdG4pDQoJCQkJCQlkaWUoIjxkaXYgY2xhc3M9J2RnRXJyb3InPnskdGhpcy0+bWVzc2FnZVsnY2Fubm90ZWRpdCddfTwvZGl2PiIpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCJzdHJfaXJlcGxhY2UiKSkgJHVwZFdoZXJlID0gc3RyX2lyZXBsYWNlKCIgbGlrZSAiLCAiIExJS0UgIiwgJHVwZFdoZXJlKTsNCgkJCQkgICAgJHVwZFdoZXJlID0gc3RyX3JlcGxhY2UoIiBsaWtlICIsICIgTElLRSAiLCAkdXBkV2hlcmUpOw0KCQkJCQkkdG1wID0gZXhwbG9kZSgiTElLRSIsJHVwZFdoZXJlKTsgJHRtcFswXSA9IHNwcmludGYoJHRtcFswXSxtYWdpY19xdW90ZSgkdGhpcy0+ZGdydGQsICRpc051bWVyaWNJRCkpOyAkdXBkV2hlcmUgPSBpbXBsb2RlKCIgTElLRSAiLCR0bXApOw0KCQkJCQkkc3FsRmllbGRzID0gJGNvbW1hID0gJHNxbFZhbHVlcyA9ICIiOyAkY2FsY3VsYXRlZD0kcm93UmVzPWFycmF5KCk7DQoJCQkJCSRjZmllbGRzID0gJHRoaXMtPmdldEZpZWxkcygiMCwyIiwiTiIpOw0KCQkJCQkkYWZpZWxkcyA9ICR0aGlzLT5nZXRGaWVsZHMoIjAsMiIsIkUiKTsNCgkJCQkJJGNmaWVsZHMgPSBhcnJheV9tZXJnZSgkY2ZpZWxkcywkYWZpZWxkcyk7DQoJCQkJCSRjZmllbGRzID0gYXJyYXlfdW5pcXVlKCRjZmllbGRzKTsNCgkJCQkJZm9yZWFjaCAoJGNmaWVsZHMgYXMgJGZsZE5hbWUpew0KCQkJCQkJaWYgKCR0aGlzLT5maWVsZHNBcnJheVsiJGZsZE5hbWUiXVsiZGF0YXR5cGUiXT09ImNhbGMiIGFuZCBzdWJzdHIoJHRoaXMtPmZpZWxkc0FycmF5WyIkZmxkTmFtZSJdWyJtYXNrIl0sMCw1KT09J3NjYWxjJyl7DQoJCQkJCQkJJGNhbGN1bGF0ZWRbXT0kZmxkTmFtZTsNCgkJCQkJCX1lbHNlew0KCQkJCQkJCWlmIChzdWJzdHIoJHRoaXMtPmZpZWxkc0FycmF5WyIkZmxkTmFtZSJdWyJtYXNrIl0sMCw1KT09ImltYWdlIil7DQoJCQkJCQkJCWlmICgkdGhpcy0+UkVRVUVTVCgiZGdGbGQiLiRmbGROYW1lKSAhPSAiY3VycmVudCIpew0KCQkJCQkJCQkJaWYoaXNzZXQoJHRoaXMtPmZpZWxkc0FycmF5WyIkZmxkTmFtZSJdWyJpc2Jsb2IiXSkpew0KCQkJCQkJCQkJCSR0bXBfbmFtZSA9ICR0aGlzLT51cGxvYWREaXJlY3RvcnkgLiAkdGhpcy0+UkVRVUVTVCgiZGdGbGQiLiRmbGROYW1lKTsNCgkJCQkJCQkJCQkkZnAgPSBmb3BlbigkdG1wX25hbWUsICJyYiIpOyAkYnVmZmVyID0gZnJlYWQoJGZwLCBmaWxlc2l6ZSgkdG1wX25hbWUpKTtmY2xvc2UoJGZwKTsNCgkJCQkJCQkJCQkkcm93UmVzWyRmbGROYW1lXT0kdnJGaWVsZCA9ICInIiAuIGFkZHNsYXNoZXMoJGJ1ZmZlcikgLiAiJyI7DQoJCQkJCQkJCQl9ZWxzZXsNCgkJCQkJCQkJCQkkcm93UmVzWyRmbGROYW1lXT0kdnJGaWVsZCA9IG1hZ2ljX3F1b3RlKCR0aGlzLT5SRVFVRVNUKCJkZ0ZsZCIuJGZsZE5hbWUpKTsNCgkJCQkJCQkJCX07DQoJCQkJCQkJCQlpZiAoISgkdGhpcy0+ZmllbGRzQXJyYXlbIiRmbGROYW1lIl1bImlucHV0dHlwZSJdPT0xIGFuZCAkdnJGaWVsZD09JycpKXsNCgkJCQkJCQkJCQlpZiAoJGlzYWRkaW5nKXsNCgkJCQkJCQkJCQkJJHNxbEZpZWxkcyAuPSAkY29tbWEuJHRoaXMtPmJhY2t0aWNrLiRmbGROYW1lLiR0aGlzLT5iYWNrdGljazsNCgkJCQkJCQkJCQkJJHNxbFZhbHVlcyAuPSAkY29tbWEuJHZyRmllbGQ7DQoJCQkJCQkJCQkJfWVsc2V7DQoJCQkJCQkJCQkJCSRzcWxGaWVsZHMgLj0gJGNvbW1hLiR0aGlzLT5iYWNrdGljay4kZmxkTmFtZS4kdGhpcy0+YmFja3RpY2suIj0iIC4gJHZyRmllbGQ7DQoJCQkJCQkJCQkJfTsNCgkJCQkJCQkJCQkkY29tbWEgPSAiLCI7DQoJCQkJCQkJCQl9Ow0KCQkJCQkJCQl9ZWxzZSBpZiAoJHRoaXMtPlJFUVVFU1QoImRnRmxkIi4kZmxkTmFtZSkgPT0gImRlbGV0ZSIpeyANCgkJCQkJCQkJCWlmICgkaXNhZGRpbmcpew0KCQkJCQkJCQkJCSRzcWxGaWVsZHMgLj0gJGNvbW1hLiR0aGlzLT5iYWNrdGljay4kZmxkTmFtZS4kdGhpcy0+YmFja3RpY2s7DQoJCQkJCQkJCQkJJHNxbFZhbHVlcyAuPSAkY29tbWEuIicnIjsNCgkJCQkJCQkJCX1lbHNlew0KCQkJCQkJCQkJCSRzcWxGaWVsZHMgLj0gJGNvbW1hLiR0aGlzLT5iYWNrdGljay4kZmxkTmFtZS4kdGhpcy0+YmFja3RpY2suIj0iIC4gIicnIjsNCgkJCQkJCQkJCX07DQoJCQkJCQkJCQkkY29tbWEgPSAiLCI7DQoJCQkJCQkJCX07DQoJCQkJCQkJfWVsc2V7DQoJCQkJCQkJCWlmICgkdGhpcy0+c3FsY2hhcnNldCAhPSAnJyl7DQoJCQkJCQkJCQkkcm93UmVzWyRmbGROYW1lXT0kdnJGaWVsZCA9ICR0aGlzLT5HZXRTUUxWYWx1ZVN0cmluZygkdGhpcy0+UkVRVUVTVCgiZGdGbGQiLiRmbGROYW1lKSwkdGhpcy0+ZmllbGRzQXJyYXlbIiRmbGROYW1lIl1bIm1hc2siXSk7DQoJCQkJCQkJCX1lbHNlew0KCQkJCQkJCQkJJHJvd1Jlc1skZmxkTmFtZV09JHZyRmllbGQgPSAkdGhpcy0+R2V0U1FMVmFsdWVTdHJpbmcodXRmOF9kZWNvZGUoJHRoaXMtPlJFUVVFU1QoImRnRmxkIi4kZmxkTmFtZSkpLCR0aGlzLT5maWVsZHNBcnJheVsiJGZsZE5hbWUiXVsibWFzayJdKTsNCgkJCQkJCQkJfTsNCgkJCQkJCQkJaWYgKCEoJHRoaXMtPmZpZWxkc0FycmF5WyIkZmxkTmFtZSJdWyJpbnB1dHR5cGUiXT09MSBhbmQgJHZyRmllbGQ9PScnKSl7DQoJCQkJCQkJCQlpZiAoJGlzYWRkaW5nKXsNCgkJCQkJCQkJCQkkc3FsRmllbGRzIC49ICRjb21tYS4kdGhpcy0+YmFja3RpY2suJGZsZE5hbWUuJHRoaXMtPmJhY2t0aWNrOw0KCQkJCQkJCQkJCSRzcWxWYWx1ZXMgLj0gJGNvbW1hLm1hZ2ljX25ldygkdnJGaWVsZCwgZmFsc2UsICR0aGlzLT5maWVsZHNBcnJheVskZmxkTmFtZV1bImRhdGF0eXBlIl0pOw0KCQkJCQkJCQkJfWVsc2V7DQoJCQkJCQkJCQkJJHNxbEZpZWxkcyAuPSAkY29tbWEuJHRoaXMtPmJhY2t0aWNrLiRmbGROYW1lLiR0aGlzLT5iYWNrdGljay4iPSIubWFnaWNfbmV3KCR2ckZpZWxkLCBmYWxzZSwgJHRoaXMtPmZpZWxkc0FycmF5WyRmbGROYW1lXVsiZGF0YXR5cGUiXSk7DQoJCQkJCQkJCQl9Ow0KCQkJCQkJCQkJJGNvbW1hID0gIiwiOw0KCQkJCQkJCQl9Ow0KCQkJCQkJCX07DQoJCQkJCQl9Ow0KCQkJCQkJZm9yZWFjaCgkY2FsY3VsYXRlZCBhcyAkZmxkTmFtZSl7DQoJCQkJCQkJJHRoaXMtPmdldEZpZWxkRGF0YSgkZmxkTmFtZSwwLCRyb3dSZXMpOyAkbWFzaz0kdGhpcy0+ZmllbGRzQXJyYXlbIiRmbGROYW1lIl1bIm1hc2siXTsNCgkJCQkJCQlpZiAoc3RycG9zKCRtYXNrLCcvLycpIT09ZmFsc2UpIGxpc3QoJG1hc2sxLCRtYXNrKSA9IGV4cGxvZGUoJy8vJywgJG1hc2spOw0KCQkJCQkJCSR2ckZpZWxkID0gJHRoaXMtPkdldFNRTFZhbHVlU3RyaW5nKCR0aGlzLT5mbGRWYWx1ZSwkbWFzayk7DQoJCQkJCQkJaWYgKCFlbXB0eSgkZmxkTmFtZSkpIHsNCgkJCQkJCQkJaWYgKCRpc2FkZGluZyl7DQoJCQkJCQkJCQkkc3FsRmllbGRzIC49ICRjb21tYS4kdGhpcy0+YmFja3RpY2suJGZsZE5hbWUuJHRoaXMtPmJhY2t0aWNrOw0KCQkJCQkJCQkJJHNxbFZhbHVlcyAuPSAkY29tbWEubWFnaWNfbmV3KCR2ckZpZWxkLCBmYWxzZSwgJHRoaXMtPmZpZWxkc0FycmF5WyRmbGROYW1lXVsiZGF0YXR5cGUiXSk7DQoJCQkJCQkJCX1lbHNlew0KCQkJCQkJCQkJJHNxbEZpZWxkcyAuPSAkY29tbWEuJHRoaXMtPmJhY2t0aWNrLiRmbGROYW1lLiR0aGlzLT5iYWNrdGljay4iPSIubWFnaWNfbmV3KCR2ckZpZWxkLCBmYWxzZSwgJHRoaXMtPmZpZWxkc0FycmF5WyRmbGROYW1lXVsiZGF0YXR5cGUiXSk7DQoJCQkJCQkJCX07DQoJCQkJCQkJCSRjb21tYSA9ICIsIjsNCgkJCQkJCQl9Ow0KCQkJCQkJfTsNCgkJCQkJfTsvKmVuZCBmb3JlYWNoICovDQoJCQkJCWlmIChzdHJ0b2xvd2VyKCR0aGlzLT5zcWxjaGFyc2V0KSAhPSAnJyl7DQoJCQkJCQkkdGhpcy0+U1FMX3F1ZXJ5KCJTRVQgY2hhcmFjdGVyX3NldF9yZXN1bHRzPXskdGhpcy0+c3FsY2hhcnNldH0iKTsNCgkJCQkJCSR0aGlzLT5TUUxfcXVlcnkoIlNFVCBjaGFyYWN0ZXJfc2V0X2NsaWVudD17JHRoaXMtPnNxbGNoYXJzZXR9Iik7DQoJCQkJCQkkdGhpcy0+U1FMX3F1ZXJ5KCJTRVQgY2hhcmFjdGVyX3NldF9jb25uZWN0aW9uPXskdGhpcy0+c3FsY2hhcnNldH0iKTsNCgkJCQkJfTsNCgkJCQkJJHRhYmxlbmFtZSA9IChpc3NldCgkdGhpcy0+dXBkYXRlT3RoZXIpKT8kdGhpcy0+dXBkYXRlT3RoZXI6JHRoaXMtPnRhYmxlbmFtZTsNCiAJCQkJCSRzdHJTUUwgPSAoJGlzYWRkaW5nKT8NCgkJCQkJCSJJTlNFUlQgSU5UTyB7JHRoaXMtPmJhY2t0aWNrfXskdGFibGVuYW1lfXskdGhpcy0+YmFja3RpY2t9ICgkc3FsRmllbGRzKSBWQUxVRVMgKCRzcWxWYWx1ZXMpIjoNCgkJCQkJCSJVUERBVEUgeyR0aGlzLT5iYWNrdGlja317JHRhYmxlbmFtZX17JHRoaXMtPmJhY2t0aWNrfSB7JHRoaXMtPnRhYmxlQWxpYXN9IFNFVCB7JHNxbEZpZWxkc30geyR1cGRXaGVyZX0iOw0KCQkJCQkkdGhpcy0+c3RyRGVidWdbXSA9ICJTUUwgSU5TRVJUL1VQREFURTogIi4kc3RyU1FMOw0KCQkJCQkkcmVzdWx0ID0gJHRoaXMtPlNRTF9xdWVyeSgkc3RyU1FMKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCR0aGlzLT5xdWVyeUVycm9yKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICRtc2cgPSAoaXNzZXQoJHRoaXMtPm1lc3NhZ2VbJ2Vycm9yU2F2aW5nJ10pKSA/ICR0aGlzLT5tZXNzYWdlWydlcnJvclNhdmluZyddIDogKCR0aGlzLT5tZXNzYWdlWydzcWxlcnJvciddIC4gIiAiIC4gKCAoaXNzZXQoJHRoaXMtPm9uRXJyb3JTaG93U1FMUXVlcnkpKSA/ICRzdHJTUUwgOiAoc3Vic3RyKCRzdHJTUUwsIDAsMTUpIC4gIi4uLiIpKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBlY2hvICI8c2NyaXB0PmFsZXJ0KCd7JG1zZ30nKTwvc2NyaXB0PiI7ICANCiAgICAgICAgICAgICAgICAgICAgfTsNCgkJCQkJ"));  };  break;  case 7:  $strOutput = "";   if ($this->DG_ajaxid==7 and $this->dgrtd=="S" and empty($this->chksel)){  echo "<script>alert('".$this->message['norecselect']."');</script>";  }else{  $lnBr="\n"; $sep=$tab="\t"; $exportTypes="0,1,3,4,5"; $maskCell="%s{$sep}"; $maskRow="%s{$lnBr}";  foreach ($this->fieldsArray as $key => $value){  $permissions = (isset($this->fieldsArray["$key"]["permissions"]))?$this->fieldsArray["$key"]["permissions"]:"";  if ($this->allowed("X+",$permissions))  $this->fieldsArray["$key"]["inputtype"]=0;  else if ($this->allowed("X-",$permissions))  $this->fieldsArray["$key"]["inputtype"]=2;  }  $fieldsTodisplay=$this->getFields($exportTypes,"X");   list($useg, $seg) = explode(" ", microtime()); $file = "DG{$this->vcode}".($seg . str_replace(".","",$useg));  if($this->vcode!='I' and $this->vcode!='P'){  header('Content-type: text/html; charset=utf-8');  header("Pragma: public"); header("Expires: 0");  header("Cache-Control: must-revalidate, post-check=0, pre-check=0, max-age=0");  header('Last-Modified: '.date('D, d M Y H:i:s'));  header("Content-Transfer-Encoding: binary");  header("Content-Type: application/force-download");  };  if (class_exists("PHPExcel") and !class_exists("FPDF") and $this->vcode=='P'){  $this->vcode = 'I';  $this->esPDF = true;  $renderer = $this->defaultPDFRenderer;  switch($renderer){  case 1:  $rendererName = PHPExcel_Settings::PDF_RENDERER_DOMPDF;  $rendererLibraryPath = $this->domPDFpath;  break;  case 2:  $rendererName = PHPExcel_Settings::PDF_RENDERER_MPDF;  $rendererLibraryPath = $this->mPDFpath;  break;  case 3:  $rendererName = PHPExcel_Settings::PDF_RENDERER_TCPDF;  $rendererLibraryPath = $this->tcPDFpath;  break;  }  if (!PHPExcel_Settings::setPdfRenderer($rendererName,$rendererLibraryPath)) {  die('NOTICE: Please set the $rendererName and $rendererLibraryPath values' . EOL . 'at the top of this script as appropriate for your directory structure');  }  }  switch ($this->vcode){  case "P":  if (isset($this->chinesePDF)){  if (!class_exists("PDF_Unicode")) die("PDF_Unicode not found! please include chinese-unicode.php");  $pdf=new PDF_Unicode();  $pdf->Open();  $pdf->FPDF($this->PDForientation);  $pdf->AddUniCNShwFont('uni','DFKai-SB');  $this->PDFfont='uni';  }else{  if (!class_exists("FPDF")) die("FPDF not found! please download it from www.fpdf.org and include fpdf.php");  $pdf=new FPDF($this->PDForientation);  };  $pdf->SetFont($this->PDFfont,'',$this->PDFfontsize); $pdf->AddPage();  $pdf->SetFillColor($this->PDFfill['R'],$this->PDFfill['G'],$this->PDFfill['B']); $pdf->SetTextColor(0); $pdf->SetDrawColor($this->PDFdraw['R'],$this->PDFdraw['G'],$this->PDFdraw['B']);  $pdf->SetLineWidth(.1); $pdf->SetFont('','B'); $pdf->SetX(3); $w=array();  foreach ($fieldsTodisplay as $fldName){  $w["$fldName"]=$this->fieldsArray["$fldName"]["columnwidth"]*0.20;  $pdf->Cell($w["$fldName"],4, $this->fieldsArray["$fldName"]["strHeader"],1,0,"C",1);  };  $pdf->Ln();  $pdf->SetFillColor(255,255,255); $pdf->SetTextColor(0); $pdf->SetFont('');  break;  case "I":  if (!isset($this->exportMagma)){  header("Content-Disposition: inline; filename={$file}.html;"); $sep=""; $tdcsp=0;   if (!empty($this->titulo)) $strOutput .= "<h1>{$this->br}{$this->titulo}</h1>{$this->br}";  $strOutput .= "<table class='dgTable' border='1' cellspacing='0' cellpadding='0'>{$this->br}<thead>{$this->br}";  $thTitulos = "";  $conteoColumnas = 0;  foreach ($fieldsTodisplay as $fldName){  $conteoColumnas++;  $tdcsp++;  $thTitulos .= "<th class='dgTitles' style='width:".$this->fieldsArray["$fldName"]["columnwidth"]."'>".  $this->fieldsArray["$fldName"]["strHeader"] . "</th>{$this->br}";  };  if (isset($this->exportHTML_header)){  $strOutput .= "<tr><td colspan='{$conteoColumnas}'>{$this->exportHTML_header}</td></tr>";  }  $strOutput .= "<tr>{$this->br}" . $thTitulos . "</tr>{$this->br}";  $strOutput .= "</thead><tbody>{$this->br}";  $maskCell="<td align='%s' class='dgCells'>%s</td>"; $maskRow="<tr class='dgRows'>%s</tr>";  };  break;  case "X":  $this->br = $lnBr;  header('Content-Type: application/x-octet-stream'); $sep="";  header("Content-Disposition: attachment; filename={$file}.xml;");  echo "<?xml version=\"1.0\" encoding=\"{$this->charset}\" ?>{$this->br}";  echo "<{$this->tablename}>{$this->br}";  echo "<Header>{$this->br}{$tab}<Title>{$this->titulo}</Title>{$this->br}";  echo "{$tab}<ColumnNames>{$this->br}";  foreach ($fieldsTodisplay as $fldName){  echo "{$tab}{$tab}<$fldName>".$this->fieldsArray["$fldName"]["strHeader"] . "</$fldName>{$this->br}";  };  echo "{$tab}</ColumnNames>{$this->br}</Header>{$this->br}<Body>{$this->br}";  $maskCell="{$tab}{$tab}<%s>%s</%s>{$this->br}"; $maskRow="{$tab}<row>{$this->br}%s{$tab}</row>{$this->br}";  break;  case "E":  if (class_exists("PHPExcel")){  $objPHPExcel = new PHPExcel();  $objPHPExcel->setActiveSheetIndex(0);  $xlsDataArray = array();  if (!empty($this->titulo)) $xlsDataArray[] = array($this->titulo);  $tmpArray = array();  foreach ($fieldsTodisplay as $fldName) $tmpArray[] = $this->fieldsArray["$fldName"]["strHeader"];  $xlsDataArray[] = $tmpArray;  }else{  $this->br = $lnBr;  header("Content-Type: application/vnd.ms-excel");  header("Content-Disposition: attachment; filename={$file}.xls;"); $sep=""; $tdcsp=0;  echo "<?xml version=\"1.0\" encoding=\"{$this->charset}\" ?>{$this->br}";  echo "<Workbook xmlns=\"urn:schemas-microsoft-com:office:spreadsheet\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns:ss=\"urn:schemas-microsoft-com:office:spreadsheet\" xmlns:html=\"http://www.w3.org/TR/REC-html40\">{$this->br}";  echo "<Worksheet ss:Name=\"{$this->tablename}\">{$this->br}";  echo "<Table>{$this->br}";  if (!empty($this->titulo)) echo "<Row>{$this->br}{$tab}<Cell><Data ss:Type=\"String\">{$this->titulo}</Data></Cell>{$this->br}</Row>{$this->br}";  echo "<Row>{$this->br}";  foreach ($fieldsTodisplay as $fldName){  $tdcsp++;  echo "{$tab}<Cell><Data ss:Type=\"String\">".  $this->fieldsArray["$fldName"]["strHeader"] . "</Data></Cell>{$this->br}";  };  echo "</Row>{$this->br}";  $maskCell="{$tab}<Cell><Data ss:Type=\"String\">%s</Data></Cell>{$this->br}"; $maskRow="<Row>{$this->br}%s</Row>{$this->br}";  }  break;  case "C":  header('Content-Type: application/x-octet-stream'); $sep=$this->csvSeparator; $maskCell="%s{$sep}";  header("Content-Disposition: attachment; filename={$file}.csv;");  default:  echo "{$this->titulo}{$this->br}";  foreach ($fieldsTodisplay as $fldName)  echo $this->fieldsArray["$fldName"]["strHeader"] . $sep;  echo $lnBr;  break;  };   $this->rowsMaster = $this->rowsDetails = array();  $this->getData();$this->isexporting=true;  foreach($this->arrGridData as $key=>$rowRes){                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
DQoJCQkJCQlpZiAoJHRoaXMtPnZjb2RlPT0nUCcpICRwZGYtPlNldFgoMyk7ICRjZWxscyA9ICIiOw0KCQkJCQkJJGFycmtGaWVsZCA9IGV4cGxvZGUoIi4iLCAkdGhpcy0+a2V5ZmllbGQpOw0KCQkJCQkJJGtGaWVsZCA9IChpc3NldCgkYXJya0ZpZWxkWzFdKSk/JGFycmtGaWVsZFsxXTokYXJya0ZpZWxkWzBdOw0KCQkJCQkJJGtleVZhbHVlID0gKGVtcHR5KCR0aGlzLT5rZXlmaWVsZCkpPyRrZXk6JHJvd1Jlc1ska0ZpZWxkXTsNCgkJCQkJCSRjc3AgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgJHRtcEFycmF5ID0gYXJyYXkoKTsNCgkJCQkJCQ=="));  foreach($fieldsTodisplay as $value){  $alignTD = $this->fieldsArray[$value]['align'];  $align = strtoupper(substr($alignTD,0,1));  $this-> getFieldData($value,$keyValue,$rowRes);  $vv = $this-> fldValue;  $vv = str_replace("&amp;nbsp;","",$vv);  $vv = str_replace("&nbsp;","",$vv);   $csp++;  switch ($this->vcode){  case "P": $pdf->Cell($w["$value"],4,$vv,1,0,$align,1); break;  case "X": $cells.=sprintf($maskCell,$value,$vv,$value); break;  case "E":  if (class_exists("PHPExcel")){  $tmpArray[] = $vv;  break;  }  case "I": case "E":  if (!(isset($this->exportMagma) and $this->vcode=='I')){  if ($this->vcode=='I')  $cells.=sprintf($maskCell,$alignTD,$vv);  else  $cells.=sprintf($maskCell,$vv);  }else{  $cells.="";  foreach ($rowRes as $rKey=>$rowData){  if (!is_numeric($rKey))  $this->rowsMaster[$rowRes[$this->keyfield]][$rKey] = $rowData;  };  };  break;  default : $cells.=sprintf($maskCell,$vv); break;  };  };  if (isset($this->exportDetails) and ($this->dg_edt==1 or isset($this->exportDetails[$this->dg_edt]))){  if (isset($this->exportDetails[$this->dg_edt])){  $this->exportDetails = $this->exportDetails[$this->dg_edt];  $this->dg_edt=1;  };  $sql = $this->exportDetails['sql'];  $fields = explode(",", $this->exportDetails['parameters']);  $arg = array();  foreach ($fields as $field){  $field = trim($field);  $sql = str_replace("['{$field}']",$rowRes[$field],$sql);  };  $arrDetails = $this->SQL_query($sql);  };  switch ($this->vcode){  case "P": $pdf->Ln(); break;  case "X": echo sprintf($maskRow,$cells); break;  case "E":  if (class_exists("PHPExcel")){  $xlsDataArray[] = $tmpArray;  break;  }  case "I": case "E";  $strOutput .= sprintf($maskRow,$cells);  if (isset($this->exportDetails) and $this->dg_edt==1){  $rows = ""; $r=0;  foreach ($arrDetails as $key=>$rowDetails){  $cell = sprintf($maskCell,'','','');  foreach ($rowDetails as $key=>$cellData){  $align = (isset($this->exportDetails['align']['$key']))?$this->exportDetails['align']['$key']:"";  if (!is_numeric($key)){  $cell .= sprintf($maskCell,$align,$cellData);  $this->rowsDetails[$rowRes[$this->keyfield]][$r][$key] = $cellData;  };  };  $rows .= sprintf($maskRow,$cell); $r++;  };  if (!(isset($this->exportMagma) and $this->vcode=='I')){  $strOutput .= "<tr><td colspan='{$tdcsp}'><table border='0' style='width:100%'>";  $strOutput .= $rows;  $strOutput .= "</table></td></tr>";  };  };  break;  default : echo sprintf($maskRow,$cells);  if (isset($this->exportDetails) and $this->dg_edt==1){  foreach ($arrDetails as $rowDetails){  $cell = sprintf($maskCell,'');  foreach ($rowDetails as $key=>$cellData){  if (!is_numeric($key))  $cell .= sprintf($maskCell,$cellData);  };  echo sprintf($maskRow,$cell);  };  };  break;  };  };  if (!empty($this->totalize)){  if ($this->vcode=='P') $pdf->SetX(3); $cells = "";  $tmpArray = array();  foreach($fieldsTodisplay as $value){  $alignTD = $this->fieldsArray[$value]['align'];  $align = strtoupper(substr($alignTD,0,1));  $this->getFieldData($value,$keyValue,$rowRes,true);  $vv = $this->fldValue;  $vv = str_replace("&amp;nbsp;","",$vv);  $vv = str_replace("&nbsp;","",$vv);  switch ($this->vcode){  case "P": $pdf->Cell($w["$value"],4,$vv,1,0,$align,1); break;  case "X": $cells.=sprintf($maskCell,$value,$vv,$value); break;  case "I": $cells.=sprintf(str_replace("class='dg","class='dgTotal",$maskCell),$alignTD,$vv); break;  case "E":  if (class_exists("PHPExcel")){  $tmpArray[] = $vv;  } else {  $cells.=sprintf($maskCell,$vv);  }  break;  default : $cells.=sprintf($maskCell,$vv); break;  };  };  switch ($this->vcode){  case "P": $pdf->Ln(); break;  case "X": $maskRow="{$tab}<total>{$this->br}%s{$tab}</total>{$this->br}";  case "E":  if (class_exists("PHPExcel")){  $xlsDataArray[] = $tmpArray;  break;  }  default :  if ($this->vcode=='I')  $strOutput .= sprintf($maskRow,$cells);  else  echo sprintf($maskRow,$cells);  };  };  switch ($this->vcode){  case "P": $pdf->Output($file.".pdf",'D'); break;  case "X": echo "</Body>{$this->br}<footer>{$this->footer}</footer>{$this->br}</{$this->tablename}>"; break;  case "E":  if (class_exists("PHPExcel")){  $objPHPExcel->getActiveSheet()->fromArray($xlsDataArray, NULL, $this->exportExcelFirstCell);  for($i = "A"; $i !== "Z"; $i++){  $objPHPExcel->getActiveSheet()->getColumnDimension($i)->setAutoSize(true);  $csp--; if ($csp == 0) break;  }  if (isset($this->exportExcel_header)) eval($this->exportExcel_header);  if (!isset($this->phpExcelContentType)) $this->phpExcelContentType = "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";  if (!isset($this->phpExcelExtension)) $this->phpExcelExtension = "xlsx";  header('Content-Type: ' . $this->phpExcelContentType);  header("Content-Disposition: attachment; filename={$file}.{$this->phpExcelExtension};");  $objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, $this->phpExcelOutput);  $objWriter->save('php://output');  }else{  echo $strOutput;  echo "<Row>{$this->br}{$tab}<Cell><Data ss:Type=\"String\">{$this->footer}</Data></Cell>{$this->br}</Row>{$this->br}";  echo "</Table>{$this->br}</Worksheet>{$this->br}</Workbook>";  }  break;  case "I":  if (!(isset($this->exportMagma) and $this->vcode=='I'))  $strOutput .= "</tbody>{$this->br}</table><p class='dgFooter'>{$this->footer}</p>";   if (!isset($this->esPDF))  echo $strOutput . "<script type='text/javascript'>print();</script>";  else{  $orientation = ($this->PDForientation == "L") ? "-L" : "";  $mpdf=new mPDF('c', $this->PDFformat . $orientation, $this->PDFfontsize, $this->PDFfont, $this->pdfLeftMargin, $this->pdfRightMargin, $this->pdfTopMargin, $this->pdfBottomMargin, 9, 9, $this->PDForientation);  $mpdf->setFooter($this->PDFfooter);  $mpdf->WriteHTML($strOutput);  $mpdf->Output($file . ".pdf", "D");  exit;  }  break;  default : echo $this->footer;  };  if (!(isset($this->exportMagma) and $this->vcode=='I')) die();  };                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1FrSkpHbHRaMjVoYldVOUpIUm9hWE10UGxKRlVWVkZVMVFvSW1sdFoyNWhiV1Y3SkhSb2FYTXRQbVJuUjNKcFpFbEVmU0lwT3lScGJXY2dQU0FrZEdocGN5MCthVzFoWjJWeld5SjFjR3h2WVdRaVhUc2dKRzF6Wnowa2RHaHBjeTArYldWemMyRm5aVnNuZFhCc2IyRmtKMTA3RFFvSkNRa0pKSE4wY2xKbGRIVnliaUE5SWp4a2FYWWdhV1E5SjJSbmV5UjBhR2x6TFQ1a1owZHlhV1JKUkgxQlpHUnZleVIwYUdsekxUNUdiM0p0VG1GdFpYMG5JR0ZzYVdkdVBTZHNaV1owSnlCamJHRnpjejBuWkdkVFpXRnlZMmhFYVhZZ2IzQmhjWFZsSUdSblFXUmtWMmx1Wkc5M0p6NTdKSFJvYVhNdFBtSnlmU0k3RFFvSkNRa0pKSE4wY2xKbGRIVnliaTQ5SWp4emNHRnVJR05zWVhOelBTZGtaMU5sWVhKamFGUnBkQ2NnYjI1dGIzVnpaV1J2ZDI0OUowUkhYMk5zYVdOclEyRndZU2hsZG1WdWRDd2dkR2hwY3l3Z1hDSmtaMEZrWkc5N0pIUm9hWE10UGtadmNtMU9ZVzFsZlZ3aUtTY2diMjV0YjNWelpYVndQU2RFUjE5c2FXSmxjbUZEWVhCaEtGd2laR2RCWkdSdmV5UjBhR2x6TFQ1R2IzSnRUbUZ0WlgxY0lpa25QaUk3RFFvSkNRa0pKSE4wY2xKbGRIVnliaTQ5SWp4cGJXY2dZbTl5WkdWeVBTY3dKeUJ6Y21NOUp5SWdMaUFvYVhOelpYUW9KSFJvYVhNdFBtbHRaMTl3WVhSb1d5ZDFjR3h2WVdRblhTay9KSFJvYVhNdFBtbHRaMTl3WVhSb1d5ZDFjR3h2WVdRblhUb2tkR2hwY3kwK2FXMW5jR0YwYUNrZ0xpQWlleVJwYldkOUp5QmhiSFE5SjNza2JYTm5mU2NnZEdsMGJHVTlKM3NrYlhObmZTY2dkMmxrZEdnOUp6RTJKeUJvWldsbmFIUTlKekUySnlCN0pIUm9hWE10UG5Oc2ZUNTdKRzF6WjMwOEwzTndZVzQrZXlSMGFHbHpMVDVpY24waU93MEtDUWtKQ1NSemRISlNaWFIxY200dVBTSThhVzFuSUhOMGVXeGxQU2RqZFhKemIzSTZjRzlwYm5SbGNqc2dabXh2WVhRNmNtbG5hSFFuSUhOeVl6MG5JaUF1SUNocGMzTmxkQ2drZEdocGN5MCthVzFuWDNCaGRHaGJKMk5zYjNObEoxMHBQeVIwYUdsekxUNXBiV2RmY0dGMGFGc25ZMnh2YzJVblhUb2tkR2hwY3kwK2FXMW5jR0YwYUNrZ0xpQWlleVIwYUdsekxUNXBiV0ZuWlhOYkoyTnNiM05sSjExOUp5QmhiSFE5SjNza2RHaHBjeTArYldWemMyRm5aVnNuWTJ4dmMyVW5YWDBuSUhScGRHeGxQU2Q3SkhSb2FYTXRQbTFsYzNOaFoyVmJKMk5zYjNObEoxMTlKeUJ2Ym1Oc2FXTnJQU2NpTG5Od2NtbHVkR1lvSkhSb2FYTXRQbUZqZEdsdmJrTnNiM05sVlhCc0xDUjBhR2x6TFQ1a1owZHlhV1JKUkNrdUlpZDdKSFJvYVhNdFBuTnNmVDU3SkhSb2FYTXRQbUp5ZlNJN0RRb0pDUWtKSkhOMGNsSmxkSFZ5Ymk0OUlqeGthWFlnYVdROUowUkhYM04xWW1ScGRuc2tkR2hwY3kwK1pHZEhjbWxrU1VSOUp5QmpiR0Z6Y3owblpHZEpibTVsY2tScGRpY2djM1I1YkdVOUozUmxlSFF0WVd4cFoyNDZiR1ZtZERzZ2FHVnBaMmgwT21GMWRHODdKejU3SkhSb2FYTXRQbUp5ZlR4MFlXSnNaU0JqYkdGemN6MG5aR2RmWkdGMFlWUmhZbXhsSno1N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1FrSkpITjBjbEpsZEhWeWJpNDlJangwY2o0OGRHUStQSFJoWW14bElHSnZjbVJsY2owbk1DY2dZMnhoYzNNOUoyUm5WWEJzYjJGa0p6NDhkSEkrUEhSa1BnMEtDUWtKQ1FrOGNENTdKSFJvYVhNdFBtMWxjM05oWjJWYkozTmxiR1ZqZEdsdFlXZGxKMTE5T2p3dmNENE5DZ2tKQ1FrSlBHbHVjSFYwSUdsa1BTZEVSMTltYVd4bGV5UjBhR2x6TFQ1a1owZHlhV1JKUkgwbklIUjVjR1U5SjJacGJHVW5JSE5wZW1VOUp6STBKeUJ1WVcxbFBTZEVSMTltYVd4bGV5UjBhR2x6TFQ1a1owZHlhV1JKUkgwbmV5UjBhR2x6TFQ1emJIMCtJQTBLQ1FrSkNRazhhVzV3ZFhRZ2RIbHdaVDBuWW5WMGRHOXVKeUJ2Ym1Oc2FXTnJQVndpUkVkZmRYQnNiMkZrS0VSSFgyZHZieWduUkVkZlptbHNaWHNrZEdocGN5MCtaR2RIY21sa1NVUjlKeWtwWENJZ2JtRnRaVDBuUkVkZmRYc2tkR2hwY3kwK1pHZEhjbWxrU1VSOUp5QnBaRDBuUkVkZmRYc2tkR2hwY3kwK1pHZEhjbWxrU1VSOUp5QjJZV3gxWlQwbmV5UjBhR2x6TFQ1dFpYTnpZV2RsV3lkMWNHeHZZV1FuWFgwbmV5UjBhR2x6TFQ1emJIMCtEUW9KQ1FrSkNUeHBibkIxZENCMGVYQmxQU2RvYVdSa1pXNG5JRzVoYldVOUoyWnNaRzVoYldWN0pIUm9hWE10UG1SblIzSnBaRWxFZlNjZ2FXUTlKMlpzWkc1aGJXVjdKSFJvYVhNdFBtUm5SM0pwWkVsRWZTY2dkbUZzZFdVOUp5UjBhR2x6TFQ1a1ozSjBaQ2Q3SkhSb2FYTXRQbk5zZlQ0TkNna0pDUWtKUEdsdWNIVjBJSFI1Y0dVOUoyaHBaR1JsYmljZ2JtRnRaVDBuYTJWNWRtRnNkV1Y3SkhSb2FYTXRQbVJuUjNKcFpFbEVmU2NnYVdROUoydGxlWFpoYkhWbGV5UjBhR2x6TFQ1a1owZHlhV1JKUkgwbklIWmhiSFZsUFNja2RHaHBjeTArZG1OdlpHVW5leVIwYUdsekxUNXpiSDArRFFvSkNRa0pDVHhwYm5CMWRDQjBlWEJsUFNkb2FXUmtaVzRuSUc1aGJXVTlKMmx0WjI1aGJXVjdKSFJvYVhNdFBtUm5SM0pwWkVsRWZTY2dhV1E5SjJsdFoyNWhiV1Y3SkhSb2FYTXRQbVJuUjNKcFpFbEVmU2NnZG1Gc2RXVTlKeVJwYldkdVlXMWxKM3NrZEdocGN5MCtjMng5UGcwS0NRa0pDUWs4YVc1d2RYUWdkSGx3WlQwbmFHbGtaR1Z1SnlCdVlXMWxQU2RrWjE5MWNHeHZZV1JwYm1kN0pIUm9hWE10UG1SblIzSnBaRWxFZlNjZ2FXUTlKMlJuWDNWd2JHOWhaR2x1WjNza2RHaHBjeTArWkdkSGNtbGtTVVI5SnlCMllXeDFaVDBuTVNkN0pIUm9hWE10UG5Oc2ZUNGlPdzBLQ1FrSkNTUmhjbkpRWVhKaGJYTWdQU0JsZUhCc2IyUmxLQ0ltSWl3Z2MzUnlYM0psY0d4aFkyVW9JaVpoYlhBN0lpd2dJaVlpTENBa2RHaHBjeTArY0dGeVlXMWxkR1Z5Y3lrcE93MEtDUWtKQ1dadmNtVmhZMmdnS0NSaGNuSlFZWEpoYlhNZ1lYTWdKSEJoY21GdFpYUmxjaWw3RFFvSkNRa0pDU1JoY25KVGRXSlFZWEpoYlNBOUlHVjRjR3h2WkdVb0lqMGlMQ0FrY0dGeVlXMWxkR1Z5S1RzTkNna0pDUWtKYVdZZ0tDRmxiWEIwZVNna1lYSnlVM1ZpVUdGeVlXMWJNRjBwS1EwS0NRa0pDUWtKSkhOMGNsSmxkSFZ5Ymk0OUlqeHBibkIxZENCMGVYQmxQU2RvYVdSa1pXNG5JRzVoYldVOUp5SWdMaUFrWVhKeVUzVmlVR0Z5WVcxYk1GMGdMaUFpSnlCcFpEMG5JaUF1SUNSaGNuSlRkV0pRWVhKaGJWc3dYU0F1SWljZ2RtRnNkV1U5SnlJZ0xpQWtZWEp5VTNWaVVHRnlZVzBnV3pGZExpQWlKM3NrZEdocGN5MCtjMng5UGlJN0RRb0pDUWtKZlRzTkNna0pDUWtOQ2drSkNRa2tjM1J5VW1WMGRYSnVMajBpUEM5MFpENTdKSFJvYVhNdFBtSnlmVHd2ZEhJK2V5UjBhR2x6TFQ1aWNuMDhMM1JoWW14bFBpSTdEUW9KQ1FrSkpITjBjbEpsZEhWeWJpNDlJand2ZEdRK2V5UjBhR2x6TFQ1aWNuMDhMM1J5UG5za2RHaHBjeTArWW5KOUlqc05DZ2tKQ1Fra2MzUnlVbVYwZFhKdUxqMGlQSFJ5SUdOc1lYTnpQU2RrWjBGa1pFSjFkRzl1Y3ljZ1Buc2tkR2hwY3kwK1luSjlJanNOQ2drSkNRa2tjM1J5VW1WMGRYSnVMajBpUEhSa0lHRnNhV2R1UFNkalpXNTBaWEluSUhOMGVXeGxQU2RqYjJ4dmNqb2pSa1pHSno1N0pIUm9hWE10UG1KeWZTSTdEUW9KQ1FrSkpITjBjbEpsZEhWeWJpNDlJanhwYm5CMWRDQjBlWEJsUFNkaWRYUjBiMjRuSUhaaGJIVmxQU2NpTGlSMGFHbHpMVDV0WlhOellXZGxXeUpqYkc5elpTSmRMaUluSUdOc1lYTnpQU2RrWjBsdWNIVjBKeUJ2Ym1Oc2FXTnJQU2NpTG5Od2NtbHVkR1lvSkhSb2FYTXRQbUZqZEdsdmJrTnNiM05sVlhCc0xDUjBhR2x6TFQ1a1owZHlhV1JKUkNrdUlpZDdKSFJvYVhNdFBuTnNmVDU3SkhSb2FYTXRQbUp5ZlNJN0RRb0pDUWtKSkhOMGNsSmxkSFZ5Ymk0OUlqd3ZkR1ErZXlSMGFHbHpMVDVpY24wOEwzUnlQbnNrZEdocGN5MCtZbko5SWpzTkNna0pDUWtrYzNSeVVtVjBkWEp1TGowaVBDOTBZV0pzWlQ0aU93MEtDUWtKQ1dWamFHOGdKSE4wY2xKbGRIVnliaTQ5SWp3dlpHbDJQbnNrZEdocGN5MCtZbko5UEM5a2FYWStleVIwYUdsekxUNWljbjA4WkdsMklHbGtQU2RrWjNza2RHaHBjeTArWkdkSGNtbGtTVVI5UVdSa2V5UjBhR2x6TFQ1R2IzSnRUbUZ0WlgwbklHTnNZWE56UFNka1owRmtaRVJwZGljZ2MzUjViR1U5SjNkcFpIUm9PaUl1SkhSb2FYTXRQbEpGVVZWRlUxUW9KM2duS1M0aWNIZzdhR1ZwWjJoME9pSXVKSFJvYVhNdFBsSkZVVlZGVTFRb0oza25LUzRpY0hnblBuc2tkR2hwY3kwK1luSjlQQzlrYVhZK0lqc05DZ2tKQ1Fsa2FXVW9LVHNOQ2drSkNRaz0iKSk7"));  break;  case 9:  list($value,$keyValue) = explode(".-.",$this->dgrtd);  $xcod = $this->right($value,strlen($this->dgGridID));  if ($xcod == $this->dgGridID) $value = substr($value,0,strlen($value)-strlen($this->dgGridID));  $mask = $this->fieldsArray["$value"]["mask"];  $selData = $this->fieldsArray["$value"]["select"];  if (strpos($mask,'//')===false){  $mask1=$mask;$mask2='2';  }else{  list($mask1,$mask2) = explode('//', $mask); if (empty($mask2)) $mask2='2';  };  if (substr($mask,0,5)=='scalc' and $keyValue!='Total') {  $this->nt = $this->GetSQLValueString($this->nt, $this->fieldsArray["$value"]["mask"]); if ($this->nt=="") $this->nt=0;  $isNumericID = (is_numeric($keyValue))?true:false;  $updWhere = sprintf($updWhere,magic_quote($keyValue, $isNumericID));  $tablename = (isset($this->updateOther))?$this->updateOther:$this->tablename;  $strUpdate = "UPDATE {$this->backtick}{$tablename}{$this->backtick} set {$this->backtick}$value{$this->backtick}=".magic_quote($this->nt)." $updWhere";  $this->SQL_query($strUpdate);  };  echo $this->maskdata($this->nt,$mask2,'number',$selData,$this->nt);  echo "<input type='hidden' id='c{$this->dgGridID}{$value}.-.{$keyValue}' value='{$this->nt}'{$this->sl}>{$this->br}";  die();  break;  case 10: case 11:  if ($this->DG_ajaxid==10){$ord = "DESC"; $ope= "<";}else{$ord = ""; $ope= ">";};  if (empty($this->where))  $elWhere = " WHERE {$this->setOrderby}{$ope}=".magic_quote($this->dgrtd)." ";  else  $elWhere = str_replace("WHERE", "WHERE ({$this->setOrderby}{$ope}=".magic_quote($this->dgrtd).") and ",$this->where);  $strSQL = "SELECT {$this->setOrderby} as myCampoOrd, {$this->keyfield} as myCampoKey FROM {$this->tablename} {$elWhere} ORDER BY {$this->setOrderby} {$ord} ";   $arrValues = array(); $arrCount=0;  $arrResult = $this->SQL_query($strSQL,2);   foreach ($arrResult as $rowRes){  $arrValues[$arrCount]["key"] = $rowRes["myCampoKey"];  $arrValues[$arrCount]["ord"] = $rowRes["myCampoOrd"];  $arrCount++;  };   if ($arrCount==2){  $x0=0; $x1=1;  $tablename = (isset($this->updateOther))?$this->updateOther:$this->tablename;  for ($x=0;$x<=1;$x++){  $strSQL = sprintf("UPDATE {$this->backtick}{$tablename}{$this->backtick} SET {$this->setOrderby}=%s WHERE {$this->backtick}{$this->keyfield}{$this->backtick}=%s ",  magic_quote($arrValues[$x0]["ord"]),magic_quote($arrValues[$x1]["key"]));  $this->SQL_query($strSQL);  $x0=1; $x1=0;  };  };  break;  case 12:  if (!empty($this->chksel)){  $arrSelection = explode(",",$this->chksel);  foreach($arrSelection as $key => $value) $arrSelection[$key] = magic_quote(trim($value));  $chksel = implode(",", $arrSelection);  $fldCond = "{$this->backtick}{$this->keyfield}{$this->backtick} IN ({$chksel})";  $delWhere = (empty($this->where))?" WHERE {$fldCond}":str_replace("WHERE", "WHERE ({$fldCond}) and ",strtoupper($this->where));  $tablename = (isset($this->updateOther))?$this->updateOther:$this->tablename;  $strDelete = "DELETE FROM {$this->backtick}{$tablename}{$this->backtick} {$delWhere}";  $this->SQL_query($strDelete);  if ($this->queryError){  $msg = (isset($this->message['errorDeleting'])) ? $this->message['errorDeleting'] : ($this->message['sqlerror'] . " " . ( (isset($this->onErrorShowSQLQuery)) ? $strDelete : substr($strDelete, 0,15) . "..."));  echo "<script>alert('{$msg}')</script>";  };  $this->strDebug[] = "MULTI-DELETE: " . $strDelete;  }else{  echo "<script>alert('".$this->message['norecselect']."');</script>";  };  break;  case 13:  $toNestValue = $this->REQUEST("DG_nestedValue");  $strSQL = sprintf(str_replace("select_nested:","",$this->fieldsArray[$this->dgrtd]['mask']),magic_quote($toNestValue));  $arrNestData = $this->SQL_query($strSQL);  echo "&nbsp;<script>";  echo "DG_goo('dgFld{$this->dgrtd}').disabled = false;";  echo "DG_goo('dgFld{$this->dgrtd}').length = 0;";  $cList = 0;  foreach($arrNestData as $row){  echo "list=DG_goo('dgFld{$this->dgrtd}'); list[{$cList}] = new Option('" . utf8_encode($row[1]) . "', " . $row[0] . "); "; $cList++;  };  echo "</script>";  die();  break;  case 14:  $fieldName = (isset($_POST['dgFldtoUpload' . $this->dgGridID]) ? $_POST['dgFldtoUpload' . $this->dgGridID] : "");  if (isset($_FILES['dgFld_file' . $fieldName])){  $fileName = strtolower($_FILES['dgFld_file' . $fieldName]['name']) ;  $arrParts = explode(".", $fileName) ;  $extension = $arrParts[count($arrParts)-1];  if (in_array(strtolower($extension), $this->validImgExtensions) or empty($this->validImgExtensions)){  $startName = (isset($this -> startName) ? $this -> startName : "");  if ($this->renameUploads){  $newfileName = $startName . $fieldName . "_-_" . rand(10000,99999) . "_-_" . $fileName;  }else  $newfileName = $startName . $fileName;   $is_valid_file = true;  $handle = fopen($_FILES['dgFld_file' . $fieldName]['tmp_name'], 'rb');  if ($handle === false) {  echo "<script>alert('" . $this->message['invalidfile'] . "');  parent.document.getElementById('uplimg_{$fieldName}{$this->dgGridID}').style.display='none';  parent.document.getElementById('uplstat_{$fieldName}{$this->dgGridID}').style.display='none';  </script>";  die();  }  $tieneInicio = false;  $tieneFinal = false;  $chunksize = 1024;  while (!feof($handle)) {  $buffer = fread($handle, $chunksize);  $buffer = str_replace( chr(47) . chr(42), " ", str_replace("//", " ", $buffer));  if (!$tieneInicio){  if (strpos($buffer, chr(60) . chr(63) . "php") !== false or strpos($buffer, chr(60) . chr(63) . " ") !== false or strpos($buffer, chr(60) . chr(63) . "=") !== false) $tieneInicio = true;  } else {  if (strpos($buffer, chr(63) . chr(62)) !== false) $tieneFinal = true;  }  }  fclose($handle);  if ($tieneInicio and $tieneFinal or $tieneInicio) $is_valid_file = false;   $newfileName = str_replace(".", "_", substr($newfileName, 0, strlen($newfileName) - (strlen($extension) + 1))) . "." . $extension;   if($is_valid_file and is_uploaded_file($_FILES['dgFld_file' . $fieldName]['tmp_name'])){  $path = $this->uploadDirectory . $newfileName;  if (move_uploaded_file($_FILES['dgFld_file' . $fieldName]['tmp_name'],$path)){  $tmpWidth = (isset($this->fieldsArray["$fieldName"]["imageWidth"]))?"width:" . $this->fieldsArray["$fieldName"]["imageWidth"] . "px;":"";  $tmpHeight= (isset($this->fieldsArray["$fieldName"]["imageHeight"]))?"height:" . $this->fieldsArray["$fieldName"]["imageHeight"] . "px;":"";  if (!in_array($extension, array("png","gif","jpg","jpeg"))){  $path = $this->imgpath . $this->images['icn_' . $extension];  $tmpWidth = "50px";  $tmpHeight= "50px";  };   echo "<script>parent.document.getElementById('dgFld{$fieldName}').value='{$newfileName}';  parent.document.getElementById('uplimg_{$fieldName}{$this->dgGridID}').style.display='none';  parent.document.getElementById('uplstat_{$fieldName}{$this->dgGridID}').style.display='inline';  parent.document.getElementById('uplstat_{$fieldName}{$this->dgGridID}').innerHTML='<img src=\"{$path}\" style=\"{$tmpWidth}{$tmpHeight};\" {$this->sl}></span>';  </script>";  };  }else{  echo "<script>alert('" . $this->message['invalidfile'] . "');  parent.document.getElementById('uplimg_{$fieldName}{$this->dgGridID}').style.display='none';  parent.document.getElementById('uplstat_{$fieldName}{$this->dgGridID}').style.display='none';  </script>";  };  }else{  echo "<script>alert('" . $this->message['invalidfile'] . "');  parent.document.getElementById('uplimg_{$fieldName}{$this->dgGridID}').style.display='none';  parent.document.getElementById('uplstat_{$fieldName}{$this->dgGridID}').style.display='none';  </script>";  };  };  die();  break;  case 15 :  $this->methodForm = 'get';  $field = $this->REQUEST("DG_field_img_dsply");  $id_img = $this->REQUEST("DG_id_img_dsply");  $vcode = md5($this->salt . $field . $id_img);  if ($vcode != $this->REQUEST("DG_code_img_dsply")) die("<span class='dgError'>".$this->message["errcode"]."</span>");  $strSQL = "select {$this->backtick}" . $field . "{$this->backtick} FROM {$this->backtick}{$this->tablename}{$this->backtick} where {$this->backtick}{$this->keyfield}{$this->backtick} = " . magic_quote($id_img);  $arrData = $this->SQL_query($strSQL);  if (isset($arrData[0])) echo $arrData[0][$field];  die();  break;  };  }    function getFooter(){  $strReturn = "";  if (!empty($this->footer))  $strReturn .= "<div class='dgFooter' style='width:{$this->tWidth}'>{$this->footer}</div>{$this->br}";   if ($this->poweredby)  $strReturn .= "<div align='center' class='dgFooter' style='width:{$this->tWidth}'><br{$this->sl}>  <a href='http://www.gurusistemas.com' target='_blank'>  <img border='0' src='{$this->imgpath}poweredby.gif' alt='Powered by phpMyDataGrid {$this->dgVersion}' title='Powered by phpMyDataGrid {$this->dgVersion}' border='0'{$this->sl}></a><br{$this->sl}>  </div>{$this->br}";  return $strReturn;  }    function getTitle(){  return (!empty($this->titulo))?"<span class='dgHeader'>{$this->titulo}</span>{$this->br}":"";  }    function addCheckBox($module, $keyValue="", $AditionalClasses=""){  global $clAlt;  if ($this->checkable){  switch ($module){  case "cols":  $this->tableWidth += 22; $this->columns++;  return $this->tab() . "<col style='width:22px' align='center'{$this->sl}>{$this->br}";  break;  case "head":  return $this->tab() . "<td class='dgTitles' align='center'>{$this->br}<input type='checkbox' onclick='DG_setCheckboxes(this.checked)'{$this->sl}>{$this->br}</td>{$this->br}";  break;  case "row":  $strReturn = $this->tab() . "<td class='dgRow{$clAlt}' align='center'>{$this->br}";  $strReturn .= $this->tab(2) . "<input type='checkbox' name='chk{$this->dgGridID}sel[]' value='{$keyValue}' onclick='DG_select(this)'{$this->sl}>{$this->br}";  return $strReturn;  break;  case "total":  return $this->tab(). "<td class='dgRowsTot'>&nbsp;</td>";  break;  };  };  }   function addNode($module, $keyValue="", $rowRes= array(), $fieldName=""){  global $clAlt;  if (!isset($this->relField)) $this->relField = "";  if (!empty($rowRes) and !empty($this->relField) and !isset($rowRes[$this->relField])) die("InvalidFieldDefinition");  $keyValueNode = (isset($rowRes[$this->relField]))?$rowRes[$this->relField]:"";  if (isset($this->subGrid)){  switch ($module){  case "cols":  $this->tableWidth += 22; $this->columns++;  return $this->tab() . "<col style='width:22px' align='center'{$this->sl}>{$this->br}";  break;  case "head":  return $this->tab() . "<td class='dgTitles' align='center'>{$this->br}&nbsp;</td>{$this->br}";  break;  case "row":  $strReturn = $this->tab() . "<td class='dgRow{$clAlt}' align='center' style='width:20'>{$this->br}";  $strReturn .= $this->tab(2) .  "<img id='openNode_{$this->dgGridID}{$keyValue}' border='0' src='" . (isset($this->img_path['node'])?$this->img_path['node']:$this->imgpath) .  "{$this->images['node']}' alt='{$this->message['node']}' title='{$this->message['node']}' class='dgImgLink'  onclick='" . str_replace("\,", "\", ",sprintf($this->detonClic, $keyValueNode, $this->dgGridID . $keyValue)) . "' style='margin: 0px 12px 0px 0px; display:block; width:20px; height:19px' {$this->sl}>" .   "<img id='closeNode_{$this->dgGridID}{$keyValue}' border='0' src='" . (isset($this->img_path['closenode'])?$this->img_path['closenode']:$this->imgpath) .  "{$this->images['closenode']}' alt='{$this->message['closenode']}' title='{$this->message['closenode']}' class='dgImgLink'  onclick='DG_sii(\"DG_det_{$this->dgGridID}{$keyValue}\",\"\"); DG_nodeShow(\"{$this->dgGridID}{$keyValue}\")' style='display:none; width:20px; height:19px' {$this->sl}>";  return $strReturn;  break;  case "total":  return $this->tab(). "<td class='dgRowsTot'>&nbsp;</td>";  break;  };  };  }    function PhpArrayToJsObject_Recurse($array){  if(!is_array($array) ){  if ($array === null) return null;  return "\"" . addslashes($array) . "\"";  };  $retVal = "{"; $comma="";  foreach($array as $key => $value){  if (is_string($key)) $key = "\"" . addslashes($key) . "\"";  $retVal .= $comma . $key . " : " . $this->PhpArrayToJsObject_Recurse($value); $comma=",";  };  return $retVal."}";  }    function PhpArrayToJsObject_Recurse_bad($array){                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExZHNiVXREUm5Cak1UbG9ZMjVLYUdWVFoydFpXRXA1V1ZocmNFbERiRGRFVVc5S1ExRnNjRnBwUVc5S1IwWjVZMjFHTlVsRU1EbFFVMEoxWkZkNGMwdFRRbmxhV0ZJeFkyMDBaMkp1Vm5OaVJITk9RMmRyU2tOWVNteGtTRlo1WW1sQmFWaERTamRLUjBaNVkyMUdOV1pXZDJsSmFuTk9RMmRyU21aVWMwNURaMnRLU2toS2JHUkdXbWhpUTBFNVNVTktOMGxxYzJkS1IwNTJZbGN4YUZCVFNXbFBkekJMVEhsdlowbERRV2RKUTBGblNVZHNiVWxEWjJoaFdFNTZXbGhSYjBwSVVtOWhXRTEwVUcxNGFHTXpVa2RoVjFaeldrVTFhR0pYVlhCTFUwRnJaRWRvY0dONU1DdGlSMFo2WkVWYWNGcFhlR3RVYlVaMFdsTkJPVWxEU1dsUGVVRnhUSGxCVGtObmEwcGFiVGw1V2xkR2FtRkRaMnRaV0VwNVdWaHJaMWxZVFdkS1IzUnNaVk5CT1ZCcFFXdGtiVVp6WkZkVmNHVjNNRXRNZVc5blNVTkJaMGxEUVdkSlEwRm5TVU5DY0ZwcFFXOUtSM1JzWlZOQk9WQlRRVzVqTTFKNVdtMXNiR0pIVWs5WlZ6RnNTbmxyWjBwSVVtOWhXRTEwVUcxNGFHTXpVa2RoVjFaeldrVTFhR0pYVldkUVUwRnJaRzFHYzJSWFZUZEpRMjkyUkZGdmRrdG5hMHBEVjJ4dFNVTm5hR0ZZVG5wYVdGRnZTa2hTYjJGWVRYUlFiVnB3V2xkNGEyTXdSbmxqYlVZMVYzbFNNR0ZIYkhwTVZEVnpXVmhPTUZKdGJHeGlSMUpQV1ZjeGJGaFdjMjVoVnpWM1pGaFNNR1ZZUW14S01UQndTVWM1ZVVsRFoyaGhWelZtV1ZoS2VWbFlhMjlLU0ZKdllWaE5kRkJ0V25CYVYzaHJZekJHZVdOdFJqVlhlVkl3WVVkc2VreFVOWE5aV0U0d1VtMXNiR0pIVWs5WlZ6RnNXRlp6Ym1GWE5YZGtXRkl3WlZoQ2JFb3hNSE5aV0VwNVdWaHJiMDVEZHpGTVJGbHpUbmxyY0V0VGJEZEpRMjkyUkZGdlNrTlJiSEJhYVVGdlNWZHNlbU15VmpCTFExSXlXVmQ0TVZwV2MyNWhWelYzWkZoU01HVllRbXhLTVRCd1NVYzVlVWxEYUhCak0wNXNaRU5uYTJSdFJuTmtWMVppU2pKc2RXTklWakJrU0d4M1dsTmtaRXRUUW1oaWJWRm5TVmRzZFZneVJubGpiVVkxUzBOU01sbFhlREZhVm5OdVlWYzFkMlJZVWpCbFdFSnNTakV3YzFsWVNubFpXR3R2VGtOM01VeEVXWE5PZVd0d1MxTnNOMFJSYjBwRFVXdEtZVmRaWjB0SGJIcFlNMDR3WTIxc2RWcDVaMnRoTWxZMVMxTnJaMHBIZEd4bFUwRTVTVU5LWTBsdWMydGhNbFkxWmxaM2FVbHFjMDVEWjJ0S1ExRnJhMk50VmpCV2JVWnpTVU0wT1VsRFVtcGlNakYwV1ZNMGEyRXlWalZNYVVsblQybEJhVXhwVWpCaFIyeDZURlExVVdGSVFrSmpia3BvWlZaU2RsTnVUbEJaYlhCc1dUTlNabFZ0Vm1wa1dFcDZXbE5uYTJSdFJuTmtWMVZ3VDNsQmExa3lPWFJpVjBVNVNXbDNhVTkzTUV0RFVXdEtabFJ6VGtObmEwcG1WSE5PUTJkclNtTnRWakJrV0VwMVNVTlNlVnBZVWxkWlYzZDFTVzR3YVU5M01FdERVV3M5SWlrcE93PT0iKSk7"));  }    function getInputField($value,$keyValue,$rowRes,$default){                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
DQoJCSRzZWxEYXRhID0gJHRoaXMtPmZpZWxkc0FycmF5WyIkdmFsdWUiXVsnc2VsZWN0J107DQogICAgICAgIGlmIChpc3NldCgkdGhpcyAtPiB1c2VGaWVsZFdpZHRoQXNJbnB1dFdpZHRoKSBhbmQgJHRoaXMtPmZpZWxkc0FycmF5WyIkdmFsdWUiXVsnZGF0YXR5cGUnXSAhPSAidGV4dGFyZWEiKXsNCiAgICAgICAgICAgICR3aWR0aCAgID0gJHRoaXMtPmZpZWxkc0FycmF5WyIkdmFsdWUiXVsiZmllbGRXaWR0aCJdOw0KICAgICAgICAgICAgaWYgKHN0cnRvbG93ZXIoc3Vic3RyKCR3aWR0aCwgLTIpKSAhPSAicHgiKSAkd2lkdGguPSJweCI7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgJHdpZHRoICAgPSAkdGhpcy0+ZmllbGRzQXJyYXlbIiR2YWx1ZSJdWyJjb2x1bW53aWR0aCJdOw0KICAgICAgICB9DQoJCSR3aWR0aCAgID0gKGlzc2V0KCR0aGlzLT5maWVsZHNBcnJheVsiJHZhbHVlIl1bImlucHV0d2lkdGgiXSkpP2ludHZhbCgkdGhpcy0+ZmllbGRzQXJyYXlbIiR2YWx1ZSJdWyJpbnB1dHdpZHRoIl0pLiJweCI6JHdpZHRoOw0KCQkkcm93cyAgICA9ICR0aGlzLT5maWVsZHNBcnJheVsiJHZhbHVlIl1bImZpZWxkV2lkdGgiXTsNCgkJJGZsZG5hbWUgPSAkdGhpcy0+ZmllbGRzQXJyYXlbIiR2YWx1ZSJdWyJzdHJmaWVsZE5hbWUiXTsNCgkJJGZsZExlbmd0PSAkdGhpcy0+ZmllbGRzQXJyYXlbIiR2YWx1ZSJdWyJtYXhsZW5ndGgiXTsNCgkJJG1hc2sgICAgPSAkdGhpcy0+ZmllbGRzQXJyYXlbIiR2YWx1ZSJdWyJtYXNrIl07DQoJCSRpbnB1dFR5cGU9JHRoaXMtPmZpZWxkc0FycmF5WyIkdmFsdWUiXVsnaW5wdXR0eXBlJ107DQoNCgkJJGRlZmF1bHRjaGsgPSAkZGVmYXVsdDsJaWYgKCRkZWZhdWx0IT0nJykgJGRlZmF1bHQgPSAkdGhpcy0+R2V0U1FMVmFsdWVTdHJpbmcoJGRlZmF1bHQsICR0aGlzLT5maWVsZHNBcnJheVsiJHZhbHVlIl1bIm1hc2siXSk7DQoJDQogCQkkZGVmYXVsdCA9IHN0cl9yZXBsYWNlKCInIiwgIlwnIiwgc3RyaXBzbGFzaGVzKCRkZWZhdWx0KSk7DQoJCSR0aGlzLT5maWVsZHNBcnJheVsiJHZhbHVlIl1bImFsaWduIl07ICRzdHJJbnB1dD0kZGVmYXVsdDsgJHN0ckRhdGU9IiI7DQoNCgkJJG9uQmx1ciA9IChpc3NldCgkdGhpcy0+dmFsaWRhdGlvbnNbIiR2YWx1ZSJdWyJjb25kaXRpb24iXSkpPw0KCQkJIm9uYmx1cj1cImlmICgiLiR0aGlzLT52YWxpZGF0aW9uc1siJHZhbHVlIl1bImNvbmRpdGlvbiJdLiIpIHsiLg0KCQkJCQkgIAkJCQkiREdfaHNzKCdlZHRFcnJ7JGZsZG5hbWV9Jywnbm9uZScpOyBER19oc3MoJ2VkdE1zZ3skZmxkbmFtZX0nLCdibG9jaycpfSIuDQoJCQkJCQkJCSJlbHNlICIuDQoJCQkJCQkJCQkie0RHX2hzcygnZWR0RXJyeyRmbGRuYW1lfScsJ2Jsb2NrJyk7IERHX2hzcygnZWR0TXNneyRmbGRuYW1lfScsJ25vbmUnKTsgfVwiIjoiIjsNCgkJJG9uQ2hhbmdlID0gIiI7DQoJCWlmIChpc3NldCgkdGhpcy0+bmVzdGVkWyIkdmFsdWUiXSkpew0KCQkJJG5lc3RBY3Rpb24gPSAiREdfdXBkYXRlTmVzdGVkKHRoaXMudmFsdWUsJyIgLiAkdGhpcy0+bmVzdGVkWyIkdmFsdWUiXVsndGFyZ2V0J10gLiAiJyk7IjsNCgkJCSRvbkNoYW5nZSA9ICJvbmNoYW5nZT1cInskbmVzdEFjdGlvbn1cIiI7DQoJCQlpZiAoZW1wdHkoJG9uQmx1cikpDQoJCQkJJG9uQmx1ciA9ICJvbmJsdXI9XCJ7JG5lc3RBY3Rpb259XCIiOw0KCQkJZWxzZQ0KCQkJCSRvbkJsdXIgLj0gIjt7JG5lc3RBY3Rpb259XCIiOw0KCQl9Ow0KCQk="));   switch ($this->fieldsArray["$value"]['datatype']){  case "image": case "imagelink":  $strInput = "<form method='post' enctype='multipart/form-data' target='DG_iframe{$this->dgGridID}' action='{$this->scriptName}' id='up{$fldname}{$this->dgGridID}'>";  $styleInput = "inline";  $styleSpan = "none";  $spanContent = "";  $pr=$this->fieldsArray["$value"]['permissions'];  if (!$this->isadding() and !empty($rowRes[$value])){  $styleInput = "none";  $styleSpan = "inline";  $tmpWidth = (isset($this->fieldsArray["$value"]["imageWidth"]))?"width:" . $this->fieldsArray["$value"]["imageWidth"] . "px;":"";  $tmpHeight= (isset($this->fieldsArray["$value"]["imageHeight"]))?"height:" . $this->fieldsArray["$value"]["imageHeight"] . "px;":"";  if (isset($this->fieldsArray["$value"]['isblob'])){  $rowValue = "{$this->scriptName}?rand=" . rand(0,9999) . $this->parameters . "&DG_field_img_dsply={$value}&DG_ajaxid{$this->dgGridID}=15&DG_id_img_dsply=" . $rowRes[$this->keyfield] . "&DG_code_img_dsply=" . md5($this->salt . $value . $rowRes[$this->keyfield]);  }else{  $rowValue = $this->uploadDirectory . $rowRes[$value];  };   $spanContent = "<img src=\"{$rowValue}\" style=\"{$tmpWidth}{$tmpHeight}\" {$this->sl}>";  if (!empty($pr) and $this->allowed("M",$pr)){  $spanContent .= "<a href='javascript:void(0);' class='dgImgLink' onclick='DG_edit_uploadedImg(\"{$fldname}{$this->dgGridID}\",\"{$fldname}\")'><img border='0' src='" . (isset($this->img_path['edit'])?$this->img_path['edit']:$this->imgpath) . "{$this->images['edit']}' alt='{$this->message['edit']}' title='{$this->message['edit']}'{$this->sl}></a>{$this->br}";  $spanContent .= "<a href='javascript:void(0);' class='dgImgLink' onclick='DG_remove_uploadedImg(\"{$fldname}{$this->dgGridID}\",\"{$fldname}\")'><img border='0' src='" . (isset($this->img_path['erase'])?$this->img_path['erase']:$this->imgpath) . "{$this->images['erase']}' alt='{$this->message['delete']}' title='{$this->message['delete']}'{$this->sl}></a>{$this->br}";  };  };  if (empty($pr) or !$this->allowed("U",$pr)) $styleInput = "none";   $strInput .= "<input type='file' id='dgFld_file{$fldname}' name='dgFld_file{$fldname}' class='dgInput' style='width:{$width}; display:{$styleInput}' onchange=\"DG_tmpUpload('dgFld{$fldname}',this.value, '{$fldname}{$this->dgGridID}')\"{$this->sl}>";  $strInput .= "<input id='dgFldtoUpload{$this->dgGridID}' name='dgFldtoUpload{$this->dgGridID}' value='{$fldname}' type='hidden'{$this->sl}>";  $strInput .= "<input id='dgFld{$fldname}' name='dgFld{$fldname}' type='hidden' value='current'{$this->sl}>";  $strInput .= "<input id='DG_ajaxid{$this->dgGridID}' name='DG_ajaxid{$this->dgGridID}' type='hidden' value='14'{$this->sl}>";   $arrParams = explode("&", str_replace("&amp;", "&", $this->parameters));  foreach ($arrParams as $parameter){  $arrSubParam = explode("=", $parameter);  if (!empty($arrSubParam[0]))  $strInput.= "<input type='hidden' name='" . $arrSubParam[0] . "' id='" . $arrSubParam[0] ."' value='" . $arrSubParam [1]. "'{$this->sl}>";  };   $strInput .= "<span id='uplimg_{$fldname}{$this->dgGridID}' style='display: none;'><img src='{$this->imgpath}{$this->images['ajax']}'></span>";  $strInput .= "<span id='uplstat_{$fldname}{$this->dgGridID}' style='display:{$styleSpan};'>{$spanContent}</span>";   $strInput .= '</form>';  break;  case "link": case "calc": case "chart":   break;  case "select":  $arrMask = explode(":",$mask);  if ($arrMask[0] == "select_nested"){  $toNestValue = "";  foreach($this->nested as $source=>$targetData){  if($targetData['target']==$value){  $toNestValue = $targetData['value'];  break;  };  };  $strSQL = sprintf(str_replace("select_nested:","",$mask),magic_quote($toNestValue));  $maskData = $this->SQL_query($strSQL);  $selData = array();  foreach ($maskData as $arrResult) $selData[$arrResult[0]] = htmlentities($arrResult[1]);  };   $strInput = "<select id='dgFld{$value}' class='dgSelectpage' style='width:{$width}' {$onBlur} {$onChange}>{$this->br}";  foreach ($selData as $key=>$value){  $strInput.= "<option value='$key' ".(($key==$default)?"selected='selected'":"")." >$value</option>{$this->br}";  };  $strInput.= "</select>";   break;  case "related": case "conditional":  break;  case "check":  $strInput = "<input id='dgFld{$fldname}' type='checkbox' ".(($defaultchk==$this->fieldsArray[$value]["select"][1])?"checked":"")." class='dgCheck' {$this->sl}>{$this->br}";  break;  case "textarea_tinymce":  if (!($inputType==1 or $inputType==2))  $this->elements_tinyMCE[] = "dgFld{$fldname}";  case "textarea":  $strInput = "<textarea id='dgFld{$fldname}' class='dgInput' rows='{$rows}' style='width:{$width}' onkeypress='return DG_imposeMaxLength(this, $fldLengt);' >$default</textarea>{$this->br}";  break;  case "password":  $strInput = "<input id='dgFld{$fldname}' type='password' class='dgInput' value='$default' maxlength='$fldLengt' style='width:{$width}'{$this->sl}>";  break;  case 'date': case "datetime": case "timestamp":  $default = $defaultchk; if ($this->bolCalendar){  $onblur="";  $strDate = "<input id='idgFld{$fldname}' type='hidden' value='{$defaultchk}' maxlength='{$fldLengt}'{$this->sl}>";  $strDate.= '<a href="javascript:void(0)" onClick="viewCalendar( \'dgFld'.$fldname.'\', \''.$this->dateformat($mask).'\', event );" ><img border="0" src="'.(isset($this->img_path['calendar'])?$this->img_path['calendar']:$this->imgpath).$this->images["calendar"].'" alt="'.$this->message['calendar'].'" title="'.$this->message['calendar'].'" border="0"'.$this->sl.'></a>';  };  case "number":  if ($this->fieldsArray["$value"]['datatype'] == "number") {  $arrTmp = explode(":", $this->fieldsArray["$value"]['mask']);  $decimals = $arrTmp[0];  $intCant = (int)$decimals;  $spaces = ($intCant <= 2) ? 2 : $intCant;  if ($default != "")  $default = number_format($default, $spaces, $this->decimalsep, "");  }  default:  $default = str_replace('"', "&quot;", $default);  $default = stripslashes($default);  $strInput = "<input id='dgFld{$fldname}' type='text' class='dgInput' value=\"{$default}\" maxlength='{$fldLengt}' {$onBlur} style='width:{$width}'{$this->sl}>".$strDate;  break;  };  return $strInput;  }    function getFieldData($fieldName,$keyValue,$rowRes, $total=false){  global $clAlt;  $this->currentFieldName = $fieldName;                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9KQ1NSa1lYUmhWSGx3WlNBZ0lDQWdQU0FrZEdocGN5MCtabWxsYkdSelFYSnlZWGxiSWlSbWFXVnNaRTVoYldVaVhWc25aR0YwWVhSNWNHVW5YVHNOQ2drSkpHMWhjMnNnSUNBZ0lDQWdJQ0E5SUNSMGFHbHpMVDVtYVdWc1pITkJjbkpoZVZzaUpHWnBaV3hrVG1GdFpTSmRXeWR0WVhOckoxMDdEUW9KQ1NSelpXeEVZWFJoSUNBZ0lDQWdQU0FrZEdocGN5MCtabWxsYkdSelFYSnlZWGxiSWlSbWFXVnNaRTVoYldVaVhWc25jMlZzWldOMEoxMDdEUW9KQ1NSamRYUkRhR0Z5SUNBZ0lDQWdQU0FrZEdocGN5MCtabWxsYkdSelFYSnlZWGxiSWlSbWFXVnNaRTVoYldVaVhWc25ZM1YwUTJoaGNpZGRPdzBLQ1Fra2MzUnlTR1ZoWkdWeUlDQWdJRDBnSkhSb2FYTXRQbVpwWld4a2MwRnljbUY1V3lJa1ptbGxiR1JPWVcxbElsMWJJbk4wY2tobFlXUmxjaUpkT3cwS0NRa2thWE55WldGa2IyNXNlU0FnSUQwb0pIUm9hWE10UG1acFpXeGtjMEZ5Y21GNVd5SWtabWxsYkdST1lXMWxJbDFiSjJsdWNIVjBkSGx3WlNkZFBUMHhLVDkwY25WbE9tWmhiSE5sT3cwS0NRa2tkbkpHYVdWc1pDQWdJQ0FnSUQwb2FYTnpaWFFvSkhKdmQxSmxjMXNpSkdacFpXeGtUbUZ0WlNKZEtUOGtjbTkzVW1Weld5SWtabWxsYkdST1lXMWxJbDA2TUNrN0RRb05DZ2tKYVdZZ0tHbHpjMlYwS0NSMGFHbHpMVDV1WlhOMFpXUmJJaVJtYVdWc1pFNWhiV1VpWFNrcElDUjBhR2x6TFQ1dVpYTjBaV1JiSWlSbWFXVnNaRTVoYldVaVhWc25kbUZzZFdVblhTQTlJQ1IyY2tacFpXeGtPdzBLQ1FrPSIpKTs="));   if ($total){  $this->tmpCondition=array(); $clAlt="sTot"; $keyValue="Total"; $isreadonly=true;  $vrField = isset($this->totalColumn["$fieldName"])?$this->totalColumn["$fieldName"]:"";  };   $editCondition= (isset($this->edtResult))?$this->edtResult:true;   $rowValue = (isset($vrField) and $this->DG_ajaxid!=7)?(($this->charset=='ISO-8859-1')?$this->putAcutes($vrField):$vrField):$vrField;  $rowValue = (($rowValue=="" or is_null($rowValue)) and $this->DG_ajaxid!=5)?"&nbsp;":$rowValue;  $strReturn = $this->tab(3) . "<td class='dgRow{$clAlt}";  $claux = $stlaux = "";   if (isset($this->cellCondition["$fieldName"]) and !empty($rowRes)){  foreach ($this->cellCondition["$fieldName"] as $key=>$condition){  $this->tmpCondition["$key"] = (!empty($condition))?"if (".strtr($condition,array("['"=>"\$rowRes['")).") { \$claux .= ' '. \"" .(strtr($this->cellStyle["$fieldName"]["$key"],array("['"=>"\$rowRes['")))."\"; }":"";  eval($this->tmpCondition["$key"]);  };  };  $orderedClass = (isset($this->dgOrderData["myOe"][$fieldName]))?"orderedData" . $clAlt : "";   $cellTitle = "";  if (!isset($this->isInternalEditing)){  if ($cutChar>0 and strlen($rowValue)>$cutChar) $cellTitle = " title = '{$rowValue}'";  };   $strReturn.= $claux." {$orderedClass}' {$stlaux} {$cellTitle}>{$this->br}";  $strReturn .= $this->tab(4) . "<div id='{$fieldName}{$this->dgGridID}.-.{$keyValue}' align='".$this->fieldsArray["$fieldName"]["align"]."' ";  if (in_array($this->fieldsArray["$fieldName"]['inputtype'], array(6,7)) or empty($this->ajaxEditable) or !$editCondition or $isreadonly or in_array($dataType,array("link","image","imagelink","calc","chart"))){  if ($dataType=='link') $strReturn.= "class='dgLinks'";  if ($dataType=='calc') $strReturn.= "class='dgCalc'";  }else{  $oc = ($this->typeOfClick==1)?"onclick":"ondblclick";  $strReturn.= "{$oc}='DG_D_edit(this,\"".md5($this->salt.$fieldName.":toEdit:".$keyValue)."\")' ";  };  $strReturn.= ">";   $rowValue = stripslashes($rowValue);  $this->cellTitle = "";   switch ($dataType){  case "select":  $arrMask = explode(":",$mask);  if ($arrMask[0] == "select_nested"){  $toNestValue = "";  foreach($this->nested as $source=>$targetData){  if($targetData['target']==$fieldName){  $toNestValue = $targetData['value'];  break;  };  };  $strSQL = sprintf(str_replace("select_nested:","",$mask),magic_quote($toNestValue));  $maskData = $this->SQL_query($strSQL);  $selData = array();  foreach ($maskData as $arrResult) $selData[$arrResult[0]] = htmlentities($arrResult[1]);  };  $strData = $this->maskdata($rowValue,$mask,$dataType,$selData,$rowRes);  $strReturn .= $strData;   $strValue = (isset($this->isviewing) and $this->isviewing or ($this->DG_ajaxid==7 or $isreadonly))?$strData:$rowValue;  break;  case "date": case "datetime": $rowValue = $strValue = $this->maskdata($rowValue,$mask,$dataType,array(),$rowRes); break;  case "timestamp":  $rowValue = (empty($rowValue) or $rowValue == '&nbsp;') ? 0 : $rowValue;  $rowValue = $strValue = $this->maskdata(date("Y-m-d H:i:s", $rowValue),$mask,$dataType,array(),$rowRes);  if ($total) $rowValue = $strValue = "";  break;  case "link":  list( $type, $fieldNamelist) = explode( ':', $mask);  $strValue ="<a href=\"javascript:".$this->extractLink($fieldNamelist, $rowRes)."\">{$rowValue}</a>{$this->br}";  break;  case 'calc':  $cRowRes=$rowRes; $cMask=$mask;  if (strpos($cMask,'//')===false){  $cMask1=$cMask; $cMask2='2';  }else{  list($cMask1,$cMask2) = explode('//', $cMask); if (empty($cMask2)) $cMask2='2';  };  list($cType,$eCalc) = explode( ':', $cMask1); $eTC=$eCalc;  $eCalc=strtr($eCalc,array("+"=>" ","*"=>" ","-"=>" ","/"=>" ","("=>" ",")"=>" "));  $varExpresion = explode(' ',trim($eCalc));  $eTC=strtr($eTC,array("+"=>" + ","-"=>" - ","/"=>" / ","*"=>" * ","("=>" ( ",")"=>" ) "));  foreach ($varExpresion as $cField){  $vrFieldC = (empty($cRowRes["$cField"]))?0:$cRowRes["$cField"];  if (isset($this->fieldsArray["$cField"]["strfieldName"])) $eTC=str_replace(" ".$cField." ",$vrFieldC, $eTC);  }; $calcRst= ""; eval("\$calcRst = ".$eTC.";");  if ($total){ $rowValue=0; $calcRst=$vrField; }else{ $rowValue=$calcRst; };  $strValue =$this->maskdata($calcRst, $cMask2, "number", array(), $cRowRes); $rowValue=round($rowValue,$this->decimalDigits);  break;  case "password":  $strValue = $rowValue = ($rowValue=="&nbsp;")?"":$rowValue;  break;  case "related":  $sqlQuery = str_replace("related:","",$mask);  $sqlQuery = sprintf($sqlQuery,magic_quote($rowValue));  $arrData = $this->SQL_query($sqlQuery);  $strValue = $rowValue = (isset($arrData[0][0]))?$arrData[0][0]:"";  break;  case "conditional":  $condicion = ""; $endCondition=false;  if (empty($rowRes)){  $ans="";  }else{  foreach($this->fieldsArray["$fieldName"]["select"] as $condition=>$response){  foreach ($rowRes as $k=>$v) $response = str_replace("['{$k}']", $v, $response);  $condicion = (!empty($condition))?"if (".strtr($condition,array("['"=>"\$rowRes['")).") { \$ans = \$response; \$endCondition=true; }else{ \$ans = ''; }":"";  eval($condicion); if($endCondition) break;  };  };  $strValue = $rowValue = $ans;  break;  case 'image': case 'imagelink': $strValue='';  if (!$total){  if ($dataType=="imagelink")  list( $type, $imagedata, $fieldNamelist) = explode( ':', $mask);  else  list( $type, $imagedata) = explode( ':', $mask);  if (!empty($imagedata)) $rowValue=str_replace("%s",str_replace("&nbsp;","",$rowValue),$imagedata);  $pr=""; if (isset($this->fieldsArray[$fieldName]['permissions'])) $pr=$this->fieldsArray["$fieldName"]['permissions']; $IHaveButton=false;  $w= (isset($this->fieldsArray["$fieldName"]["imageWidth"]))?" width='".$this->fieldsArray["$fieldName"]["imageWidth"]."'":"";  $h= (isset($this->fieldsArray["$fieldName"]["imageHeight"]))?" height='".$this->fieldsArray["$fieldName"]["imageHeight"]."'":"";   if ((!isset($this->fieldsArray["$fieldName"]['isblob']) and ((substr($rowValue,strlen($rowValue)-1,1)=="/") or !file_exists($rowValue))) or (isset($this->fieldsArray["$fieldName"]['isblob']) and empty($rowRes[$fieldName]))){  if ($this->show404image)  $strReturn.="<img id='icn_{$this->dgGridID}{$fieldName}.-.{$keyValue}' alt='{$this->message['noimage']}' title='{$this->message['noimage']}' src='" . (isset($this->img_path['noimage'])?$this->img_path['noimage']:$this->imgpath) . "{$this->images['noimage']}'{$this->sl}>{$this->br}";  else{   $strReturn.="<img id='icn_{$this->dgGridID}{$fieldName}.-.{$keyValue}' alt='' title='' src='" . (isset($this->img_path['blank'])?$this->img_path['blank']:$this->imgpath) . "{$this->images['blank']}'{$this->sl}>{$this->br}";  };   if (!empty($pr) and $this->allowed("IU",$pr)){  $strReturn.="<div id='d_icn_{$this->dgGridID}{$fieldName}.-.{$keyValue}'>{$this->br}<input class='dgUploadInput' type='button' value='{$this->message['upload']}' onclick='DG_ui(\"{$fieldName}\",\"{$keyValue}\",\"{$imagedata}\")'{$this->sl}>{$this->br}</div>{$this->br}"; $IHaveButton=true;  };  }else{  $strHeader=$this->DGXtract($strHeader,"<em>","</em>");  if (isset($this->tooltip[$fieldName])){  if (!is_array($this->tooltip[$fieldName])){  $strHeader = addslashes($this->tooltip[$fieldName]);  }else{  $strHeader = addslashes($this->tooltip[$fieldName]["$vrField"]);  };  };   $arrParts = explode(".", $rowValue) ;  $extension = $arrParts[count($arrParts)-1];  if (in_array($extension, array("png","gif","jpg","jpeg"))){   if (isset($this->fieldsArray["$fieldName"]['isblob'])){  $rowValue = "{$this->scriptName}?rand=" . rand(0,9999) . $this->parameters . "&DG_field_img_dsply={$fieldName}&DG_ajaxid{$this->dgGridID}=15&DG_id_img_dsply=" . $rowRes[$this->keyfield] . "&DG_code_img_dsply=" . md5($this->salt . $fieldName . $rowRes[$this->keyfield]);  };   $strReturn.="<img id='icn_{$this->dgGridID}{$fieldName}.-.{$keyValue}' alt='{$strHeader}' title='{$strHeader}' {$w} {$h} src='{$rowValue}' ";  if($dataType=='imagelink')  $strReturn.='class="dgImgLink" onclick="'.$this->extractLink($fieldNamelist, $rowRes).'"';  $strReturn.="{$this->sl}>{$this->br}";  if (isset($rowRes[$this->keyfield]) and isset($this -> postImageData[$fieldName][$rowRes[$this->keyfield]])){  $strReturn .= $this->postImageData[$fieldName][$rowRes[$this->keyfield]];  }  }else{  $strReturn.= $rowValue;  };  };  if (!empty($pr) and $this->allowed("IM",$pr) and !$IHaveButton){  $strReturn.="<div id='d_icn_{$this->dgGridID}{$fieldName}.-.{$keyValue}'>{$this->br}<input class='dgUploadInput' type='button' value='{$this->message['upload']}' onclick='DG_ui(\"{$fieldName}\",\"{$keyValue}\",\"{$imagedata}\")'{$this->sl}>{$this->br}</div>{$this->br}";  };  };  break;  case "bool": case "check": if ($total) {$mask=$rowValue="";}  case "number":  default:  if (!isset($this->isInternalEditing)){  if ($cutChar>0 and strlen($rowValue)>$cutChar) $rowValue = substr($rowValue,0,$cutChar) . "...";  };  unset($this->isInternalEditing);  $strValue = $this->maskdata($rowValue,$mask,$dataType,$selData,$rowRes);  if ($dataType == "number"){  $intCant = (int)$dataType;  $spaces = ($intCant <= 2) ? 2 : $intCant;  $rowValue = number_format((float)str_replace(",",".",$rowValue),$spaces,$this->decimalsep,"");  }  break;  };  if (!isset($this->calcID["$keyValue"]) and $keyValue!='Total') $this->calcID["$keyValue"]=$keyValue;  if (isset($this->isexporting) and $strValue=='&nbsp;') $strValue='';  $this->fldValue=$strValue;  if ($dataType=="select") $strValue = "";  if ($dataType=="password") $strValue = str_repeat("*",strlen($rowValue));  $strReturn.=str_replace("&amp;nbsp;","&nbsp;",$strValue)."</div>{$this->br}";  if (!(empty($this->ajaxEditable) or in_array($dataType,array("link","image","imagelink","chart")))){  $rowInput=($rowValue=="&nbsp;")?"":$rowValue;  $strReturn .= $this->tab(4) . "<input type='hidden' id='i{$this->dgGridID}{$fieldName}.-.{$keyValue}' value=\"".str_replace('"','&quot;',$rowInput)."\"{$this->sl}>{$this->br}";  };  $strReturn .= $this->tab(3) . "</td>{$this->br}";   if (in_array($fieldName, $this->totalize))  $this->totalColumn["$fieldName"] = (isset($this->totalColumn["$fieldName"]))?($this->totalColumn["$fieldName"]+str_replace(",",".", $rowValue)):str_replace(",",".", $rowValue);  return $strReturn;  }    Function tooltip($fieldName, $text){  $this->tooltip[$fieldName]=$text;  }    function setTitle($fldName){  $drawArrows=true;  if ($this->orderArrows and !in_array($this->fieldsArray["$fldName"]['inputtype'], array(2,3,4))){  if (isset($this->fieldsArray["$fldName"]["permissions"])){  if ($this->allowed("R",$this->fieldsArray["$fldName"]["permissions"])){ $drawArrows=false; };  if ($this->allowed("R-",$this->fieldsArray["$fldName"]["permissions"])){ $drawArrows=true; };  };  }else{  $drawArrows=false;  if (isset($this->fieldsArray["$fldName"]["permissions"]) and $this->allowed("R-",$this->fieldsArray["$fldName"]["permissions"])){ $drawArrows=true; };  }  $this->fieldsArray["$fldName"]["ordering"] = $drawArrows; $mup=$mdn=$rac=$o=$arrowName="";  $wo= $this->fieldsArray["$fldName"]["columnwidth"];  $w = intval($wo)-27;  if ($drawArrows){  $mup="<img border='0' src='" . (isset($this->img_path['miniup'])?$this->img_path['miniup']:$this->imgpath) . "{$this->images['miniup']}' class='pointer up' alt='{$this->message['sa']}' title='{$this->message['sa']}' onClick=\"DG_orderby('{$this->fieldsArray[$fldName]['strfieldName']}','ASC',event)\"{$this->sl}>";  $mdn="<img border='0' src='" . (isset($this->img_path['minidown'])?$this->img_path['minidown']:$this->imgpath) . "{$this->images['minidown']}' class='pointer dn' alt='{$this->message['sd']}' title='{$this->message['sd']}' onClick=\"DG_orderby('{$this->fieldsArray[$fldName]['strfieldName']}','DESC',event)\"{$this->sl}>";  };  if (in_array($fldName, $this->dgOrderData["myOrder"]) and !empty($this->dgOrderData["myOe"]["$fldName"])){  $arrowName = (isset($this->img_path[$this->dgOrderData["myOe"]["$fldName"]])?$this->img_path[$this->dgOrderData["myOe"]["$fldName"]]:$this->imgpath).$this->images[$this->dgOrderData["myOe"]["$fldName"]]; $o=" ordered";  $rac="<img border='0' src='$arrowName' alt='".$this->dgOrderData["myOe"]["$fldName"]."' title='".$this->dgOrderData["myOe"]["$fldName"]."' width='9' height='8'{$this->sl}>{$this->br}";  };  $mOver = (isset($this->hideFields) and $this->inColumns and !empty($this->hideFields))?"onclick='this.rm=0' onmouseover='if(DG_gvv(\"DG_uac{$this->dgGridID}\")!=\"s{$this->dgGridID}Div{$fldName}\"){cancelColData(false);closeColumnMenu()};this.rm=1; DG_hss(\"s{$this->dgGridID}Div{$fldName}\",\"block\");DG_hss(\"as{$this->dgGridID}Div{$fldName}\",\"none\")' onmouseout='if (this.rm==1){ DG_hss(\"s{$this->dgGridID}Div{$fldName}\",\"none\");DG_hss(\"as{$this->dgGridID}Div{$fldName}\",\"block\")}'":"";  $dnArrow = (isset($this->hideFields) and $this->inColumns and !empty($this->hideFields))?"<div id='s{$this->dgGridID}Div{$fldName}' style='display:none;float:left' onclick='viewColumnOptions(\"s{$this->dgGridID}Div{$fldName}\", event, \"" . $this->message['columns'] . "\", 0 ); DG_svv(\"DG_uac{$this->dgGridID}\",this.id);' ><img border='0' src='" . (isset($this->img_path['dnarrow'])?$this->img_path['dnarrow']:$this->imgpath) . "{$this->images['dnarrow']}' class='pointer' alt='' title=''{$this->sl}></div>":"";   $header = $this->fieldsArray["$fldName"]['strHeader'];  if (substr($header,strlen($header)-1,1)==":") $header=substr($header,0,strlen($header)-1);   $bck = " background:url($arrowName) no-repeat right 3px;";  $strReturn = $this->tab(4) . "<table border='0' cellpadding='0' cellspacing='0' class='titleContainer{$o}' {$mOver}>{$this->br}";  $strReturn.= $this->tab(5) . "<tr>{$this->br}";  if (!isset($this->orderByTitleClick)) $strReturn.= $this->tab(6) . "<td class='dgArrows up'>{$mup}</td>{$this->br}";  $strReturn.= $this->tab(6) . "<td rowspan='2' style='vertical-align:middle; padding-left:5px; text-align:center;{$bck}'>{$this->br}";  if (!isset($this->orderByTitleClick)){  $strReturn.= $this->tab(7) . $this->columnTitle = $this->putAcutes($header);  }else{  $this->columnTitle = $this->putAcutes($header);  if ($drawArrows){  $onclick = "onClick=\"DG_orderby('{$this->fieldsArray[$fldName]['strfieldName']}','" . ((!isset($this->dgOrderData["myOe"]["$fldName"]) or $this->dgOrderData["myOe"]["$fldName"]=="DESC")?"ASC":"DESC") . "',event); return false;\"";  $strReturn.= $this->tab(7) . "<a href='javascript:void(0)' {$onclick}>" . $this->putAcutes($header) . "</a>";  }else{  $strReturn.= $this->tab(7) . $this->putAcutes($header);  }  }  $strReturn.= $this->tab(6) . "</td>{$this->br}";  $strReturn.= $this->tab(5) . "</tr>{$this->br}";  $strReturn.= $this->tab(5) . "<tr>{$this->br}";  if (!isset($this->orderByTitleClick)) $strReturn.= $this->tab(6) . "<td class='dgArrows dn'>{$mdn}</td>{$this->br}";  $strReturn.= $this->tab(5) . "</tr>{$this->br}";  $strReturn.= $this->tab(4) . "</table>{$this->br}";  return $strReturn;  }    function buildOrderBy(){  $order="";  $this->reqOrder=$this->orderColName; $this->reqOe=$this->orderExpr;  $myOrder = $myOe = array();  if ($this->issetREQUEST("dg_order{$this->dgGridID}")) {  $this->reqOrder=$this->REQUEST("dg_order{$this->dgGridID}");  $this->reqOe=$this->REQUEST("dg_oe{$this->dgGridID}");  };  $this->reqOrder = trim($this->reqOrder);  $myOrder = explode(",",$this->reqOrder); $of=0;  $myOe = explode(",",$this->reqOe);$comma=$myCampos="";  if (!empty($this->reqOrder)){  foreach($myOrder as $orderField){  $orderField = trim($orderField);  if (!empty($orderField) and ($this->validField($orderField) or $this->setOrderby==$orderField)) {  if (strpos($myCampos,"[".$orderField."]")===false){  $order.= $comma.$this->backtick.$orderField.$this->backtick;$comma=",";  $myCampos.="[$orderField]";  $orderExpr = (isset($myOe[$of]))?strtoupper($myOe[$of]):"ASC";  if ($orderExpr!="ASC" and $orderExpr!="DESC") $orderExpr= "ASC";  $order.= " $orderExpr";  $myOe["$orderField"]=$orderExpr;  };  };  $of++;  };  };  $this->orderby =(!empty($order))?" ORDER BY ".$order:"";  $this->dgOrderData = array( 'myOe' => $myOe, 'myOrder' => $myOrder );  $this->strDebug[] = "Order By: ".$this->orderby;  }    function buildWhere(){  if (isset($this->detailsWhere)){  $connector = (!empty($this->where)?" and ":"");  $this->where = $this->where . $connector . $this->detailsWhere;  }  if (!empty($this->where)){  if (strpos(strtolower($this->where),"where")===false){  $this->where = " WHERE {$this->where}";  }  }  if (in_array($this->ss,explode(",",str_replace(":select","",$this->search))) and !empty($this->schrstr)){  $this->schrstr = $this->GetSQLValueString($this->schrstr, $this->fieldsArray[$this->ss]["mask"]);  $this->prefix = (isset($this->searchby_table_prefix))?$this->backtick . $this->searchby_table_prefix . $this->backtick . ".":"";  if (!isset($this->noSearchPercent)) $this->schrstr = str_replace("%",'\%',$this->schrstr);  if (!isset($this->searchMethods[$this->ss])){  $busqueda = "LIKE '%" . my_real_escape_string($this->schrstr) . "%'";  }else{  switch($this->searchMethods[$this->ss]){  case "left": $busqueda = "LIKE '%" . my_real_escape_string($this->schrstr) . "'"; break;  case "in": $busqueda = "LIKE '%" . my_real_escape_string($this->schrstr) . "%'"; break;  case "any": $busqueda = "LIKE '%" . implode("%",explode(" ",my_real_escape_string($this->schrstr))) . "%'"; break;  case "right": $busqueda = "LIKE '" . my_real_escape_string($this->schrstr) . "%'"; break;  case "equal": $busqueda = "='" . my_real_escape_string($this->schrstr) . "'"; break;  default: $busqueda = "LIKE '%" . my_real_escape_string($this->schrstr) . "%'"; break;  }  }  $this->where = ((empty($this->where))?" WHERE (":$this->where." AND (")." {$this->prefix}{$this->backtick}{$this->ss}{$this->backtick} {$busqueda} )";  };  if ($this->DG_ajaxid==7 and $this->dgrtd=="S"){  $arrSelection = explode(",",$this->chksel);  foreach($arrSelection as $key => $value) $arrSelection[$key] = magic_quote(trim($value));  $chksel = implode(",", $arrSelection);  $whereWord = (isset($this -> WhereWord)) ? $this -> WhereWord : " WHERE ";  $this->where = ((empty($this->where))?" {$whereWord} (":$this->where." AND (")." {$this->backtick}{$this->keyfield}{$this->backtick} IN ($chksel))";  };   $this->strDebug[] = "Where: ".$this->where;  }    function buildGroupBy(){  if (!empty($this->groupby)) $this->groupby = " GROUP BY {$this->groupby}";  $this->groupbysimple = $this->groupby;  if (!empty($this->having)) $this->groupby.= " HAVING {$this->having}";  $this->strDebug[] = "Group by: ".$this->groupby;  }    function getButtonsHTML($curCol, $toReturn="", $width=0, $align='center'){  global $keyValue,$rowRes,$clAlt, $claux;  $this->hasBtn = $hasBtn = ($this->addBtn or $this->updBtn or $this->delBtn or $this->chkBtn or $this->allExp or (!empty($this->search))); $wTop=$wBody=0;   if ($this->addBtn and (!isset($this->toolbar) or !$this->toolbar)) $wTop =$this->ButtonWidth;  if ($this->allExp and (!isset($this->toolbar) or !$this->toolbar)) $wTop+=$this->ButtonWidth;  if (!empty($this->search)and (!isset($this->toolbar) or !$this->toolbar)) $wTop+=$this->ButtonWidth;  if ($this->updBtn) $wBody =$this->ButtonWidth;  if ($this->delBtn) $wBody+=$this->ButtonWidth;  if ($this->chkBtn) $wBody+=$this->ButtonWidth;  if (!empty($this->setOrderby)) $wBody+=($this->ButtonWidth*2);  $this->BtnsColWidth = ($wTop>$wBody)?$wTop:$wBody;  $strAdd=$strExp=$strSch="";  $cols = $this->tab() . "<col style='width:%s' align='%s'{$this->sl}>{$this->br}";   if ($hasBtn and $this->btnColumn == $curCol){  switch($toReturn){  case "setTableButtonsWidth":  if (!isset($this->tmpTableWidth)) $this->tmpTableWidth = 0;  $this->tmpTableWidth += intval($this->BtnsColWidth);  break;  case "colhead":  $this->tableWidth += intval($this->BtnsColWidth);  $this->columns++;  return sprintf($cols,($this->BtnsColWidth."px"),$align);  break;  case "header": case "total": case "pagination" :  $class=($toReturn=="header")?"Titles":(($toReturn=="total")?"RowsTot":"PagRow");  if ($this->addBtn){  $strAdd = "<img border='0' src='" . (isset($this->img_path['add'])?$this->img_path['add']:$this->imgpath) . "{$this->images['add']}' alt='{$this->message['add']}' title='{$this->message['add']}' class='dgImgLink' ";  if (!$this->toolbar) $strAdd .= "onclick='{$this->addonClic}'";  $strAdd.= "onmouseover='DG_set_working_grid(\"{$this->dgGridID}\")' {$this->sl}>";  if ($this->getMyOwnButtons) {$this->strAddBtn=$strAdd; $strAdd="&nbsp;";};  };  if ($this->allExp){  $strExp = "<img border='0' src='" . (isset($this->img_path['export'])?$this->img_path['export']:$this->imgpath) . "{$this->images['export']}' alt='{$this->message['export']}' title='{$this->message['export']}' class='dgImgLink' ";  if (!$this->toolbar) $strExp .= "onclick='{$this->exportTo}'";  $strExp.= "onmouseover='DG_set_working_grid(\"{$this->dgGridID}\")' {$this->sl}>";  if ($this->getMyOwnButtons) {$this->strExportBtn=$strExp; $strExp="&nbsp;";};  };  if (!empty($this->search)){  $strSch = "<img border='0' src='" . (isset($this->img_path['search'])?$this->img_path['search']:$this->imgpath) . "{$this->images['search']}' alt='{$this->message['search']}' title='{$this->message['search']}' class='dgImgLink' ";  if (!$this->toolbar) $strSch .= "onclick='{$this->srconClic}'";  $strSch.= "onmouseover='DG_set_working_grid(\"{$this->dgGridID}\")' {$this->sl}>";  if ($this->getMyOwnButtons) {$this->strSearchBtn=$strSch; $strSch="&nbsp;";};  };  if($toReturn=='pagination')  return $this->tab(3) . "<span style='float:right'>".((!empty($this->btnColName))?"{$this->btnColName}<br{$this->sl}>":"")."{$strAdd}{$strExp}{$strSch}</span>{$this->br}";  else  return $this->tab(3) . "<td class='dg{$class}' align='left'>".((!empty($this->btnColName))?"{$this->btnColName}<br{$this->sl}>":"")."{$strAdd}{$strExp}{$strSch}</td>{$this->br}";  break;  case "body":                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJaWFpoYkNoaVlYTmxOalJmWkdWamIyUmxLQ0pFVVc5S1ExRnJTa05UVW1sa1J6VkVZVWR6T1VwSFNqQmliRlozV2tRd2ExbHVVblZTUjFaelVGTlNhV1JITlZaalJEQnJXVzVTZFZKSE5EbEphVWszUkZGdlNrTlJhMHBEVjJ4dFNVTm5hMlJIYUhCamVUQXJaRmhDYTFGdVVuVkpSMFoxV2tOQmEyUkhhSEJqZVRBcldsZFNNRlZ0Vm5wa1YzZ3dTMU5CYTFsdVVuVldXRUpyU1VRd1owcElVbTloV0UxMFVHNVNhRmxwWnpCTFUwRjFTVWhPZDJOdGJIVmtSMWxuUzBOSk9GbFRRbTlqYlZadFVGTmtjVmxZV21oak1rNTVZVmhDTUU5dVduWmhWMUZ2VFVOck4wcDVRbXBpUjBaNlkzb3dibHBIWkVwaVYyUk5ZVmMxY2twNVFuWmliVTV6WVZkT2NsQlRaRGRLU0ZKdllWaE5kRkJ0Vm10a1J6bDFVVEo0Y0Zrek1HNVFhbmh3WWxkaloxbHRPWGxhUjFaNVVGTmpkMHA1UW5wamJVMDVTbmxKWjB4cFFXOWhXRTU2V2xoUmIwcElVbTloV0UxMFVHMXNkRm94T1hkWldGSnZWM2xrYkZwSGJEQktNVEJ3VUhsU01HRkhiSHBNVkRWd1lsZGtabU5IUmpCaFJuTnVXbGRTY0dSRFpHUlBhVkl3WVVkc2VreFVOWEJpVjJSM1dWaFNiMHRUUVhWSlEwbzNTa2hTYjJGWVRYUlFiV3gwV1Zka2JHTXhjMjVhVjFKd1pFTmtaR1pUWTJkWlYzZ3dVRk5rTjBwSVVtOWhXRTEwVUcweGJHTXpUbWhhTWxaaVNqSldhMkZZVVc1WVdEQnVTVWhTY0dSSGVHeFFVMlEzU2toU2IyRllUWFJRYlRGc1l6Tk9hRm95Vm1KS01sWnJZVmhSYmxoWU1HNWxlVkl3WVVkc2VreFVOWHBpU0RBclVFTTVhRkJ1YzJ0a1IyaHdZM2t3SzFsdVNqbEphWGRyWVRKV05WWnRSbk5rVjFWellsZFJNVXREVWpCaFIyeDZURlExZWxsWGVEQk1hVkp5V2xoc1YxbFhlREZhVTJ0d1QzY3dTME5SYTBwRFVXeHdXbWxCYjBwSVVtOWhXRTEwVUcxU2JHSkZTakJpYVVKb1ltMVJaMHBJVW05aFdFMTBVRzFTYkdKR1NteGpNMVp6WkVOclowcEhTakJpYTFKc1lrTkJPVWxEVWpCaFIyeDZURlExTUZsWFNXOU9RMnRuVEdsQ2VtTklTbkJpYmxKdFNVTm5hVkJIUldkaFNFcHNXbW93Ym1GdFJqSlpXRTVxWTIxc2QyUkVjREppTW14clMwUkJjRTk1WTJkWk1uaG9Zek5OT1VveVVtNVRWekZ1VkVkc2RXRjVZMmRpTWpWcVlrZHNhbUY2TUc1bGVWSXdZVWRzZWt4VU5XdGFWM2gyWW10T2MyRlhUamxLZWpRNFlWY3hia2xIU25aamJWSnNZMm93YmsxRFkyZGpNMHBxVUZOamFVbEROR2RMUjJ4Nll6SldNRXREVWpCaFIyeDZURlExY0dKWFpHWmpSMFl3WVVaemJscFlTbWhqTWxWdVdGTnJMMHBJVW05aFdFMTBVRzFzZEZveE9YZFpXRkp2VjNsa2JHTnRSbnBhVTJSa1QybFNNR0ZIYkhwTVZEVndZbGRrZDFsWVVtOUxVMEYxU1VOS04wcElVbTloV0UxMFVHMXNkRmxYWkd4ak1YTnVXbGhLYUdNeVZXNVlXREJ1U1VkR2MyUkVNRzVsZVZJd1lVZHNla3hVTlhSYVdFNTZXVmRrYkZkNVpHdGFWM2hzWkVkVmJsaFlNRzVKU0ZKd1pFZDRiRkJUWkRkS1NGSnZZVmhOZEZCdE1XeGpNMDVvV2pKV1lrb3lVbXhpUjFZd1dsTmtaR1pUWkRkS1NGSnZZVmhOZEZCdVRuTm1WRFE0VERKRksyVjVVakJoUjJ4NlRGUTFhV051TUdsTVExSnlXbGhzVjFsWGVERmFVM2gwV2tSVmIwcElVbTloV0UxMFVHNU9hR0pJVVhWS1IzUnNaVlphYUdKSVZteExVMnMzUkZGdlNrTlJhMHBEVjJ4dFNVTm5hMlJIYUhCamVUQXJXVEpvY2xGdVVuVkxVMEZyV1c1U2RWRXlhSEpKUkRCblNraFNiMkZZVFhSUWJsSm9XV2xuTUV0VFFYVkpTRTUzWTIxc2RXUkhXV2RMUTBrNFdWTkNiMk50Vm0xUVUyUnhXVmhhYUdNeVRubGhXRUl3VDI1YWRtRlhVVzlOUTJzM1NubENhbUpIUm5wamVqQnVXa2RrU21KWFpFMWhWelZ5U25sQ2RtSnRUbk5oVjA1eVVGTmtOMHBJVW05aFdFMTBVRzVhY0ZwWE9YVlJNbmh3V1RNd2JsQnFlSEJpVjJObldXMDVlVnBIVm5sUVUyTjNTbmxDZW1OdFRUbEtlVWxuVEdsQmIyRllUbnBhV0ZGdlNraFNiMkZZVFhSUWJXeDBXakU1ZDFsWVVtOVhlV1F5WVZkV00wb3hNSEJRZVZJd1lVZHNla3hVTlhCaVYyUm1ZMGRHTUdGR2MyNWtiV3hzWkhsa1pFOXBVakJoUjJ4NlRGUTFjR0pYWkhkWldGSnZTMU5CZFVsRFNqZEtTRkp2WVZoTmRGQnRiSFJaVjJSc1l6RnpibVJ0Ykd4a2VXUmtabE5qWjFsWGVEQlFVMlEzU2toU2IyRllUWFJRYlRGc1l6Tk9hRm95Vm1KS00xcHdXbGhqYmxoWU1HNUpTRkp3WkVkNGJGQlRaRGRLU0ZKdllWaE5kRkJ0TVd4ak0wNW9XakpXWWtvelduQmFXR051V0Znd2JrbEljMnRrUjJod1kza3dLMk15ZURsUWFuZDJXVlExTjBwSVVtOWhXRTEwVUcxS2VXWlRTWE5LUjNSc1pWWmFhR0pJVm14TVJ6RnJUbE5uYTJSSGFIQmplVEFyWXpKR2MyUkROR3RoTWxZMVZtMUdjMlJYVlhCTFZITk9RMmRyU2tOUmEwcGhWMWxuUzBOR2JHSllRakJsVTJkclpFZG9jR041TUN0ak1sWXdWRE5LYTFwWVNtbGxVMnR3U1VOU2FXUkhOVlpqUTBFNVNVTlNNR0ZIYkhwTVZEVXdXVmRKYjA1RGEyZE1hVUo2WTBoS2NHSnVVbTFMUTBrNFdWTkNiMk50Vm0xUVUyUnhXVmhhYUdNeVRubGhXRUl3VDI1YWRtRlhVVzlOUTJzM1NubENhbUpIUm5wamVqQnVXa2RrU21KWFpFMWhWelZ5U25sQ2RtSnRUbk5oVjA1eVVGTmtOMHBJVW05aFdFMTBVRzVXZDJJeU5VUmlSMnhxWmxOaksxQkhiSFJhZVVKcFlqTkthMXBZU1RsS2VrRnVTVWhPZVZsNk1HNUphVUYxU1VOb2NHTXpUbXhrUTJkclpFZG9jR041TUN0aFZ6RnVXRE5DYUdSSGFHSktNa1o1WTI1V2Qwb3hNSEJRZVZJd1lVZHNla3hVTlhCaVYyUm1ZMGRHTUdGR2MyNVpXRXA1WkZoQmJsaFViMnRrUjJod1kza3dLMkZYTVc1alIwWXdZVU5yWjB4cFFXbGxlVkl3WVVkc2VreFVOWEJpVjBadVdsaE9Za295Um5samJsWjNTakV4T1VwNVFtaGlTRkU1U2pOemEyUkhhSEJqZVRBcllsZFdlbU15Um01YVZuTnVXVmhLZVdSWVFXNVlXREJ1U1VoU2NHUkhlR3hRVTJRM1NraFNiMkZZVFhSUWJURnNZek5PYUZveVZtSktNa1o1WTI1V2Qwb3hNVGxLTTNOclpFZG9jR041TUN0ak1uZzVVR3AzZGxsVU5UZEtTRkp2WVZoTmRGQnRTbmxtVTBselNraEtkbVF4U214ak1YTnJaRWRvY0dONU1DdGpNbFl3VkROS2ExcFlTbWxsVmpCd1QzY3dTME5SYTBwRFVXeHdXbWxCYjBsWFZuUmpTRkkxUzBOU01HRkhiSHBNVkRWNldsaFNVR050VW14amJVbzFTMU5yWjBwSFNqQmlhMUoxU1VRd1owcElVbTloV0UxMFVHNVNhRmxwWnpCTFUwRjFTVWhPZDJOdGJIVmtSMWx2U1dwNGFFbEhhSGxhVjFrNVNqSndhR1J0Um5wWk0wcHdZMGhSTm1SdE9YQmFRMmQzUzFSemJrbEhUbk5aV0U1NlVGTmthMW93YkhSYU1IaHdZbTF6YmtsSE9YVlpNbmh3V1RKek9Vb3pjMnRrUjJod1kza3dLMXBITlhaaWEwNXpZVmRPT1VwNk5EaGhWekZ1U1VkS2RtTnRVbXhqYWpCdVRVTmpaMk16U21wUVUyTnBTVU0wWjB0SGJIcGpNbFl3UzBOU01HRkhiSHBNVkRWd1lsZGtabU5IUmpCaFJuTnVXVmhLZVZwSE5HNVlVMnN2U2toU2IyRllUWFJRYld4MFdqRTVkMWxZVW05WGVXUm9ZMjVLYTJKcFpHUlBhVkl3WVVkc2VreFVOWEJpVjJSM1dWaFNiMHRUUVhWSlEwbzNTa2hTYjJGWVRYUlFiV3gwV1Zka2JHTXhjMjVaV0VwNVdrYzBibGhZTUc1SlIwWnpaRVF3Ym1WNVVqQmhSMng2VEZRMWRGcFlUbnBaVjJSc1YzbGthR051U210aWFXUmtabE5qWjJSSGJEQmlSMVU1U2pOemEyUkhhSEJqZVRBcllsZFdlbU15Um01YVZuTnVXVmhLZVZwSE5HNVlXREJ1WlhsU01HRkhiSHBNVkRWNllrZ3dLMUJET1doUWJuTnJaRWRvY0dONU1DdFpia281U1dsM2EyTnRPVE5WYlZaNlYzbFNNR0ZIYkhwTVZEVjZXbGhTVUdOdFVteGpiVW8xV0ZOck4wUlJiMHBEVVd0S1ExTlNlbVJJU2xOYVdGSXhZMjAwWjFCVFFXdGtSMmh3WTNrd0syUkhSbWxMUkUxd1NVTTBaMGxxZURCYVEwSnFZa2RHZW1ONk1HNWFSMlJUWWpOa04wcEhUbk5SVjNnd1psTmpaMGxxYzJkRVVXOUtRMUZyU2tOVFVtbGtXRkl3WWpJMWVrbEVNR2RLU0ZKdllWaE5kRkJ0U2pCaWF6bDVXa2RXZVU5M01FdERVV3RLUTFGcmExbHVWakJrUnpsMVkzbEJPVWxJVGpCamJEbDVXbGhDYzFsWFRteExRMHBpVWxZd2FVeERVbWxrUnpWV1kwZFJjMHBIU2pGa1NGSjJZbTVOY0U5M01FdERVV3RLUTFGcmExbHVWakJrUnpsMVkzbEJPVWxJVGpCamJEbDVXbGhDYzFsWFRteExRMHBpVm13d2FVeERVbWxrUnpWRVlVZHpjMHBIU2pGa1NGSjJZbTVOY0U5M01FdERVV3RLUTFGcmExbHVWakJrUnpsMVkzbEJPVWxJVGpCamJEbDVXbGhDYzFsWFRteExRMHBpVWtZd2FVeERVbWxrUnpWRldsZDNjMHBIU2pGa1NGSjJZbTVOY0U5M01FdERVV3RLUTFGcmExbHVWakJrUnpsMVkzbEJPVWxJVGpCamJEbDVXbGhDYzFsWFRteExRMHBpVmxoQ1pFbHBkMnRaYmxKMVZsaEJjMHBIU2pGa1NGSjJZbTVOY0U5M01FdERVV3RLUTFGcmExbHVWakJrUnpsMVkzbEJPVWxJVGpCamJEbDVXbGhDYzFsWFRteExRMHBpVWtjMVpFbHBkMnRaYmxKMVVrYzBjMHBIU2pGa1NGSjJZbTVOY0U5M01FdERVV3RLUTFGcmEyTXpVbmxWYlZZd1pGaEtkVXhxTUdsSlJEVTNTa2hTYjJGWVRYUlFiVXA1WmxoemExbHVWakJrUnpsMVl6TXdhVTkzTUV0RFVXdEtRMUZyYTJNelVubFZiVll3WkZoS2RVbERORGxKUTFJd1lVZHNla3hVTlRCWlYwbHZUWGxyWjB4cFFXbFFSMngxWTBoV01FbElValZqUjFVNVNqSm9jRnBIVW14aWFXTm5ZVmRST1VveVVtNWxlVkl3WVVkc2VreFVOV3RhTUdSNVlWZFNTbEpJTVVSaFJ6bHFaWGxTY2xwWWJGZFpWM2d4V2xnd2JrbElXbWhpU0Zac1VGTmthMW94U25aa00wNDNTa2RPYzFGWGVEQm1WbEpUU1VoemExa3llR2hrV0dnNVNqTnphMlJIYUhCamVUQXJZeko0T1ZCdWMydGtSMmh3WTNrd0sxbHVTamxKYW5OT1EybEJaMGxEUVdkSlEwRm5TVU5CWjBsRFFXZEpRMEZuU1VOQloweDViMmRLU0ZKdllWaE5kRkJ1VW1oWmFXZHdTVU0wYVZCRE9UQmFSRFUzU2toU2IyRllUWFJRYlVwNVpsTkpOMGxEYjNaRVVXOW5TVU5CWjBsRFFXZEpRMEZuU1VOQlowbERRV2RKUTBGblNVTlNlbVJJU2xOYVdGSXhZMjAwWjB4cU1HZEtTRkp2WVZoTmRGQnVVbWhaYVdkNlMxTkJkVWxEU1RoTU0xSnJVRzV6YTJSSGFIQmplVEFyV1c1S09VbHFjMDVEWjJ0S1ExRnJTaUlwS1RzPSIpKTs="));  return $strReturn;  break;  };  }else{  if ($toReturn=="cols") {  $this->columns++;  $this->tableWidth += intval($width);  return sprintf($cols,$width,$align);  }else if ($toReturn == "setTableWidth"){  if (!isset($this->tmpTableWidth)) $this->tmpTableWidth = 0;  $this->tmpTableWidth += intval($width);  }  };  return "";  }    function issetREQUEST($variable){  if (strtolower($this->methodForm)=="post"){  if (isset($_POST[$variable])) return true;  }else{  if (isset($_GET[$variable])) return true;  };  return false;  }    function REQUEST($variable){  if (strtolower($this->methodForm)=="post"){  if (isset($_POST["$variable"])) return $_POST["$variable"]; else return "";  }else{  if (isset($_GET["$variable"])) return $_GET["$variable"]; else return "";  };  }    function validField($strfieldName){  if (in_array($strfieldName, $this->getFields())) return true; else return false;  }   function virtualField($fieldName = ""){  if (!isset($this->virtualFields)) $this->virtualFields = array();  $this->virtualFields[$fieldName] = $fieldName;  }    function getFields($filter='',$screen='*'){  $arrFilter = explode(",",$filter); $arrField = array();  foreach($this->fieldsArray as $value) {  $p=(isset($value["permissions"]))?$value["permissions"]:"";  if($screen!="*" and (strpos($p,$screen)!==false)){  isset($this->virtualFields[$value["strfieldName"]]);  $this->fieldsArray[$value["strfieldName"]]["inputtype"]=(strpos($p,$screen."-")!==false) ? 2 : 0;  }   if (strpos($p,$screen."-")!==false and isset($this->virtualFields[$value["strfieldName"]])){  $ignoreField = true;  $this->fieldsArray[$value["strfieldName"]]["inputtype"] = 4;  }   if ((empty($filter) or in_array($value["inputtype"], $arrFilter)) and !isset($ignoreField))  $arrField[] = $value["strfieldName"];  unset($ignoreField);  };  return $arrField;  }    function allowed($action,$permissions){  if (empty($permissions)) return true;  if (strpos(strtoupper($permissions),strtoupper($action))===false) return false; else return true;  }    function setDetailsGrid($gridName, $fieldName){  $this->subGrid = $gridName;  $this->relField = $fieldName;  }    function setMasterRelation($relationField){   $suffix = ((isset($_GET['dg_det_id']))?$_GET['dg_det_id']:(isset($_POST['dg_det_id'])?$_POST['dg_det_id']:0));  $newSuffix = "";  for ($n=0; $n <= strlen($suffix); $n++){  $c = substr($suffix,$n,1);  if (in_array($c, $this->validName)) $newSuffix .= $c;  }   $this->dgGridID = "sd_" . $this->dgGridID . $newSuffix;  $this->isDetails = true;  $this->DG_ajaxid = $this->getAjaxID();  if ($this->DG_ajaxid==7 and isset($_GET['DG_ajaxid'.$this->dgGridID])) $this->methodForm='get';  $this->detailsWhere = sprintf("({$this->backtick}{$relationField}{$this->backtick} = %s)",$this->magic_quote($this->REQUEST('dg_det_id')));  $this->linkparam("&dg_det_id=" . $this->REQUEST('dg_det_id'));  return $this->REQUEST('dg_det_id');  }    function putAcutes($strText){  return $strText;  if (empty($strText) or strtolower($this->sqlcharset) != '') return $strText;  if ($this->returnEntities) return htmlentities($strText);  $strText = strtr($strText,array(chr(225)=>"&aacute;", chr(233)=>"&eacute;", chr(237)=>"&iacute;", chr(243)=>"&oacute;",  chr(250)=>"&uacute;", chr(193)=>"&Aacute;", chr(201)=>"&Eacute;", chr(205)=>"&Iacute;",  chr(211)=>"&Oacute;", chr(218)=>"&Uacute;", chr(209)=>"&Ntilde;", chr(241)=>"&ntilde;",  chr(176)=>"&deg;" , chr(186)=>"&ordm;" ,  chr(192)=>'&Agrave;', chr(193)=>'&Aacute;', chr(194)=>'&Acirc;' , chr(195)=>'&Atilde;',  chr(196)=>'&Auml;' , chr(197)=>'&Aring;' , chr(198)=>'&AElig;' , chr(199)=>'&Ccedil;',  chr(200)=>'&Egrave;', chr(201)=>'&Eacute;', chr(202)=>'&Ecirc;' , chr(203)=>'&Euml;' ,  chr(204)=>'&Igrave;', chr(205)=>'&Iacute;', chr(206)=>'&Icirc;' , chr(207)=>'&Iuml;' ,  chr(208)=>'&ETH;' , chr(209)=>'&Ntilde;', chr(210)=>'&Ograve;', chr(211)=>'&Oacute;',  chr(212)=>'&Ocirc;' , chr(213)=>'&Otilde;', chr(214)=>'&Ouml;' , chr(216)=>'&Oslash;',  chr(217)=>'&Ugrave;', chr(218)=>'&Uacute;', chr(219)=>'&Ucirc;' , chr(220)=>'&Uuml;' ,  chr(221)=>'&Yacute;', chr(222)=>'&THORN;' , chr(223)=>'&szlig;' , chr(224)=>'&agrave;',  chr(225)=>'&aacute;', chr(226)=>'&acirc;' , chr(227)=>'&atilde;', chr(228)=>'&auml;' ,  chr(229)=>'&aring;' , chr(230)=>'&aelig;' , chr(231)=>'&ccedil;', chr(232)=>'&egrave;',  chr(233)=>'&eacute;', chr(234)=>'&ecirc;' , chr(235)=>'&euml;' , chr(236)=>'&igrave;',  chr(237)=>'&iacute;', chr(238)=>'&icirc;' , chr(239)=>'&iuml;' , chr(240)=>'&eth;' ,  chr(241)=>'&ntilde;', chr(242)=>'&ograve;', chr(243)=>'&oacute;', chr(244)=>'&ocirc;' ,  chr(245)=>'&otilde;', chr(246)=>'&ouml;' , chr(248)=>'&oslash;', chr(249)=>'&ugrave;',  chr(250)=>'&uacute;', chr(251)=>'&ucirc;' , chr(252)=>'&uuml;' , chr(253)=>'&yacute;',  chr(254)=>'&thorn;' , chr(255)=>'&yuml;'  )); return $strText;  }    function maskdata($value,$mask,$datatype,$arrSelect,$row){  switch ($datatype){  case "number" : return $this->number_mask($value,$mask); break;  case "date" : return $this->date_mask ($value,$mask); break;  case "timestamp":  $arrTmp = explode(":", $mask);  if (isset($arrTmp[3]))  return $this->datetime_mask($value,$mask);  else  return $this->date_mask ($value,$mask);  break;  case "datetime" : return $this->datetime_mask($value,$mask); break;  case "check" : if (strpos($mask,":")>0){ $arrMask=explode(":",$mask); $value=(empty($value))?0:$value; return $arrMask[$value+1]; }; break;  case "password" : return str_repeat("*",strlen($value)); break;  case "select" : if (is_array($arrSelect) && $value!='' && isset($arrSelect["$value"])) return (empty($arrSelect["$value"]) ? "&nbsp;" : $arrSelect["$value"]); else return $value; break;  default :  $returnEntities = true;  if (isset($this->currentFieldName)){  if (isset($this->noEntities[$this->currentFieldName])) $returnEntities = false;  unset($this->currentFieldName);  }  if (strtolower($this->sqlcharset) != ''){  $value = utf8_decode(utf8_encode($value));  }else{  $value = ($returnEntities)?htmlentities($value):$value;  };  return $value;  break;  };  }    function number_mask($value,$mask){  if (is_null($value) or !is_numeric($value)) return $value;  $moneySign=$this->moneySign; $decimalSep = $this->decimalsep;  if (strpos($mask,":")>0){  $arrMask=explode(":",$mask); $mask=$arrMask[0];  $moneySign = (empty($arrMask[1]))?$moneySign :$arrMask[1];  $decimalSep = (empty($arrMask[2]))?$decimalSep:$arrMask[2];  };  $thousandSep = ($decimalSep==".")?",":".";  switch ($mask){  case "0": case "1": case "2": case "3": case "4": $retValue = sprintf("%s", number_format($value,$mask,$decimalSep,$thousandSep)); break;  case 'money': $retValue = sprintf ("%s&nbsp;%s", $moneySign, number_format($value,$this->decimalDigits,$decimalSep,$thousandSep)) ; break;  case 'count': case 'integer': case 'unsigned': $retValue=sprintf ('%s', number_format($value,0,$decimalSep,$thousandSep)) ; break;  case 'percentage': $value=$value*100; $retValue=sprintf ('%s ', number_format($value,$this->decimalDigits,$decimalSep,$thousandSep)).'%' ; break;  case 'promille': $value=$value*1000;$retValue=sprintf ('%s &permil;', number_format($value,$this->decimalDigits,$decimalSep,$thousandSep)) ; break;  default: $retValue = number_format($value,2,$decimalSep,$thousandSep); break;  };  return $retValue;  }    function date_mask($value,$mask){  $value = substr($value,0,10);   if ($value == $this->nullDateFormat) return "&nbsp;";  if ($value != "") {  $format=$separator="";  if (strpos($mask,":")>0){  $arrMask = explode(':',$mask);  $format = (empty($arrMask[1]))?$format :$arrMask[1];  $separator= (empty($arrMask[2]))?$separator:$arrMask[2];  };  $arrDdate = $this->datecheck($value, 'ymd', '-', $format, $separator);  if ($arrDdate != false) $value = $arrDdate['todate'] ;  };   return $value;  }    function datetime_mask($value,$mask){  if ($value == $this->nullDateFormat . ' 00:00:00') return ($this->nullDateFormat=="")?"&nbsp;":$this->nullDateFormat;  if ($value != "") {  $format=$separator=""; $timeformat="His,:";  if (strpos($mask,":")>0){  $arrMask = explode(':',$mask);  $format = (empty($arrMask[1]))?$format :$arrMask[1];  $separator= (empty($arrMask[2]))?$separator:$arrMask[2];  $timeformat= (empty($arrMask[3]))?$timeformat:$arrMask[3];  if (empty($format)) $format=$this->defaultdateformat;  if (empty($separator)) $separator=$this->defaultdateseparator;  list($timeformat,$timeseparator) = explode(",",$timeformat);  if (empty($timeseparator)) $timeseparator=":";  };  $dateValue = substr($value,0,10);  $timeValue = substr($value,11,8);  $arrDdate = $this->datecheck($dateValue, 'ymd', '-', $format, $separator);  $strTtime = $this->timecheck($timeValue, 'His', ':', $timeformat, $timeseparator);  if ($arrDdate != false) $value = $arrDdate['todate'];  };  return $value.(!empty($strTtime)?" ".$strTtime:"");  }    function timecheck($time,$format='His',$separator=':',$xf098addf2aee16206a799ca4619b6828='His',$toseparator=':') {  $format = ($format=='')?'his':strtolower($format);  if (count($datebits=explode($separator,$time))!=3) return false;  $hour = intval($datebits[strpos($format, 'h')]);  $minute= intval($datebits[strpos($format, 'i')]);  $second= intval($datebits[strpos($format, 's')]);  $hour = ($hour <10)?'0'.$hour:$hour;  $hour24 = $hour;  $hour12 = ($hour >12)?($hour-12):$hour;  $ampm = ($hour >12)?"PM":"AM";  $minute = ($minute <10)?'0'.$minute:$minute;  $second = ($second <10)?'0'.$second:$second;  $xf098addf2aee16206a799ca4619b6828 = str_replace("H",$hour24,$xf098addf2aee16206a799ca4619b6828);  $xf098addf2aee16206a799ca4619b6828 = str_replace("h",$hour12,$xf098addf2aee16206a799ca4619b6828);  $xf098addf2aee16206a799ca4619b6828 = str_replace("i",$toseparator.$minute,$xf098addf2aee16206a799ca4619b6828);  $xf098addf2aee16206a799ca4619b6828 = str_replace("s",$toseparator.$second,$xf098addf2aee16206a799ca4619b6828);  $xf098addf2aee16206a799ca4619b6828 = str_replace("a",$ampm,$xf098addf2aee16206a799ca4619b6828);  return $xf098addf2aee16206a799ca4619b6828;  }    function datecheck($date,$format='ymd',$separator='-',$xf098addf2aee16206a799ca4619b6828='mdy',$toseparator='-') {  $format = ($format=='')?'ymd':strtolower($format);  $xf098addf2aee16206a799ca4619b6828 = strtolower($xf098addf2aee16206a799ca4619b6828);  if (count($datebits=explode($separator,$date))!=3) return false;  $year = intval($datebits[strpos($format, 'y')]);  $month = intval($datebits[strpos($format, 'm')]);  $day = intval($datebits[strpos($format, 'd')]);  $year = ($year <10 )?'200'.$year:$year;  $year = ($year <50 )?'20' .$year:$year;  $year = ($year <100)?'19' .$year:$year;  $month = ($month <10)?'0' .$month:$month;  $day = ($day <10) ?'0' .$day:$day;  if (($month<1) or ($month>12) or ($day<1) or (($month==2) and ($day>28+(!($year%4))-(!($year%100))+(!($year%400)))) or ($day>30+(($month>7)^($month&1)))) return false;  $arrDate= array('y' => $year, 'm' => $month, 'd' => $day, 'iso' => $year.'-'.$month.'-'.$day, 'fromdate'=> $date, 'todate' => '' );  $c0 = substr($xf098addf2aee16206a799ca4619b6828,0,1);  $c1 = substr($xf098addf2aee16206a799ca4619b6828,1,1);  $c2 = substr($xf098addf2aee16206a799ca4619b6828,2,1);   $arrTmp = array();  if (!empty($c0) and isset($arrDate[$c0])) $arrTmp[] = $arrDate[$c0];  if (!empty($c1) and isset($arrDate[$c1])) $arrTmp[] = $arrDate[$c1];  if (!empty($c2) and isset($arrDate[$c2])) $arrTmp[] = $arrDate[$c2];  $arrDate['todate'] = implode($toseparator, $arrTmp);  return $arrDate;  }    function extractLink ($valuelist, $rowRes){  $valuelist = str_replace("\\,","[comma]",$valuelist); $action=$valuelist;  if (strpos($valuelist,',')>0){  $xe2275dcae5d20850a185c77bea1ee7b5=explode(',',$valuelist);  $action=$xe2275dcae5d20850a185c77bea1ee7b5[0];  array_shift($xe2275dcae5d20850a185c77bea1ee7b5);  $i=0; $comma = "";  foreach ($xe2275dcae5d20850a185c77bea1ee7b5 as $therow){  $xe2275dcae5d20850a185c77bea1ee7b5[$i]= $comma."'".addslashes($rowRes[$xe2275dcae5d20850a185c77bea1ee7b5[$i]])."'";  $comma=","; $i++;  };  $action=vsprintf($action,$xe2275dcae5d20850a185c77bea1ee7b5);  };  $action=str_replace('"',"'",$action);  $action=str_replace("'","'",$action);  $action=str_replace("[comma]",",",$action);  return $action;  }   function GetSQLValueString($x093958f56a9365ed6b2f6fea4602f998, $theType, $theDefinedValue = 1, $theNotDefinedValue = 0) {  $x093958f56a9365ed6b2f6fea4602f998 = (!get_magic_quotes_gpc())?addslashes($x093958f56a9365ed6b2f6fea4602f998):$x093958f56a9365ed6b2f6fea4602f998;  $format = ''; $separator = $this->decimalsep;  if (strpos($theType,':')>0){  $arrMask = explode(':',$theType); $theType=$arrMask[0];  $format =(empty($arrMask[1]))?$format:$arrMask[1];  $separator=(empty($arrMask[2]))?$separator:$arrMask[2];  $tseparator=(isset($arrMask[3]))?$arrMask[3]:"";  $arrTimeSet=explode(",",$tseparator);  $timeFormat=$arrTimeSet[0];  $timeSeparator=(isset($arrTimeSet[1])?$arrTimeSet[1]:"");  if (empty($timeSeparator) and !empty($timeFormat)) $timeSeparator=":";  };  $thousandSep = ($separator==".")?",":".";  switch ($theType) {  case "textarea": case "text": case "textarea_tinymce":  $x093958f56a9365ed6b2f6fea4602f998 = ($x093958f56a9365ed6b2f6fea4602f998!="")?$x093958f56a9365ed6b2f6fea4602f998:"";  break;  case "0" : case "signed" : case 'count' : case "integer":  if ($x093958f56a9365ed6b2f6fea4602f998 == "")  $x093958f56a9365ed6b2f6fea4602f998 = 0;  else{  $x093958f56a9365ed6b2f6fea4602f998 = str_replace($thousandSep, '', $x093958f56a9365ed6b2f6fea4602f998);  $x093958f56a9365ed6b2f6fea4602f998 = str_replace($separator, '.', $x093958f56a9365ed6b2f6fea4602f998);  $x093958f56a9365ed6b2f6fea4602f998 = intval($x093958f56a9365ed6b2f6fea4602f998);  };  break;  case "money":  $value= $x093958f56a9365ed6b2f6fea4602f998;  while (!(is_numeric(substr($value,0,1)) or substr($value,0,1) == '-')){ $value=substr($value,1,20); if (empty($value)) $value=0;}  $x093958f56a9365ed6b2f6fea4602f998 = $value;  case "1" : case "2" : case "3" : case "4" : case "float" : case "double":  if ($x093958f56a9365ed6b2f6fea4602f998 == "")  $x093958f56a9365ed6b2f6fea4602f998 = 0;  else{  $x093958f56a9365ed6b2f6fea4602f998 = str_replace($thousandSep, '', $x093958f56a9365ed6b2f6fea4602f998);  $x093958f56a9365ed6b2f6fea4602f998 = str_replace($separator, '.', $x093958f56a9365ed6b2f6fea4602f998);  $x093958f56a9365ed6b2f6fea4602f998 = floatval($x093958f56a9365ed6b2f6fea4602f998);  };  break;  case "percentage":  if ($x093958f56a9365ed6b2f6fea4602f998 == "")  $x093958f56a9365ed6b2f6fea4602f998 = 0;  else{  $x093958f56a9365ed6b2f6fea4602f998 = trim(str_replace('%', '', $x093958f56a9365ed6b2f6fea4602f998));  $x093958f56a9365ed6b2f6fea4602f998 = str_replace($thousandSep, '', $x093958f56a9365ed6b2f6fea4602f998);  $x093958f56a9365ed6b2f6fea4602f998 = str_replace($separator, '.', $x093958f56a9365ed6b2f6fea4602f998);  $x093958f56a9365ed6b2f6fea4602f998 = floatval($x093958f56a9365ed6b2f6fea4602f998)/100;  };  break;  case "promille":  if ($x093958f56a9365ed6b2f6fea4602f998 == "")  $x093958f56a9365ed6b2f6fea4602f998 = 0;  else{  $x093958f56a9365ed6b2f6fea4602f998 = trim(str_replace('', '', $x093958f56a9365ed6b2f6fea4602f998));  $x093958f56a9365ed6b2f6fea4602f998 = str_replace($thousandSep, '', $x093958f56a9365ed6b2f6fea4602f998);  $x093958f56a9365ed6b2f6fea4602f998 = str_replace($separator, '.', $x093958f56a9365ed6b2f6fea4602f998);  $x093958f56a9365ed6b2f6fea4602f998 = floatval($x093958f56a9365ed6b2f6fea4602f998)/1000;  };  break;  case "date":  if($x093958f56a9365ed6b2f6fea4602f998 != ""){  $adate = $this->datecheck($x093958f56a9365ed6b2f6fea4602f998,$format,$separator);  $x093958f56a9365ed6b2f6fea4602f998 = ($adate != false and $x093958f56a9365ed6b2f6fea4602f998 != $this->nullDateFormat)?$adate['iso']:$this->nullDateFormat;  }else  $x093958f56a9365ed6b2f6fea4602f998 = $this->nullDateFormat;  break;  case "datetime": case "timestamp":  if($x093958f56a9365ed6b2f6fea4602f998 != ""){  $arrValue = explode(" ",$x093958f56a9365ed6b2f6fea4602f998);  $adate = $this->datecheck($arrValue[0],$format,$separator);  $atime = (isset($arrValue[1]))?$this->timecheck($arrValue[1],$timeFormat,$timeSeparator):"";  $x093958f56a9365ed6b2f6fea4602f998 = ($adate != false and $x093958f56a9365ed6b2f6fea4602f998 != $this->nullDateFormat)?$adate['iso']." ".$atime:$this->nullDateFormat;  }else  $x093958f56a9365ed6b2f6fea4602f998 = $this->nullDateFormat;  if ($theType == "timestamp") $x093958f56a9365ed6b2f6fea4602f998 = strtotime($x093958f56a9365ed6b2f6fea4602f998);  break;  case "bool": case "boolean": case "check":  $x093958f56a9365ed6b2f6fea4602f998 = ($x093958f56a9365ed6b2f6fea4602f998==""||$x093958f56a9365ed6b2f6fea4602f998=="0"||$x093958f56a9365ed6b2f6fea4602f998=="false")?$theNotDefinedValue:$theDefinedValue;  break;  default:   $x093958f56a9365ed6b2f6fea4602f998 = ($x093958f56a9365ed6b2f6fea4602f998!="") ? $x093958f56a9365ed6b2f6fea4602f998 : "";  break;  };  return $x093958f56a9365ed6b2f6fea4602f998;  }   function dateformat($mask){  $mask = strtolower($mask);  list($nada,$format,$separator) = explode(":",$mask);  $format = substr($format,0,1).$separator.substr($format,1,1).$separator.substr($format,2,1);  $format = str_replace("d","dd",$format);$format = str_replace("m","mm",$format);return str_replace("y","yyyy",$format);  }   function DGXtract($strHeader,$strInic,$strFin){  $pInicial = strpos($strHeader, $strInic);  $strFinal = substr($strHeader,$pInicial+strlen($strInic),strlen($strHeader));  $pFinal = strpos($strFinal, $strFin);  $strFinal = substr($strFinal,0,$pFinal);  return $strFinal;  }   function left($str, $length) {return substr($str, 0, $length);}   function right($str, $length) {return substr($str, -$length); }   function magic_quote($txt, $isNumeric=false){  return magic_quote($txt, $isNumeric);  }   function tab($amount=1){  $strRet = '';  for ($n=1;$n<=$amount;$n++){  $strRet .= $this->tb;  };  return $strRet;  } }  if (!function_exists('magic_quote')) {  function magic_quote($value, $isNumeric = false)  {  global $removeNull;  return magic_new($value, $isNumeric, "");  } } function magic_new($value, $isNumeric=false, $fieldType="") {                                                                                                      eval(base64_decode(                                                                                                                                                                                                        "
ZXZhbChiYXNlNjRfZGVjb2RlKCJEUW9nSUNBZ0pIWmhiSFZsSUQwZ2MzUnlhWEJ6YkdGemFHVnpLQ1IyWVd4MVpTazdEUW9nSUNBZ2FXWWdLQ1JwYzA1MWJXVnlhV01wSUhzTkNpQWdJQ0FnSUNBZ2FXWWdLSE4wY25CdmN5Z2lMaUlzSUNSMllXeDFaU2tnSVQwOUlHWmhiSE5sS1NBa2RtRnNkV1VnUFNCbWJHOWhkRlpoYkNna2RtRnNkV1VwT3lCbGJITmxJQ1IyWVd4MVpTQTlJR2x1ZEhaaGJDZ2tkbUZzZFdVcE93MEtJQ0FnSUgwZ1pXeHpaU0I3RFFvZ0lDQWdJQ0FnSUdsbUlDaG1kVzVqZEdsdmJsOWxlR2x6ZEhNb0oyZGxkRjl0WVdkcFkxOXhkVzkwWlhOZlozQmpKeWtnWVc1a0lHZGxkRjl0WVdkcFkxOXhkVzkwWlhOZlozQmpLQ2twSUNSMllXeDFaU0E5SUhOMGNtbHdjMnhoYzJobGN5Z2tkbUZzZFdVcE93MEtJQ0FnSUNBZ0lDQXZLaUJTWlhacGMyRnlJSEJ2Y25GMVpTQjJZV3hwWkdGaVlTQnNiM01nYm5Wc2JDQXFMdzBLSUNBZ0lDQWdJQ0JwWmlBb2FYTnpaWFFvSkhKbGJXOTJaVTUxYkd3cElHRnVaQ0FrY21WdGIzWmxUblZzYkNCaGJtUWdjM1J5ZEc5c2IzZGxjaWdrZG1Gc2RXVXBJRDA5SUNkdWRXeHNKeWtOQ2lBZ0lDQWdJQ0FnSUNBZ0lDUjJZV3gxWlNBOUlHMTVYM0psWVd4ZlpYTmpZWEJsWDNOMGNtbHVaeWdrZG1Gc2RXVXBPdzBLSUNBZ0lDQWdJQ0JsYkhObElIc05DaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDZ2tkbUZzZFdVZ1BUMGdKekVuSUc5eUlDUjJZV3gxWlNBOVBTQW5NQ2NwSUhzTkNpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCcFppQW9KR1pwWld4a1ZIbHdaU0E5UFNBaWJuVnRZbVZ5SWlrTkNpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdKSFpoYkhWbElEMGdLR2x1ZENra2RtRnNkV1U3RFFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnWld4elpRMEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FrZG1Gc2RXVWdQU0FpSnlJZ0xpQnRlVjl5WldGc1gyVnpZMkZ3WlY5emRISnBibWNvSkhaaGJIVmxLU0F1SUNJbklqc05DaUFnSUNBZ0lDQWdJQ0FnSUgwZ1pXeHpaU0I3RFFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSkhaaGJIVmxJRDBnSWljaUlDNGdiWGxmY21WaGJGOWxjMk5oY0dWZmMzUnlhVzVuS0NSMllXeDFaU2tnTGlBaUp5STdEUW9nSUNBZ0lDQWdJQ0FnSUNCOURRb2dJQ0FnSUNBZ0lIME5DaUFnSUNCOURRb2dJQ0FnIikpOw=="));  return $value; }  if (!function_exists('my_real_escape_string')){  function my_real_escape_string($text){  return strtr($text, array( "\x00" => '\x00', "\n" => '\n', "\r" => '\r', '\\' => '\\\\', "'" => "\'", '"' => '\"', "\x1a" => '\x1a'));  } }  if (!function_exists('set_DG_Header')){  function set_DG_Header($pathJS="js/",$pathCSS="css/",$closetag=" /", $skin="", $pathSkins=""){  $retStr= "\n<link type='text/css' rel='stylesheet' href='{$pathCSS}dgstyle.css'{$closetag}>";  if (!empty($skin))  $retStr.= "\n<link type='text/css' rel='stylesheet' href='{$pathSkins}skins/{$skin}/css/dgstyle.css'{$closetag}>";  $retStr.= "\n<link type='text/css' rel='stylesheet' href='{$pathCSS}dgcalendar.css'{$closetag}>";  $retStr.= "\n<!--[if IE ]><link type='text/css' rel='stylesheet' href='{$pathCSS}dgstyleIE.css'{$closetag}><![endif]-->";  $retStr.= "\n<!--[if IE 6]><link type='text/css' rel='stylesheet' href='{$pathCSS}dgstyleIE6.css'{$closetag}><![endif]-->";  $retStr.= "\n<script type='text/javascript' language='javascript' src='{$pathJS}mmscripts.js'></script>";  $retStr.= "\n<script type='text/javascript' language='javascript' src='{$pathJS}dgcalendar.js'></script>";  $retStr.= "\n<script type='text/javascript' language='javascript' src='{$pathJS}dgscripts.js'></script>";  return $retStr;  } }  if (!function_exists('pre')){  function pre($data){  echo "<pre>";  print_r($data);  echo "</pre>";  } }  ?>